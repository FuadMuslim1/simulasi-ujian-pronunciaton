(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();function d0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var sf={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function d1(){if(Qp)return wl;Qp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:l,type:r,key:d,ref:u!==void 0?u:null,props:h}}return wl.Fragment=n,wl.jsx=s,wl.jsxs=s,wl}var Yp;function m1(){return Yp||(Yp=1,sf.exports=d1()),sf.exports}var R=m1(),af={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function g1(){if(Fp)return Tt;Fp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.iterator;function P(j){return j===null||typeof j!="object"?null:(j=M&&j[M]||j["@@iterator"],typeof j=="function"?j:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function vt(j,K,nt){this.props=j,this.context=K,this.refs=Z,this.updater=nt||et}vt.prototype.isReactComponent={},vt.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},vt.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function bt(){}bt.prototype=vt.prototype;function _t(j,K,nt){this.props=j,this.context=K,this.refs=Z,this.updater=nt||et}var it=_t.prototype=new bt;it.constructor=_t,tt(it,vt.prototype),it.isPureReactComponent=!0;var ut=Array.isArray;function lt(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function S(j,K,nt){var st=nt.ref;return{$$typeof:l,type:j,key:K,ref:st!==void 0?st:null,props:nt}}function O(j,K){return S(j.type,K,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function V(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(nt){return K[nt]})}var T=/\/+/g;function dt(j,K){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):K.toString(36)}function Qt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(lt,lt):(j.status="pending",j.then(function(K){j.status==="pending"&&(j.status="fulfilled",j.value=K)},function(K){j.status==="pending"&&(j.status="rejected",j.reason=K)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function G(j,K,nt,st,Et){var wt=typeof j;(wt==="undefined"||wt==="boolean")&&(j=null);var jt=!1;if(j===null)jt=!0;else switch(wt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(j.$$typeof){case l:case n:jt=!0;break;case w:return jt=j._init,G(jt(j._payload),K,nt,st,Et)}}if(jt)return Et=Et(j),jt=st===""?"."+dt(j,0):st,ut(Et)?(nt="",jt!=null&&(nt=jt.replace(T,"$&/")+"/"),G(Et,K,nt,"",function(Os){return Os})):Et!=null&&(D(Et)&&(Et=O(Et,nt+(Et.key==null||j&&j.key===Et.key?"":(""+Et.key).replace(T,"$&/")+"/")+jt)),K.push(Et)),1;jt=0;var Ne=st===""?".":st+":";if(ut(j))for(var ie=0;ie<j.length;ie++)st=j[ie],wt=Ne+dt(st,ie),jt+=G(st,K,nt,wt,Et);else if(ie=P(j),typeof ie=="function")for(j=ie.call(j),ie=0;!(st=j.next()).done;)st=st.value,wt=Ne+dt(st,ie++),jt+=G(st,K,nt,wt,Et);else if(wt==="object"){if(typeof j.then=="function")return G(Qt(j),K,nt,st,Et);throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return jt}function W(j,K,nt){if(j==null)return j;var st=[],Et=0;return G(j,st,"","",function(wt){return K.call(nt,wt,Et++)}),st}function mt(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(nt){(j._status===0||j._status===-1)&&(j._status=1,j._result=nt)},function(nt){(j._status===0||j._status===-1)&&(j._status=2,j._result=nt)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var Bt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Yt={map:W,forEach:function(j,K,nt){W(j,function(){K.apply(this,arguments)},nt)},count:function(j){var K=0;return W(j,function(){K++}),K},toArray:function(j){return W(j,function(K){return K})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Tt.Activity=C,Tt.Children=Yt,Tt.Component=vt,Tt.Fragment=s,Tt.Profiler=u,Tt.PureComponent=_t,Tt.StrictMode=r,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return x.H.useMemoCache(j)}},Tt.cache=function(j){return function(){return j.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(j,K,nt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var st=tt({},j.props),Et=j.key;if(K!=null)for(wt in K.key!==void 0&&(Et=""+K.key),K)!A.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(st[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)st.children=nt;else if(1<wt){for(var jt=Array(wt),Ne=0;Ne<wt;Ne++)jt[Ne]=arguments[Ne+2];st.children=jt}return S(j.type,Et,st)},Tt.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Tt.createElement=function(j,K,nt){var st,Et={},wt=null;if(K!=null)for(st in K.key!==void 0&&(wt=""+K.key),K)A.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Et[st]=K[st]);var jt=arguments.length-2;if(jt===1)Et.children=nt;else if(1<jt){for(var Ne=Array(jt),ie=0;ie<jt;ie++)Ne[ie]=arguments[ie+2];Et.children=Ne}if(j&&j.defaultProps)for(st in jt=j.defaultProps,jt)Et[st]===void 0&&(Et[st]=jt[st]);return S(j,wt,Et)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(j){return{$$typeof:y,render:j}},Tt.isValidElement=D,Tt.lazy=function(j){return{$$typeof:w,_payload:{_status:-1,_result:j},_init:mt}},Tt.memo=function(j,K){return{$$typeof:v,type:j,compare:K===void 0?null:K}},Tt.startTransition=function(j){var K=x.T,nt={};x.T=nt;try{var st=j(),Et=x.S;Et!==null&&Et(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(lt,Bt)}catch(wt){Bt(wt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),x.T=K}},Tt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Tt.use=function(j){return x.H.use(j)},Tt.useActionState=function(j,K,nt){return x.H.useActionState(j,K,nt)},Tt.useCallback=function(j,K){return x.H.useCallback(j,K)},Tt.useContext=function(j){return x.H.useContext(j)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(j,K){return x.H.useDeferredValue(j,K)},Tt.useEffect=function(j,K){return x.H.useEffect(j,K)},Tt.useEffectEvent=function(j){return x.H.useEffectEvent(j)},Tt.useId=function(){return x.H.useId()},Tt.useImperativeHandle=function(j,K,nt){return x.H.useImperativeHandle(j,K,nt)},Tt.useInsertionEffect=function(j,K){return x.H.useInsertionEffect(j,K)},Tt.useLayoutEffect=function(j,K){return x.H.useLayoutEffect(j,K)},Tt.useMemo=function(j,K){return x.H.useMemo(j,K)},Tt.useOptimistic=function(j,K){return x.H.useOptimistic(j,K)},Tt.useReducer=function(j,K,nt){return x.H.useReducer(j,K,nt)},Tt.useRef=function(j){return x.H.useRef(j)},Tt.useState=function(j){return x.H.useState(j)},Tt.useSyncExternalStore=function(j,K,nt){return x.H.useSyncExternalStore(j,K,nt)},Tt.useTransition=function(){return x.H.useTransition()},Tt.version="19.2.3",Tt}var Kp;function Zf(){return Kp||(Kp=1,af.exports=g1()),af.exports}var ct=Zf();const m0=d0(ct);var rf={exports:{}},Cl={},lf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function p1(){return Xp||(Xp=1,(function(l){function n(G,W){var mt=G.length;G.push(W);t:for(;0<mt;){var Bt=mt-1>>>1,Yt=G[Bt];if(0<u(Yt,W))G[Bt]=W,G[mt]=Yt,mt=Bt;else break t}}function s(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],mt=G.pop();if(mt!==W){G[0]=mt;t:for(var Bt=0,Yt=G.length,j=Yt>>>1;Bt<j;){var K=2*(Bt+1)-1,nt=G[K],st=K+1,Et=G[st];if(0>u(nt,mt))st<Yt&&0>u(Et,nt)?(G[Bt]=Et,G[st]=mt,Bt=st):(G[Bt]=nt,G[K]=mt,Bt=K);else if(st<Yt&&0>u(Et,mt))G[Bt]=Et,G[st]=mt,Bt=st;else break t}}return W}function u(G,W){var mt=G.sortIndex-W.sortIndex;return mt!==0?mt:G.id-W.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();l.unstable_now=function(){return d.now()-y}}var _=[],v=[],w=1,C=null,M=3,P=!1,et=!1,tt=!1,Z=!1,vt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function it(G){for(var W=s(v);W!==null;){if(W.callback===null)r(v);else if(W.startTime<=G)r(v),W.sortIndex=W.expirationTime,n(_,W);else break;W=s(v)}}function ut(G){if(tt=!1,it(G),!et)if(s(_)!==null)et=!0,lt||(lt=!0,V());else{var W=s(v);W!==null&&Qt(ut,W.startTime-G)}}var lt=!1,x=-1,A=5,S=-1;function O(){return Z?!0:!(l.unstable_now()-S<A)}function D(){if(Z=!1,lt){var G=l.unstable_now();S=G;var W=!0;try{t:{et=!1,tt&&(tt=!1,bt(x),x=-1),P=!0;var mt=M;try{e:{for(it(G),C=s(_);C!==null&&!(C.expirationTime>G&&O());){var Bt=C.callback;if(typeof Bt=="function"){C.callback=null,M=C.priorityLevel;var Yt=Bt(C.expirationTime<=G);if(G=l.unstable_now(),typeof Yt=="function"){C.callback=Yt,it(G),W=!0;break e}C===s(_)&&r(_),it(G)}else r(_);C=s(_)}if(C!==null)W=!0;else{var j=s(v);j!==null&&Qt(ut,j.startTime-G),W=!1}}break t}finally{C=null,M=mt,P=!1}W=void 0}}finally{W?V():lt=!1}}}var V;if(typeof _t=="function")V=function(){_t(D)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,dt=T.port2;T.port1.onmessage=D,V=function(){dt.postMessage(null)}}else V=function(){vt(D,0)};function Qt(G,W){x=vt(function(){G(l.unstable_now())},W)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(G){G.callback=null},l.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},l.unstable_getCurrentPriorityLevel=function(){return M},l.unstable_next=function(G){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var mt=M;M=W;try{return G()}finally{M=mt}},l.unstable_requestPaint=function(){Z=!0},l.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=M;M=G;try{return W()}finally{M=mt}},l.unstable_scheduleCallback=function(G,W,mt){var Bt=l.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,G){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=mt+Yt,G={id:w++,callback:W,priorityLevel:G,startTime:mt,expirationTime:Yt,sortIndex:-1},mt>Bt?(G.sortIndex=mt,n(v,G),s(_)===null&&G===s(v)&&(tt?(bt(x),x=-1):tt=!0,Qt(ut,mt-Bt))):(G.sortIndex=Yt,n(_,G),et||P||(et=!0,lt||(lt=!0,V()))),G},l.unstable_shouldYield=O,l.unstable_wrapCallback=function(G){var W=M;return function(){var mt=M;M=W;try{return G.apply(this,arguments)}finally{M=mt}}}})(of)),of}var Zp;function y1(){return Zp||(Zp=1,lf.exports=p1()),lf.exports}var uf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function v1(){if(Jp)return Ye;Jp=1;var l=Zf();function n(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:w}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(_,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(_,v,null,w)},Ye.flushSync=function(_){var v=d.T,w=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=w,r.d.f()}},Ye.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Ye.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ye.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var w=v.as,C=y(w,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,P=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:M,fetchPriority:P}):w==="script"&&r.d.X(_,{crossOrigin:C,integrity:M,fetchPriority:P,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ye.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=y(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Ye.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,C=y(w,v.crossOrigin);r.d.L(_,w,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ye.preloadModule=function(_,v){if(typeof _=="string")if(v){var w=y(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Ye.requestFormReset=function(_){r.d.r(_)},Ye.unstable_batchedUpdates=function(_,v){return _(v)},Ye.useFormState=function(_,v,w){return d.H.useFormState(_,v,w)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var $p;function _1(){if($p)return uf.exports;$p=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),uf.exports=v1(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function E1(){if(Wp)return Cl;Wp=1;var l=y1(),n=Zf(),s=_1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function v(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,a=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return _(c),t;if(f===a)return _(c),e;f=f.sibling}throw Error(r(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,E=c.child;E;){if(E===i){g=!0,i=c,a=f;break}if(E===a){g=!0,a=c,i=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===i){g=!0,i=f,a=c;break}if(E===a){g=!0,a=f,i=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function w(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=w(t),e!==null)return e;t=t.sibling}return null}var C=Object.assign,M=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),vt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var T=Symbol.for("react.client.reference");function dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===T?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case vt:return"Profiler";case Z:return"StrictMode";case ut:return"Suspense";case lt:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case _t:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case it:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return e=t.displayName||null,e!==null?e:dt(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return dt(t(e))}catch{}}return null}var Qt=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],Yt=-1;function j(t){return{current:t}}function K(t){0>Yt||(t.current=Bt[Yt],Bt[Yt]=null,Yt--)}function nt(t,e){Yt++,Bt[Yt]=t.current,t.current=e}var st=j(null),Et=j(null),wt=j(null),jt=j(null);function Ne(t,e){switch(nt(wt,e),nt(Et,t),nt(st,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?mp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=mp(e),t=gp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(st),nt(st,t)}function ie(){K(st),K(Et),K(wt)}function Os(t){t.memoizedState!==null&&nt(jt,t);var e=st.current,i=gp(e,t.type);e!==i&&(nt(Et,t),nt(st,i))}function ga(t){Et.current===t&&(K(st),K(Et)),jt.current===t&&(K(jt),Sl._currentValue=mt)}var pa,ya;function Gn(t){if(pa===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);pa=e&&e[1]||"",ya=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ya}var Sr=!1;function Vs(t,e){if(!t||Sr)return"";Sr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(H){var k=H}Reflect.construct(t,[],F)}else{try{F.call()}catch(H){k=H}t.call(F.prototype)}}else{try{throw Error()}catch(H){k=H}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),B=E.split(`
`);for(c=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(a===N.length||c===B.length)for(a=N.length-1,c=B.length-1;1<=a&&0<=c&&N[a]!==B[c];)c--;for(;1<=a&&0<=c;a--,c--)if(N[a]!==B[c]){if(a!==1||c!==1)do if(a--,c--,0>c||N[a]!==B[c]){var Q=`
`+N[a].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=a&&0<=c);break}}}finally{Sr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Gn(i):""}function Ar(t,e){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==e&&e!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Vs(t.type,!1);case 11:return Vs(t.type.render,!1);case 1:return Vs(t.type,!0);case 31:return Gn("Activity");default:return""}}function xr(t){try{var e="",i=null;do e+=Ar(t,i),i=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ye=Object.prototype.hasOwnProperty,De=l.unstable_scheduleCallback,Bi=l.unstable_cancelCallback,ac=l.unstable_shouldYield,Jl=l.unstable_requestPaint,Ze=l.unstable_now,Is=l.unstable_getCurrentPriorityLevel,Rr=l.unstable_ImmediatePriority,wr=l.unstable_UserBlockingPriority,ki=l.unstable_NormalPriority,rc=l.unstable_LowPriority,$l=l.unstable_IdlePriority,Wl=l.log,to=l.unstable_setDisableYieldValue,Vn=null,Le=null;function _n(t){if(typeof Wl=="function"&&to(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Vn,t)}catch{}}var ce=Math.clz32?Math.clz32:no,eo=Math.log,va=Math.LN2;function no(t){return t>>>=0,t===0?32:31-(eo(t)/va|0)|0}var Qn=256,Ms=262144,ve=4194304;function Yn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fn(t,e,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=a&134217727;return E!==0?(a=E&~f,a!==0?c=Yn(a):(g&=E,g!==0?c=Yn(g):i||(i=E&~t,i!==0&&(c=Yn(i))))):(E=a&~f,E!==0?c=Yn(E):g!==0?c=Yn(g):i||(i=a&~t,i!==0&&(c=Yn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function In(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function lc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function Kn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function js(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oc(t,e,i,a,c,f){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(i=g&~i;0<i;){var Q=31-ce(i),F=1<<Q;E[Q]=0,N[Q]=-1;var k=B[Q];if(k!==null)for(B[Q]=null,Q=0;Q<k.length;Q++){var H=k[Q];H!==null&&(H.lane&=-536870913)}i&=~F}a!==0&&zs(t,a,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function zs(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-ce(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|i&261930}function Cr(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var a=31-ce(i),c=1<<a;c&e|t[a]&e&&(t[a]|=e),i&=~c}}function Nr(t,e){var i=e&-e;return i=(i&42)!==0?1:Us(i),(i&(t.suspendedLanes|e))!==0?0:i}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function so(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function Mn(t,e){var i=W.p;try{return W.p=t,e()}finally{W.p=i}}var jn=Math.random().toString(36).slice(2),_e="__reactFiber$"+jn,Me="__reactProps$"+jn,Xn="__reactContainer$"+jn,_a="__reactEvents$"+jn,uc="__reactListeners$"+jn,ao="__reactHandles$"+jn,ro="__reactResources$"+jn,Zn="__reactMarker$"+jn;function Ea(t){delete t[_e],delete t[Me],delete t[_a],delete t[uc],delete t[ao]}function Jn(t){var e=t[_e];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Xn]||i[_e]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Tp(t);t!==null;){if(i=t[_e])return i;t=Tp(t)}return e}t=i,i=t.parentNode}return null}function En(t){if(t=t[_e]||t[Xn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function cn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function $n(t){var e=t[ro];return e||(e=t[ro]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ee(t){t[Zn]=!0}var Dr=new Set,Or={};function Wn(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(Or[t]=e,t=0;t<e.length;t++)Dr.add(e[t])}var Vr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Mr={};function lo(t){return ye.call(Mr,t)?!0:ye.call(Ir,t)?!1:Vr.test(t)?Mr[t]=!0:(Ir[t]=!0,!1)}function ba(t,e,i){if(lo(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function hn(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function be(t,e,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+a)}}function je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jr(t,e,i){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ft(t){if(!t._valueTracker){var e=qi(t)?"checked":"value";t._valueTracker=jr(t,e,""+t[e])}}function Ls(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),a="";return t&&(a=qi(t)?t.checked?"true":"false":t.value),t=a,t!==i?(e.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function en(t){return t.replace(Bs,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ta(t,e,i,a,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+je(e)):t.value!==""+je(e)&&(t.value=""+je(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?zr(t,g,je(e)):i!=null?zr(t,g,je(i)):a!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+je(E):t.removeAttribute("name")}function oo(t,e,i,a,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Ft(t);return}i=i!=null?""+je(i):"",e=e!=null?""+je(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=E?t.checked:!!a,t.defaultChecked=!!a,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function zr(t,e,i){e==="number"&&ei(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Hi(t,e,i,a){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&a&&(t[i].defaultSelected=!0)}else{for(i=""+je(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function uo(t,e,i){if(e!=null&&(e=""+je(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+je(i):""}function Pi(t,e,i,a){if(e==null){if(a!=null){if(i!=null)throw Error(r(92));if(Qt(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),e=i}i=je(e),t.defaultValue=i,a=t.textContent,a===i&&a!==""&&a!==null&&(t.value=a),Ft(t)}function nn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(t,e,i){var a=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,i):typeof i!="number"||i===0||co.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Lr(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var c in e)a=e[c],e.hasOwnProperty(c)&&i[c]!==a&&Ur(t,c,a)}else for(var f in e)e.hasOwnProperty(f)&&Ur(t,f,e[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var Br=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,ni=null;function ks(t){var e=En(t);if(e&&(t=e.stateNode)){var i=t[Me]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ta(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+en(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var a=i[e];if(a!==t&&a.form===t.form){var c=a[Me]||null;if(!c)throw Error(r(90));Ta(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)a=i[e],a.form===t.form&&Ls(a)}break t;case"textarea":uo(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Hi(t,!!i.multiple,e,!1)}}}var xa=!1;function Yi(t,e,i){if(xa)return t(e,i);xa=!0;try{var a=t(e);return a}finally{if(xa=!1,(Qi!==null||ni!==null)&&(au(),Qi&&(e=Qi,t=ni,ni=Qi=null,ks(e),t)))for(e=0;e<t.length;e++)ks(t[e])}}function Un(t,e){var i=t.stateNode;if(i===null)return null;var a=i[Me]||null;if(a===null)return null;i=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Tn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{qs=!1}var ii=null,kr=null,Hs=null;function qr(){if(Hs)return Hs;var t,e=kr,i=e.length,a,c="value"in ii?ii.value:ii.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var g=i-t;for(a=1;a<=g&&e[i-a]===c[f-a];a++);return Hs=c.slice(t,1<a?1-a:void 0)}function Ps(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function Ln(){return!1}function Be(t){function e(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_i:Ln,this.isPropagationStopped=Ln,this}return C(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Be(Ei),Fi=C({},Ei,{view:0,detail:0}),Hr=Be(Fi),Ki,Ra,ai,wa=C({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Ki=t.screenX-ai.screenX,Ra=t.screenY-ai.screenY):Ra=Ki=0,ai=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Pr=Be(wa),Gs=C({},wa,{dataTransfer:0}),fo=Be(Gs),mo=C({},Fi,{relatedTarget:0}),Qs=Be(mo),Gr=C({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),go=Be(Gr),Ca=C({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),po=Be(Ca),yo=C({},Ei,{data:0}),ri=Be(yo),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eo[t])?!!e[t]:!1}function Xi(){return bo}var Je=C({},Fi,{key:function(t){if(t.key){var e=vo[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=Be(Je),So=C({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=Be(So),o=C({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),m=Be(o),p=C({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Be(p),U=C({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),J=C({},Ei,{newState:0,oldState:0}),xt=Be(J),he=[9,13,27,32],Pt=Tn&&"CompositionEvent"in window,se=null;Tn&&"documentMode"in document&&(se=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!se,li=Tn&&(!Pt||se&&8<se&&11>=se),Bn=" ",kn=!1;function Ys(t,e){switch(t){case"keyup":return he.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function Uv(t,e){switch(t){case"compositionend":return Na(e);case"keypress":return e.which!==32?null:(kn=!0,Bn);case"textInput":return t=e.data,t===Bn&&kn?null:t;default:return null}}function Lv(t,e){if(Da)return t==="compositionend"||!Pt&&Ys(t,e)?(t=qr(),Hs=kr=ii=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return li&&e.locale!=="ko"?null:e.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bv[t.type]:e==="textarea"}function Rd(t,e,i,a){Qi?ni?ni.push(a):ni=[a]:Qi=a,e=fu(e,"onChange"),0<e.length&&(i=new si("onChange","change",null,i,a),t.push({event:i,listeners:e}))}var Qr=null,Yr=null;function kv(t){op(t,0)}function Ao(t){var e=cn(t);if(Ls(e))return t}function wd(t,e){if(t==="change")return e}var Cd=!1;if(Tn){var cc;if(Tn){var hc="oninput"in document;if(!hc){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),hc=typeof Nd.oninput=="function"}cc=hc}else cc=!1;Cd=cc&&(!document.documentMode||9<document.documentMode)}function Dd(){Qr&&(Qr.detachEvent("onpropertychange",Od),Yr=Qr=null)}function Od(t){if(t.propertyName==="value"&&Ao(Yr)){var e=[];Rd(e,Yr,t,bn(t)),Yi(kv,e)}}function qv(t,e,i){t==="focusin"?(Dd(),Qr=e,Yr=i,Qr.attachEvent("onpropertychange",Od)):t==="focusout"&&Dd()}function Hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Yr)}function Pv(t,e){if(t==="click")return Ao(e)}function Gv(t,e){if(t==="input"||t==="change")return Ao(e)}function Qv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:Qv;function Fr(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!ye.call(e,c)||!fn(t[c],e[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Id(t,e){var i=Vd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=e&&a>=e)return{node:i,offset:e-t};t=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Vd(i)}}function Md(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Md(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ei(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=ei(t.document)}return e}function fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Yv=Tn&&"documentMode"in document&&11>=document.documentMode,Oa=null,dc=null,Kr=null,mc=!1;function zd(t,e,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mc||Oa==null||Oa!==ei(a)||(a=Oa,"selectionStart"in a&&fc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Kr&&Fr(Kr,a)||(Kr=a,a=fu(dc,"onSelect"),0<a.length&&(e=new si("onSelect","select",null,e,i),t.push({event:e,listeners:a}),e.target=Oa)))}function Fs(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Va={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},gc={},Ud={};Tn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Ks(t){if(gc[t])return gc[t];if(!Va[t])return t;var e=Va[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Ud)return gc[t]=e[i];return t}var Ld=Ks("animationend"),Bd=Ks("animationiteration"),kd=Ks("animationstart"),Fv=Ks("transitionrun"),Kv=Ks("transitionstart"),Xv=Ks("transitioncancel"),qd=Ks("transitionend"),Hd=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function qn(t,e){Hd.set(t,e),Wn(e,[t])}var xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],Ia=0,yc=0;function Ro(){for(var t=Ia,e=yc=Ia=0;e<t;){var i=An[e];An[e++]=null;var a=An[e];An[e++]=null;var c=An[e];An[e++]=null;var f=An[e];if(An[e++]=null,a!==null&&c!==null){var g=a.pending;g===null?c.next=c:(c.next=g.next,g.next=c),a.pending=c}f!==0&&Pd(i,c,f)}}function wo(t,e,i,a){An[Ia++]=t,An[Ia++]=e,An[Ia++]=i,An[Ia++]=a,yc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function vc(t,e,i,a){return wo(t,e,i,a),Co(t)}function Xs(t,e){return wo(t,null,null,e),Co(t)}function Pd(t,e,i){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,a=f.alternate,a!==null&&(a.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-ce(i),t=f.hiddenUpdates,a=t[c],a===null?t[c]=[e]:a.push(e),e.lane=i|536870912),f):null}function Co(t){if(50<pl)throw pl=0,wh=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ma={};function Zv(t,e,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,i,a){return new Zv(t,e,i,a)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,e){var i=t.alternate;return i===null?(i=dn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Gd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function No(t,e,i,a,c,f){var g=0;if(a=t,typeof t=="function")_c(t)&&(g=1);else if(typeof t=="string")g=e1(t,i,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=dn(31,i,e,c),t.elementType=S,t.lanes=f,t;case tt:return Zs(i.children,c,f,e);case Z:g=8,c|=24;break;case vt:return t=dn(12,i,e,c|2),t.elementType=vt,t.lanes=f,t;case ut:return t=dn(13,i,e,c),t.elementType=ut,t.lanes=f,t;case lt:return t=dn(19,i,e,c),t.elementType=lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _t:g=10;break t;case bt:g=9;break t;case it:g=11;break t;case x:g=14;break t;case A:g=16,a=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=dn(g,i,e,c),e.elementType=t,e.type=a,e.lanes=f,e}function Zs(t,e,i,a){return t=dn(7,t,a,e),t.lanes=i,t}function Ec(t,e,i){return t=dn(6,t,null,e),t.lanes=i,t}function Qd(t){var e=dn(18,null,null,0);return e.stateNode=t,e}function bc(t,e,i){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Yd=new WeakMap;function xn(t,e){if(typeof t=="object"&&t!==null){var i=Yd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:xr(e)},Yd.set(t,e),e)}return{value:t,source:e,stack:xr(e)}}var ja=[],za=0,Do=null,Xr=0,Rn=[],wn=0,Zi=null,oi=1,ui="";function Si(t,e){ja[za++]=Xr,ja[za++]=Do,Do=t,Xr=e}function Fd(t,e,i){Rn[wn++]=oi,Rn[wn++]=ui,Rn[wn++]=Zi,Zi=t;var a=oi;t=ui;var c=32-ce(a)-1;a&=~(1<<c),i+=1;var f=32-ce(e)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,oi=1<<32-ce(e)+c|i<<c|a,ui=f+t}else oi=1<<f|i<<c|a,ui=t}function Tc(t){t.return!==null&&(Si(t,1),Fd(t,1,0))}function Sc(t){for(;t===Do;)Do=ja[--za],ja[za]=null,Xr=ja[--za],ja[za]=null;for(;t===Zi;)Zi=Rn[--wn],Rn[wn]=null,ui=Rn[--wn],Rn[wn]=null,oi=Rn[--wn],Rn[wn]=null}function Kd(t,e){Rn[wn++]=oi,Rn[wn++]=ui,Rn[wn++]=Zi,oi=e.id,ui=e.overflow,Zi=t}var ke=null,ee=null,It=!1,Ji=null,Cn=!1,Ac=Error(r(519));function $i(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(xn(e,t)),Ac}function Xd(t){var e=t.stateNode,i=t.type,a=t.memoizedProps;switch(e[_e]=t,e[Me]=a,i){case"dialog":Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":case"embed":Dt("load",e);break;case"video":case"audio":for(i=0;i<vl.length;i++)Dt(vl[i],e);break;case"source":Dt("error",e);break;case"img":case"image":case"link":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"input":Dt("invalid",e),oo(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Dt("invalid",e);break;case"textarea":Dt("invalid",e),Pi(e,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||a.suppressHydrationWarning===!0||fp(e.textContent,i)?(a.popover!=null&&(Dt("beforetoggle",e),Dt("toggle",e)),a.onScroll!=null&&Dt("scroll",e),a.onScrollEnd!=null&&Dt("scrollend",e),a.onClick!=null&&(e.onclick=zn),e=!0):e=!1,e||$i(t,!0)}function Zd(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ke=ke.return}}function Ua(t){if(t!==ke)return!1;if(!It)return Zd(t),It=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Hh(t.type,t.memoizedProps)),i=!i),i&&ee&&$i(t),Zd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=bp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=bp(t)}else e===27?(e=ee,fs(t.type)?(t=Fh,Fh=null,ee=t):ee=e):ee=ke?Dn(t.stateNode.nextSibling):null;return!0}function Js(){ee=ke=null,It=!1}function xc(){var t=Ji;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ji=null),t}function Zr(t){Ji===null?Ji=[t]:Ji.push(t)}var Rc=j(null),$s=null,Ai=null;function Wi(t,e,i){nt(Rc,e._currentValue),e._currentValue=i}function xi(t){t._currentValue=Rc.current,K(Rc)}function wc(t,e,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===i)break;t=t.return}}function Cc(t,e,i,a){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<e.length;N++)if(E.context===e[N]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),wc(f.return,i,t),a||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),wc(g,i,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function La(t,e,i,a){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===jt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&Cc(e,t,i,a),e.flags|=262144}function Oo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){$s=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Jd($s,t)}function Vo(t,e){return $s===null&&Ws(t),Jd(t,e)}function Jd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Ai===null){if(t===null)throw Error(r(308));Ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ai=Ai.next=e;return i}var Jv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},$v=l.unstable_scheduleCallback,Wv=l.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Jv,data:new Map,refCount:0}}function Jr(t){t.refCount--,t.refCount===0&&$v(Wv,function(){t.controller.abort()})}var $r=null,Dc=0,Ba=0,ka=null;function t_(t,e){if($r===null){var i=$r=[];Dc=0,Ba=Ih(),ka={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Dc++,e.then($d,$d),e}function $d(){if(--Dc===0&&$r!==null){ka!==null&&(ka.status="fulfilled");var t=$r;$r=null,Ba=0,ka=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function e_(t,e){var i=[],a={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(a.status="rejected",a.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),a}var Wd=G.S;G.S=function(t,e){zg=Ze(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&t_(t,e),Wd!==null&&Wd(t,e)};var ta=j(null);function Oc(){var t=ta.current;return t!==null?t:te.pooledCache}function Io(t,e){e===null?nt(ta,ta.current):nt(ta,e.pool)}function tm(){var t=Oc();return t===null?null:{parent:Te._currentValue,pool:t}}var qa=Error(r(460)),Vc=Error(r(474)),Mo=Error(r(542)),jo={then:function(){}};function em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nm(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(zn,zn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sm(t),t;default:if(typeof e.status=="string")e.then(zn,zn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=a}},function(a){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sm(t),t}throw na=e,qa}}function ea(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(na=i,qa):i}}var na=null;function im(){if(na===null)throw Error(r(459));var t=na;return na=null,t}function sm(t){if(t===qa||t===Mo)throw Error(r(483))}var Ha=null,Wr=0;function zo(t){var e=Wr;return Wr+=1,Ha===null&&(Ha=[]),nm(Ha,t,e)}function tl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Uo(t,e){throw e.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function am(t){function e(z,I){if(t){var L=z.deletions;L===null?(z.deletions=[I],z.flags|=16):L.push(I)}}function i(z,I){if(!t)return null;for(;I!==null;)e(z,I),I=I.sibling;return null}function a(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function c(z,I){return z=Ti(z,I),z.index=0,z.sibling=null,z}function f(z,I,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<I?(z.flags|=67108866,I):L):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,I,L,Y){return I===null||I.tag!==6?(I=Ec(L,z.mode,Y),I.return=z,I):(I=c(I,L),I.return=z,I)}function N(z,I,L,Y){var ft=L.type;return ft===tt?Q(z,I,L.props.children,Y,L.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&ea(ft)===I.type)?(I=c(I,L.props),tl(I,L),I.return=z,I):(I=No(L.type,L.key,L.props,null,z.mode,Y),tl(I,L),I.return=z,I)}function B(z,I,L,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=bc(L,z.mode,Y),I.return=z,I):(I=c(I,L.children||[]),I.return=z,I)}function Q(z,I,L,Y,ft){return I===null||I.tag!==7?(I=Zs(L,z.mode,Y,ft),I.return=z,I):(I=c(I,L),I.return=z,I)}function F(z,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ec(""+I,z.mode,L),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case P:return L=No(I.type,I.key,I.props,null,z.mode,L),tl(L,I),L.return=z,L;case et:return I=bc(I,z.mode,L),I.return=z,I;case A:return I=ea(I),F(z,I,L)}if(Qt(I)||V(I))return I=Zs(I,z.mode,L,null),I.return=z,I;if(typeof I.then=="function")return F(z,zo(I),L);if(I.$$typeof===_t)return F(z,Vo(z,I),L);Uo(z,I)}return null}function k(z,I,L,Y){var ft=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:E(z,I,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===ft?N(z,I,L,Y):null;case et:return L.key===ft?B(z,I,L,Y):null;case A:return L=ea(L),k(z,I,L,Y)}if(Qt(L)||V(L))return ft!==null?null:Q(z,I,L,Y,null);if(typeof L.then=="function")return k(z,I,zo(L),Y);if(L.$$typeof===_t)return k(z,I,Vo(z,L),Y);Uo(z,L)}return null}function H(z,I,L,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(L)||null,E(I,z,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return z=z.get(Y.key===null?L:Y.key)||null,N(I,z,Y,ft);case et:return z=z.get(Y.key===null?L:Y.key)||null,B(I,z,Y,ft);case A:return Y=ea(Y),H(z,I,L,Y,ft)}if(Qt(Y)||V(Y))return z=z.get(L)||null,Q(I,z,Y,ft,null);if(typeof Y.then=="function")return H(z,I,L,zo(Y),ft);if(Y.$$typeof===_t)return H(z,I,L,Vo(I,Y),ft);Uo(I,Y)}return null}function rt(z,I,L,Y){for(var ft=null,qt=null,ot=I,Ct=I=0,Vt=null;ot!==null&&Ct<L.length;Ct++){ot.index>Ct?(Vt=ot,ot=null):Vt=ot.sibling;var Ht=k(z,ot,L[Ct],Y);if(Ht===null){ot===null&&(ot=Vt);break}t&&ot&&Ht.alternate===null&&e(z,ot),I=f(Ht,I,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ot=Vt}if(Ct===L.length)return i(z,ot),It&&Si(z,Ct),ft;if(ot===null){for(;Ct<L.length;Ct++)ot=F(z,L[Ct],Y),ot!==null&&(I=f(ot,I,Ct),qt===null?ft=ot:qt.sibling=ot,qt=ot);return It&&Si(z,Ct),ft}for(ot=a(ot);Ct<L.length;Ct++)Vt=H(ot,z,Ct,L[Ct],Y),Vt!==null&&(t&&Vt.alternate!==null&&ot.delete(Vt.key===null?Ct:Vt.key),I=f(Vt,I,Ct),qt===null?ft=Vt:qt.sibling=Vt,qt=Vt);return t&&ot.forEach(function(ys){return e(z,ys)}),It&&Si(z,Ct),ft}function pt(z,I,L,Y){if(L==null)throw Error(r(151));for(var ft=null,qt=null,ot=I,Ct=I=0,Vt=null,Ht=L.next();ot!==null&&!Ht.done;Ct++,Ht=L.next()){ot.index>Ct?(Vt=ot,ot=null):Vt=ot.sibling;var ys=k(z,ot,Ht.value,Y);if(ys===null){ot===null&&(ot=Vt);break}t&&ot&&ys.alternate===null&&e(z,ot),I=f(ys,I,Ct),qt===null?ft=ys:qt.sibling=ys,qt=ys,ot=Vt}if(Ht.done)return i(z,ot),It&&Si(z,Ct),ft;if(ot===null){for(;!Ht.done;Ct++,Ht=L.next())Ht=F(z,Ht.value,Y),Ht!==null&&(I=f(Ht,I,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return It&&Si(z,Ct),ft}for(ot=a(ot);!Ht.done;Ct++,Ht=L.next())Ht=H(ot,z,Ct,Ht.value,Y),Ht!==null&&(t&&Ht.alternate!==null&&ot.delete(Ht.key===null?Ct:Ht.key),I=f(Ht,I,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return t&&ot.forEach(function(f1){return e(z,f1)}),It&&Si(z,Ct),ft}function Wt(z,I,L,Y){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var ft=L.key;I!==null;){if(I.key===ft){if(ft=L.type,ft===tt){if(I.tag===7){i(z,I.sibling),Y=c(I,L.props.children),Y.return=z,z=Y;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&ea(ft)===I.type){i(z,I.sibling),Y=c(I,L.props),tl(Y,L),Y.return=z,z=Y;break t}i(z,I);break}else e(z,I);I=I.sibling}L.type===tt?(Y=Zs(L.props.children,z.mode,Y,L.key),Y.return=z,z=Y):(Y=No(L.type,L.key,L.props,null,z.mode,Y),tl(Y,L),Y.return=z,z=Y)}return g(z);case et:t:{for(ft=L.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){i(z,I.sibling),Y=c(I,L.children||[]),Y.return=z,z=Y;break t}else{i(z,I);break}else e(z,I);I=I.sibling}Y=bc(L,z.mode,Y),Y.return=z,z=Y}return g(z);case A:return L=ea(L),Wt(z,I,L,Y)}if(Qt(L))return rt(z,I,L,Y);if(V(L)){if(ft=V(L),typeof ft!="function")throw Error(r(150));return L=ft.call(L),pt(z,I,L,Y)}if(typeof L.then=="function")return Wt(z,I,zo(L),Y);if(L.$$typeof===_t)return Wt(z,I,Vo(z,L),Y);Uo(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(i(z,I.sibling),Y=c(I,L),Y.return=z,z=Y):(i(z,I),Y=Ec(L,z.mode,Y),Y.return=z,z=Y),g(z)):i(z,I)}return function(z,I,L,Y){try{Wr=0;var ft=Wt(z,I,L,Y);return Ha=null,ft}catch(ot){if(ot===qa||ot===Mo)throw ot;var qt=dn(29,ot,null,z.mode);return qt.lanes=Y,qt.return=z,qt}finally{}}}var ia=am(!0),rm=am(!1),ts=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,e,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Gt&2)!==0){var c=a.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),a.pending=e,e=Co(t),Pd(t,null,i),e}return wo(t,a,e,i),Co(t)}function el(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,Cr(t,i)}}function jc(t,e){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var zc=!1;function nl(){if(zc){var t=ka;if(t!==null)throw t}}function il(t,e,i,a){zc=!1;var c=t.updateQueue;ts=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=N))}if(f!==null){var F=c.baseState;g=0,Q=B=N=null,E=f;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(Ot&k)===k:(a&k)===k){k!==0&&k===Ba&&(zc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,pt=E;k=e;var Wt=i;switch(pt.tag){case 1:if(rt=pt.payload,typeof rt=="function"){F=rt.call(Wt,F,k);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=pt.payload,k=typeof rt=="function"?rt.call(Wt,F,k):rt,k==null)break t;F=C({},F,k);break t;case 2:ts=!0}}k=E.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=H,N=F):Q=Q.next=H,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);Q===null&&(N=F),c.baseState=N,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ls|=g,t.lanes=g,t.memoizedState=F}}function lm(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function om(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)lm(i[t],e)}var Pa=j(null),Lo=j(0);function um(t,e){t=Mi,nt(Lo,t),nt(Pa,e),Mi=t|e.baseLanes}function Uc(){nt(Lo,Mi),nt(Pa,Pa.current)}function Lc(){Mi=Lo.current,K(Pa),K(Lo)}var mn=j(null),Nn=null;function is(t){var e=t.alternate;nt(fe,fe.current&1),nt(mn,t),Nn===null&&(e===null||Pa.current!==null||e.memoizedState!==null)&&(Nn=t)}function Bc(t){nt(fe,fe.current),nt(mn,t),Nn===null&&(Nn=t)}function cm(t){t.tag===22?(nt(fe,fe.current),nt(mn,t),Nn===null&&(Nn=t)):ss()}function ss(){nt(fe,fe.current),nt(mn,mn.current)}function gn(t){K(mn),Nn===t&&(Nn=null),K(fe)}var fe=j(0);function Bo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Qh(i)||Yh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ri=0,Rt=null,Jt=null,Se=null,ko=!1,Ga=!1,sa=!1,qo=0,sl=0,Qa=null,n_=0;function oe(){throw Error(r(321))}function kc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!fn(t[i],e[i]))return!1;return!0}function qc(t,e,i,a,c,f){return Ri=f,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?Fm:nh,sa=!1,f=i(a,c),sa=!1,Ga&&(f=fm(e,i,a,c)),hm(t),f}function hm(t){G.H=ll;var e=Jt!==null&&Jt.next!==null;if(Ri=0,Se=Jt=Rt=null,ko=!1,sl=0,Qa=null,e)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&Oo(t)&&(Ae=!0))}function fm(t,e,i,a){Rt=t;var c=0;do{if(Ga&&(Qa=null),sl=0,Ga=!1,25<=c)throw Error(r(301));if(c+=1,Se=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Km,f=e(i,a)}while(Ga);return f}function i_(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?al(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Rt.flags|=1024),e}function Hc(){var t=qo!==0;return qo=0,t}function Pc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Gc(t){if(ko){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ko=!1}Ri=0,Se=Jt=Rt=null,Ga=!1,sl=qo=0,Qa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Rt.memoizedState=Se=t:Se=Se.next=t,Se}function de(){if(Jt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=Se===null?Rt.memoizedState:Se.next;if(e!==null)Se=e,Jt=t;else{if(t===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Rt.memoizedState=Se=t:Se=Se.next=t}return Se}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var e=sl;return sl+=1,Qa===null&&(Qa=[]),t=nm(Qa,t,e),e=Rt,(Se===null?e.memoizedState:Se.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?Fm:nh),t}function Po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===_t)return qe(t)}throw Error(r(438,String(t)))}function Qc(t){var e=null,i=Rt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var a=Rt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Ho(),Rt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),a=0;a<t;a++)i[a]=O;return e.index++,i}function wi(t,e){return typeof e=="function"?e(t):e}function Go(t){var e=de();return Yc(e,Jt,t)}function Yc(t,e,i){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var c=t.baseQueue,f=a.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}e.baseQueue=c=f,a.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=g=null,N=null,B=e,Q=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Ot&F)===F:(Ri&F)===F){var k=B.revertLane;if(k===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Ba&&(Q=!0);else if((Ri&k)===k){B=B.next,k===Ba&&(Q=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=F,g=f):N=N.next=F,Rt.lanes|=k,ls|=k;F=B.action,sa&&i(f,F),f=B.hasEagerState?B.eagerState:i(f,F)}else k={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=k,g=f):N=N.next=k,Rt.lanes|=F,ls|=F;B=B.next}while(B!==null&&B!==e);if(N===null?g=f:N.next=E,!fn(f,t.memoizedState)&&(Ae=!0,Q&&(i=ka,i!==null)))throw i;t.memoizedState=f,t.baseState=g,t.baseQueue=N,a.lastRenderedState=f}return c===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Fc(t){var e=de(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var a=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,e.memoizedState)||(Ae=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,a]}function dm(t,e,i){var a=Rt,c=de(),f=It;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!fn((Jt||c).memoizedState,i);if(g&&(c.memoizedState=i,Ae=!0),c=c.queue,Zc(pm.bind(null,a,c,t),[t]),c.getSnapshot!==e||g||Se!==null&&Se.memoizedState.tag&1){if(a.flags|=2048,Ya(9,{destroy:void 0},gm.bind(null,a,c,i,e),null),te===null)throw Error(r(349));f||(Ri&127)!==0||mm(a,e,i)}return i}function mm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Rt.updateQueue,e===null?(e=Ho(),Rt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function gm(t,e,i,a){e.value=i,e.getSnapshot=a,ym(e)&&vm(t)}function pm(t,e,i){return i(function(){ym(e)&&vm(t)})}function ym(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!fn(t,i)}catch{return!0}}function vm(t){var e=Xs(t,2);e!==null&&on(e,t,2)}function Kc(t){var e=$e();if(typeof t=="function"){var i=t;if(t=i(),sa){_n(!0);try{i()}finally{_n(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},e}function _m(t,e,i,a){return t.baseState=i,Yc(t,Jt,typeof a=="function"?a:wi)}function s_(t,e,i,a,c){if(Fo(t))throw Error(r(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?i(!0):f.isTransition=!1,a(f),i=e.pending,i===null?(f.next=e.pending=f,Em(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Em(t,e){var i=e.action,a=e.payload,c=t.state;if(e.isTransition){var f=G.T,g={};G.T=g;try{var E=i(c,a),N=G.S;N!==null&&N(g,E),bm(t,e,E)}catch(B){Xc(t,e,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=i(c,a),bm(t,e,f)}catch(B){Xc(t,e,B)}}function bm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Tm(t,e,a)},function(a){return Xc(t,e,a)}):Tm(t,e,i)}function Tm(t,e,i){e.status="fulfilled",e.value=i,Sm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Em(t,i)))}function Xc(t,e,i){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=i,Sm(e),e=e.next;while(e!==a)}t.action=null}function Sm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Am(t,e){return e}function xm(t,e){if(It){var i=te.formState;if(i!==null){t:{var a=Rt;if(It){if(ee){e:{for(var c=ee,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Dn(c.nextSibling),a=c.data==="F!";break t}}$i(a)}a=!1}a&&(e=i[0])}}return i=$e(),i.memoizedState=i.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:e},i.queue=a,i=Gm.bind(null,Rt,a),a.dispatch=i,a=Kc(!1),f=eh.bind(null,Rt,!1,a.queue),a=$e(),c={state:e,dispatch:null,action:t,pending:null},a.queue=c,i=s_.bind(null,Rt,c,f,i),c.dispatch=i,a.memoizedState=t,[e,i,!1]}function Rm(t){var e=de();return wm(e,Jt,t)}function wm(t,e,i){if(e=Yc(t,e,Am)[0],t=Go(wi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=al(e)}catch(g){throw g===qa?Mo:g}else a=e;e=de();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(Rt.flags|=2048,Ya(9,{destroy:void 0},a_.bind(null,c,i),null)),[a,f,t]}function a_(t,e){t.action=e}function Cm(t){var e=de(),i=Jt;if(i!==null)return wm(e,i,t);de(),e=e.memoizedState,i=de();var a=i.queue.dispatch;return i.memoizedState=t,[e,a,!1]}function Ya(t,e,i,a){return t={tag:t,create:i,deps:a,inst:e,next:null},e=Rt.updateQueue,e===null&&(e=Ho(),Rt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,e.lastEffect=t),t}function Nm(){return de().memoizedState}function Qo(t,e,i,a){var c=$e();Rt.flags|=t,c.memoizedState=Ya(1|e,{destroy:void 0},i,a===void 0?null:a)}function Yo(t,e,i,a){var c=de();a=a===void 0?null:a;var f=c.memoizedState.inst;Jt!==null&&a!==null&&kc(a,Jt.memoizedState.deps)?c.memoizedState=Ya(e,f,i,a):(Rt.flags|=t,c.memoizedState=Ya(1|e,f,i,a))}function Dm(t,e){Qo(8390656,8,t,e)}function Zc(t,e){Yo(2048,8,t,e)}function r_(t){Rt.flags|=4;var e=Rt.updateQueue;if(e===null)e=Ho(),Rt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Om(t){var e=de().memoizedState;return r_({ref:e,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Vm(t,e){return Yo(4,2,t,e)}function Im(t,e){return Yo(4,4,t,e)}function Mm(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jm(t,e,i){i=i!=null?i.concat([t]):null,Yo(4,4,Mm.bind(null,e,t),i)}function Jc(){}function zm(t,e){var i=de();e=e===void 0?null:e;var a=i.memoizedState;return e!==null&&kc(e,a[1])?a[0]:(i.memoizedState=[t,e],t)}function Um(t,e){var i=de();e=e===void 0?null:e;var a=i.memoizedState;if(e!==null&&kc(e,a[1]))return a[0];if(a=t(),sa){_n(!0);try{t()}finally{_n(!1)}}return i.memoizedState=[a,e],a}function $c(t,e,i){return i===void 0||(Ri&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Lg(),Rt.lanes|=t,ls|=t,i)}function Lm(t,e,i,a){return fn(i,e)?i:Pa.current!==null?(t=$c(t,i,a),fn(t,e)||(Ae=!0),t):(Ri&42)===0||(Ri&1073741824)!==0&&(Ot&261930)===0?(Ae=!0,t.memoizedState=i):(t=Lg(),Rt.lanes|=t,ls|=t,e)}function Bm(t,e,i,a,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,eh(t,!1,e,i);try{var N=c(),B=G.S;if(B!==null&&B(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=e_(N,a);rl(t,e,Q,vn(t))}else rl(t,e,a,vn(t))}catch(F){rl(t,e,{then:function(){},status:"rejected",reason:F},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function l_(){}function Wc(t,e,i,a){if(t.tag!==5)throw Error(r(476));var c=km(t).queue;Bm(t,c,e,mt,i===null?l_:function(){return qm(t),i(a)})}function km(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:mt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function qm(t){var e=km(t);e.next===null&&(e=t.alternate.memoizedState),rl(t,e.next.queue,{},vn())}function th(){return qe(Sl)}function Hm(){return de().memoizedState}function Pm(){return de().memoizedState}function o_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=vn();t=es(i);var a=ns(e,t,i);a!==null&&(on(a,e,i),el(a,e,i)),e={cache:Nc()},t.payload=e;return}e=e.return}}function u_(t,e,i){var a=vn();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fo(t)?Qm(e,i):(i=vc(t,e,i,a),i!==null&&(on(i,t,a),Ym(i,e,a)))}function Gm(t,e,i){var a=vn();rl(t,e,i,a)}function rl(t,e,i,a){var c={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fo(t))Qm(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,E=f(g,i);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return wo(t,e,c,0),te===null&&Ro(),!1}catch{}finally{}if(i=vc(t,e,c,a),i!==null)return on(i,t,a),Ym(i,e,a),!0}return!1}function eh(t,e,i,a){if(a={lane:2,revertLane:Ih(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fo(t)){if(e)throw Error(r(479))}else e=vc(t,i,a,2),e!==null&&on(e,t,2)}function Fo(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function Qm(t,e){Ga=ko=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Ym(t,e,i){if((i&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,Cr(t,i)}}var ll={readContext:qe,use:Po,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};ll.useEffectEvent=oe;var Fm={readContext:qe,use:Po,useCallback:function(t,e){return $e().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:Dm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Qo(4194308,4,Mm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){Qo(4,2,t,e)},useMemo:function(t,e){var i=$e();e=e===void 0?null:e;var a=t();if(sa){_n(!0);try{t()}finally{_n(!1)}}return i.memoizedState=[a,e],a},useReducer:function(t,e,i){var a=$e();if(i!==void 0){var c=i(e);if(sa){_n(!0);try{i(e)}finally{_n(!1)}}}else c=e;return a.memoizedState=a.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},a.queue=t,t=t.dispatch=u_.bind(null,Rt,t),[a.memoizedState,t]},useRef:function(t){var e=$e();return t={current:t},e.memoizedState=t},useState:function(t){t=Kc(t);var e=t.queue,i=Gm.bind(null,Rt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Jc,useDeferredValue:function(t,e){var i=$e();return $c(i,t,e)},useTransition:function(){var t=Kc(!1);return t=Bm.bind(null,Rt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var a=Rt,c=$e();if(It){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),te===null)throw Error(r(349));(Ot&127)!==0||mm(a,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,Dm(pm.bind(null,a,f,t),[t]),a.flags|=2048,Ya(9,{destroy:void 0},gm.bind(null,a,f,i,e),null),i},useId:function(){var t=$e(),e=te.identifierPrefix;if(It){var i=ui,a=oi;i=(a&~(1<<32-ce(a)-1)).toString(32)+i,e="_"+e+"R_"+i,i=qo++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=n_++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:th,useFormState:xm,useActionState:xm,useOptimistic:function(t){var e=$e();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=eh.bind(null,Rt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Qc,useCacheRefresh:function(){return $e().memoizedState=o_.bind(null,Rt)},useEffectEvent:function(t){var e=$e(),i={impl:t};return e.memoizedState=i,function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},nh={readContext:qe,use:Po,useCallback:zm,useContext:qe,useEffect:Zc,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Im,useMemo:Um,useReducer:Go,useRef:Nm,useState:function(){return Go(wi)},useDebugValue:Jc,useDeferredValue:function(t,e){var i=de();return Lm(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Go(wi)[0],e=de().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:dm,useId:Hm,useHostTransitionStatus:th,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,e){var i=de();return _m(i,Jt,t,e)},useMemoCache:Qc,useCacheRefresh:Pm};nh.useEffectEvent=Om;var Km={readContext:qe,use:Po,useCallback:zm,useContext:qe,useEffect:Zc,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Im,useMemo:Um,useReducer:Fc,useRef:Nm,useState:function(){return Fc(wi)},useDebugValue:Jc,useDeferredValue:function(t,e){var i=de();return Jt===null?$c(i,t,e):Lm(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Fc(wi)[0],e=de().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:dm,useId:Hm,useHostTransitionStatus:th,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,e){var i=de();return Jt!==null?_m(i,Jt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:Pm};Km.useEffectEvent=Om;function ih(t,e,i,a){e=t.memoizedState,i=i(a,e),i=i==null?e:C({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var sh={enqueueSetState:function(t,e,i){t=t._reactInternals;var a=vn(),c=es(a);c.payload=e,i!=null&&(c.callback=i),e=ns(t,c,a),e!==null&&(on(e,t,a),el(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var a=vn(),c=es(a);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=ns(t,c,a),e!==null&&(on(e,t,a),el(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=vn(),a=es(i);a.tag=2,e!=null&&(a.callback=e),e=ns(t,a,i),e!==null&&(on(e,t,i),el(e,t,i))}};function Xm(t,e,i,a,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):e.prototype&&e.prototype.isPureReactComponent?!Fr(i,a)||!Fr(c,f):!0}function Zm(t,e,i,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,a),e.state!==t&&sh.enqueueReplaceState(e,e.state,null)}function aa(t,e){var i=e;if("ref"in e){i={};for(var a in e)a!=="ref"&&(i[a]=e[a])}if(t=t.defaultProps){i===e&&(i=C({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}function Jm(t){xo(t)}function $m(t){console.error(t)}function Wm(t){xo(t)}function Ko(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function tg(t,e,i){try{var a=t.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ah(t,e,i){return i=es(i),i.tag=3,i.payload={element:null},i.callback=function(){Ko(t,e)},i}function eg(t){return t=es(t),t.tag=3,t}function ng(t,e,i,a){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=a.value;t.payload=function(){return c(f)},t.callback=function(){tg(e,i,a)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){tg(e,i,a),typeof c!="function"&&(os===null?os=new Set([this]):os.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function c_(t,e,i,a,c){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=i.alternate,e!==null&&La(e,i,c,!0),i=mn.current,i!==null){switch(i.tag){case 31:case 13:return Nn===null?ru():i.alternate===null&&ue===0&&(ue=3),i.flags&=-257,i.flags|=65536,i.lanes=c,a===jo?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([a]):e.add(a),Dh(t,a,c)),!1;case 22:return i.flags|=65536,a===jo?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([a]):i.add(a)),Dh(t,a,c)),!1}throw Error(r(435,i.tag))}return Dh(t,a,c),ru(),!1}if(It)return e=mn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,a!==Ac&&(t=Error(r(422),{cause:a}),Zr(xn(t,i)))):(a!==Ac&&(e=Error(r(423),{cause:a}),Zr(xn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,a=xn(a,i),c=ah(t.stateNode,a,c),jc(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:a});if(f=xn(f,i),gl===null?gl=[f]:gl.push(f),ue!==4&&(ue=2),e===null)return!0;a=xn(a,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=ah(i.stateNode,a,t),jc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(os===null||!os.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=eg(c),ng(c,t,i,a),jc(i,c),!1}i=i.return}while(i!==null);return!1}var rh=Error(r(461)),Ae=!1;function He(t,e,i,a){e.child=t===null?rm(e,null,i,a):ia(e,t.child,i,a)}function ig(t,e,i,a,c){i=i.render;var f=e.ref;if("ref"in a){var g={};for(var E in a)E!=="ref"&&(g[E]=a[E])}else g=a;return Ws(e),a=qc(t,e,i,g,f,c),E=Hc(),t!==null&&!Ae?(Pc(t,e,c),Ci(t,e,c)):(It&&E&&Tc(e),e.flags|=1,He(t,e,a,c),e.child)}function sg(t,e,i,a,c){if(t===null){var f=i.type;return typeof f=="function"&&!_c(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,ag(t,e,f,a,c)):(t=No(i.type,null,a,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!mh(t,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Fr,i(g,a)&&t.ref===e.ref)return Ci(t,e,c)}return e.flags|=1,t=Ti(f,a),t.ref=e.ref,t.return=e,e.child=t}function ag(t,e,i,a,c){if(t!==null){var f=t.memoizedProps;if(Fr(f,a)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=a=f,mh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return e.lanes=t.lanes,Ci(t,e,c)}return lh(t,e,i,a,c)}function rg(t,e,i,a){var c=a.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(a=e.child=t.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~f}else a=0,e.child=null;return lg(t,e,f,i,a)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Io(e,f!==null?f.cachePool:null),f!==null?um(e,f):Uc(),cm(e);else return a=e.lanes=536870912,lg(t,e,f!==null?f.baseLanes|i:i,i,a)}else f!==null?(Io(e,f.cachePool),um(e,f),ss(),e.memoizedState=null):(t!==null&&Io(e,null),Uc(),ss());return He(t,e,c,i),e.child}function ol(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function lg(t,e,i,a,c){var f=Oc();return f=f===null?null:{parent:Te._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&Io(e,null),Uc(),cm(e),t!==null&&La(t,e,a,!0),e.childLanes=c,null}function Xo(t,e){return e=Jo({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function og(t,e,i){return ia(e,t.child,null,i),t=Xo(e,e.pendingProps),t.flags|=2,gn(e),e.memoizedState=null,t}function h_(t,e,i){var a=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(It){if(a.mode==="hidden")return t=Xo(e,a),e.lanes=536870912,ol(null,t);if(Bc(e),(t=ee)?(t=Ep(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},i=Qd(t),i.return=e,e.child=i,ke=e,ee=null)):t=null,t===null)throw $i(e);return e.lanes=536870912,null}return Xo(e,a)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Bc(e),c)if(e.flags&256)e.flags&=-257,e=og(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(Ae||La(t,e,i,!1),c=(i&t.childLanes)!==0,Ae||c){if(a=te,a!==null&&(g=Nr(a,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xs(t,g),on(a,t,g),rh;ru(),e=og(t,e,i)}else t=f.treeContext,ee=Dn(g.nextSibling),ke=e,It=!0,Ji=null,Cn=!1,t!==null&&Kd(e,t),e=Xo(e,a),e.flags|=4096;return e}return t=Ti(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Zo(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function lh(t,e,i,a,c){return Ws(e),i=qc(t,e,i,a,void 0,c),a=Hc(),t!==null&&!Ae?(Pc(t,e,c),Ci(t,e,c)):(It&&a&&Tc(e),e.flags|=1,He(t,e,i,c),e.child)}function ug(t,e,i,a,c,f){return Ws(e),e.updateQueue=null,i=fm(e,a,i,c),hm(t),a=Hc(),t!==null&&!Ae?(Pc(t,e,f),Ci(t,e,f)):(It&&a&&Tc(e),e.flags|=1,He(t,e,i,f),e.child)}function cg(t,e,i,a,c){if(Ws(e),e.stateNode===null){var f=Ma,g=i.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new i(a,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sh,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=a,f.state=e.memoizedState,f.refs={},Ic(e),g=i.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Ma,f.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ih(e,i,g,a),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&sh.enqueueReplaceState(f,f.state,null),il(e,a,f,c),nl(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,N=aa(i,E);f.props=N;var B=f.context,Q=i.contextType;g=Ma,typeof Q=="object"&&Q!==null&&(g=qe(Q));var F=i.getDerivedStateFromProps;Q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Zm(e,f,a,g),ts=!1;var k=e.memoizedState;f.state=k,il(e,a,f,c),nl(),B=e.memoizedState,E||k!==B||ts?(typeof F=="function"&&(ih(e,i,F,a),B=e.memoizedState),(N=ts||Xm(e,i,N,a,k,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=B),f.props=a,f.state=B,f.context=g,a=N):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{f=e.stateNode,Mc(t,e),g=e.memoizedProps,Q=aa(i,g),f.props=Q,F=e.pendingProps,k=f.context,B=i.contextType,N=Ma,typeof B=="object"&&B!==null&&(N=qe(B)),E=i.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||k!==N)&&Zm(e,f,a,N),ts=!1,k=e.memoizedState,f.state=k,il(e,a,f,c),nl();var H=e.memoizedState;g!==F||k!==H||ts||t!==null&&t.dependencies!==null&&Oo(t.dependencies)?(typeof E=="function"&&(ih(e,i,E,a),H=e.memoizedState),(Q=ts||Xm(e,i,Q,a,k,H,N)||t!==null&&t.dependencies!==null&&Oo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,H,N)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=H),f.props=a,f.state=H,f.context=N,a=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),a=!1)}return f=a,Zo(t,e),a=(e.flags&128)!==0,f||a?(f=e.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&a?(e.child=ia(e,t.child,null,c),e.child=ia(e,null,i,c)):He(t,e,i,c),e.memoizedState=f.state,t=e.child):t=Ci(t,e,c),t}function hg(t,e,i,a){return Js(),e.flags|=256,He(t,e,i,a),e.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(t){return{baseLanes:t,cachePool:tm()}}function ch(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=yn),t}function fg(t,e,i){var a=e.pendingProps,c=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(It){if(c?is(e):ss(),(t=ee)?(t=Ep(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},i=Qd(t),i.return=e,e.child=i,ke=e,ee=null)):t=null,t===null)throw $i(e);return Yh(t)?e.lanes=32:e.lanes=536870912,null}var E=a.children;return a=a.fallback,c?(ss(),c=e.mode,E=Jo({mode:"hidden",children:E},c),a=Zs(a,c,i,null),E.return=e,a.return=e,E.sibling=a,e.child=E,a=e.child,a.memoizedState=uh(i),a.childLanes=ch(t,g,i),e.memoizedState=oh,ol(null,a)):(is(e),hh(e,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)e.flags&256?(is(e),e.flags&=-257,e=fh(t,e,i)):e.memoizedState!==null?(ss(),e.child=t.child,e.flags|=128,e=null):(ss(),E=a.fallback,c=e.mode,a=Jo({mode:"visible",children:a.children},c),E=Zs(E,c,i,null),E.flags|=2,a.return=e,E.return=e,a.sibling=E,e.child=a,ia(e,t.child,null,i),a=e.child,a.memoizedState=uh(i),a.childLanes=ch(t,g,i),e.memoizedState=oh,e=ol(null,a));else if(is(e),Yh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,a=Error(r(419)),a.stack="",a.digest=g,Zr({value:a,source:null,stack:null}),e=fh(t,e,i)}else if(Ae||La(t,e,i,!1),g=(i&t.childLanes)!==0,Ae||g){if(g=te,g!==null&&(a=Nr(g,i),a!==0&&a!==N.retryLane))throw N.retryLane=a,Xs(t,a),on(g,t,a),rh;Qh(E)||ru(),e=fh(t,e,i)}else Qh(E)?(e.flags|=192,e.child=t.child,e=null):(t=N.treeContext,ee=Dn(E.nextSibling),ke=e,It=!0,Ji=null,Cn=!1,t!==null&&Kd(e,t),e=hh(e,a.children),e.flags|=4096);return e}return c?(ss(),E=a.fallback,c=e.mode,N=t.child,B=N.sibling,a=Ti(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,B!==null?E=Ti(B,E):(E=Zs(E,c,i,null),E.flags|=2),E.return=e,a.return=e,a.sibling=E,e.child=a,ol(null,a),a=e.child,E=t.child.memoizedState,E===null?E=uh(i):(c=E.cachePool,c!==null?(N=Te._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=tm(),E={baseLanes:E.baseLanes|i,cachePool:c}),a.memoizedState=E,a.childLanes=ch(t,g,i),e.memoizedState=oh,ol(t.child,a)):(is(e),i=t.child,t=i.sibling,i=Ti(i,{mode:"visible",children:a.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function hh(t,e){return e=Jo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Jo(t,e){return t=dn(22,t,null,e),t.lanes=0,t}function fh(t,e,i){return ia(e,t.child,null,i),t=hh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dg(t,e,i){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),wc(t.return,e,i)}function dh(t,e,i,a,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function mg(t,e,i){var a=e.pendingProps,c=a.revealOrder,f=a.tail;a=a.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,e.flags|=128):g&=1,nt(fe,g),He(t,e,a,i),a=It?Xr:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,i,e);else if(t.tag===19)dg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Bo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),dh(e,!1,c,i,f,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Bo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}dh(e,!0,i,null,f,a);break;case"together":dh(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Ci(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(La(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=Ti(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ti(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function mh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Oo(t)))}function f_(t,e,i){switch(e.tag){case 3:Ne(e,e.stateNode.containerInfo),Wi(e,Te,t.memoizedState.cache),Js();break;case 27:case 5:Os(e);break;case 4:Ne(e,e.stateNode.containerInfo);break;case 10:Wi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Bc(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(is(e),e.flags|=128,null):(i&e.child.childLanes)!==0?fg(t,e,i):(is(e),t=Ci(t,e,i),t!==null?t.sibling:null);is(e);break;case 19:var c=(t.flags&128)!==0;if(a=(i&e.childLanes)!==0,a||(La(t,e,i,!1),a=(i&e.childLanes)!==0),c){if(a)return mg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),a)break;return null;case 22:return e.lanes=0,rg(t,e,i,e.pendingProps);case 24:Wi(e,Te,t.memoizedState.cache)}return Ci(t,e,i)}function gg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ae=!0;else{if(!mh(t,i)&&(e.flags&128)===0)return Ae=!1,f_(t,e,i);Ae=(t.flags&131072)!==0}else Ae=!1,It&&(e.flags&1048576)!==0&&Fd(e,Xr,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=ea(e.elementType),e.type=t,typeof t=="function")_c(t)?(a=aa(t,a),e.tag=1,e=cg(null,e,t,a,i)):(e.tag=0,e=lh(null,e,t,a,i));else{if(t!=null){var c=t.$$typeof;if(c===it){e.tag=11,e=ig(null,e,t,a,i);break t}else if(c===x){e.tag=14,e=sg(null,e,t,a,i);break t}}throw e=dt(t)||t,Error(r(306,e,""))}}return e;case 0:return lh(t,e,e.type,e.pendingProps,i);case 1:return a=e.type,c=aa(a,e.pendingProps),cg(t,e,a,c,i);case 3:t:{if(Ne(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var f=e.memoizedState;c=f.element,Mc(t,e),il(e,a,null,i);var g=e.memoizedState;if(a=g.cache,Wi(e,Te,a),a!==f.cache&&Cc(e,[Te],i,!0),nl(),a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=hg(t,e,a,i);break t}else if(a!==c){c=xn(Error(r(424)),e),Zr(c),e=hg(t,e,a,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Dn(t.firstChild),ke=e,It=!0,Ji=null,Cn=!0,i=rm(e,null,a,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Js(),a===c){e=Ci(t,e,i);break t}He(t,e,a,i)}e=e.child}return e;case 26:return Zo(t,e),t===null?(i=Rp(e.type,null,e.pendingProps,null))?e.memoizedState=i:It||(i=e.type,t=e.pendingProps,a=du(wt.current).createElement(i),a[_e]=e,a[Me]=t,Pe(a,i,t),Ee(a),e.stateNode=a):e.memoizedState=Rp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Os(e),t===null&&It&&(a=e.stateNode=Sp(e.type,e.pendingProps,wt.current),ke=e,Cn=!0,c=ee,fs(e.type)?(Fh=c,ee=Dn(a.firstChild)):ee=c),He(t,e,e.pendingProps.children,i),Zo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&It&&((c=a=ee)&&(a=H_(a,e.type,e.pendingProps,Cn),a!==null?(e.stateNode=a,ke=e,ee=Dn(a.firstChild),Cn=!1,c=!0):c=!1),c||$i(e)),Os(e),c=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,a=f.children,Hh(c,f)?a=null:g!==null&&Hh(c,g)&&(e.flags|=32),e.memoizedState!==null&&(c=qc(t,e,i_,null,null,i),Sl._currentValue=c),Zo(t,e),He(t,e,a,i),e.child;case 6:return t===null&&It&&((t=i=ee)&&(i=P_(i,e.pendingProps,Cn),i!==null?(e.stateNode=i,ke=e,ee=null,t=!0):t=!1),t||$i(e)),null;case 13:return fg(t,e,i);case 4:return Ne(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ia(e,null,a,i):He(t,e,a,i),e.child;case 11:return ig(t,e,e.type,e.pendingProps,i);case 7:return He(t,e,e.pendingProps,i),e.child;case 8:return He(t,e,e.pendingProps.children,i),e.child;case 12:return He(t,e,e.pendingProps.children,i),e.child;case 10:return a=e.pendingProps,Wi(e,e.type,a.value),He(t,e,a.children,i),e.child;case 9:return c=e.type._context,a=e.pendingProps.children,Ws(e),c=qe(c),a=a(c),e.flags|=1,He(t,e,a,i),e.child;case 14:return sg(t,e,e.type,e.pendingProps,i);case 15:return ag(t,e,e.type,e.pendingProps,i);case 19:return mg(t,e,i);case 31:return h_(t,e,i);case 22:return rg(t,e,i,e.pendingProps);case 24:return Ws(e),a=qe(Te),t===null?(c=Oc(),c===null&&(c=te,f=Nc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:a,cache:c},Ic(e),Wi(e,Te,c)):((t.lanes&i)!==0&&(Mc(t,e),il(e,null,null,i),nl()),c=t.memoizedState,f=e.memoizedState,c.parent!==a?(c={parent:a,cache:a},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Wi(e,Te,a)):(a=f.cache,Wi(e,Te,a),a!==c.cache&&Cc(e,[Te],i,!0))),He(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ni(t){t.flags|=4}function gh(t,e,i,a,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Hg())t.flags|=8192;else throw na=jo,Vc}else t.flags&=-16777217}function pg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Op(e))if(Hg())t.flags|=8192;else throw na=jo,Vc}function $o(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?io():536870912,t.lanes|=e,Za|=e)}function ul(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=i,e}function d_(t,e,i){var a=e.pendingProps;switch(Sc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return i=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),xi(Te),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ua(e)?Ni(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,xc())),ne(e),null;case 26:var c=e.type,f=e.memoizedState;return t===null?(Ni(e),f!==null?(ne(e),pg(e,f)):(ne(e),gh(e,c,null,a,i))):f?f!==t.memoizedState?(Ni(e),ne(e),pg(e,f)):(ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ni(e),ne(e),gh(e,c,t,a,i)),null;case 27:if(ga(e),i=wt.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ni(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return ne(e),null}t=st.current,Ua(e)?Xd(e):(t=Sp(c,a,i),e.stateNode=t,Ni(e))}return ne(e),null;case 5:if(ga(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ni(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return ne(e),null}if(f=st.current,Ua(e))Xd(e);else{var g=du(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?g.createElement("select",{is:a.is}):g.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?g.createElement(c,{is:a.is}):g.createElement(c)}}f[_e]=e,f[Me]=a;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=f;t:switch(Pe(f,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ni(e)}}return ne(e),gh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ni(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=wt.current,Ua(e)){if(t=e.stateNode,i=e.memoizedProps,a=null,c=ke,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}t[_e]=e,t=!!(t.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||fp(t.nodeValue,i)),t||$i(e,!0)}else t=du(t).createTextNode(a),t[_e]=e,e.stateNode=t}return ne(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ua(e),i!==null){if(t===null){if(!a)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=e}else Js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),t=!1}else i=xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(gn(e),e):(gn(e),null);if((e.flags&128)!==0)throw Error(r(558))}return ne(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ua(e),a!==null&&a.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=e}else Js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),c=!1}else c=xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(gn(e),e):(gn(e),null)}return gn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=a!==null,t=t!==null&&t.memoizedState!==null,i&&(a=e.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),$o(e,e.updateQueue),ne(e),null);case 4:return ie(),t===null&&Uh(e.stateNode.containerInfo),ne(e),null;case 10:return xi(e.type),ne(e),null;case 19:if(K(fe),a=e.memoizedState,a===null)return ne(e),null;if(c=(e.flags&128)!==0,f=a.rendering,f===null)if(c)ul(a,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Bo(t),f!==null){for(e.flags|=128,ul(a,!1),t=f.updateQueue,e.updateQueue=t,$o(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Gd(i,t),i=i.sibling;return nt(fe,fe.current&1|2),It&&Si(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&Ze()>iu&&(e.flags|=128,c=!0,ul(a,!1),e.lanes=4194304)}else{if(!c)if(t=Bo(f),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,$o(e,t),ul(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!It)return ne(e),null}else 2*Ze()-a.renderingStartTime>iu&&i!==536870912&&(e.flags|=128,c=!0,ul(a,!1),e.lanes=4194304);a.isBackwards?(f.sibling=e.child,e.child=f):(t=a.last,t!==null?t.sibling=f:e.child=f,a.last=f)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,i=fe.current,nt(fe,c?i&1|2:i&1),It&&Si(e,a.treeForkCount),t):(ne(e),null);case 22:case 23:return gn(e),Lc(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(i&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),i=e.updateQueue,i!==null&&$o(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==i&&(e.flags|=2048),t!==null&&K(ta),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),xi(Te),ne(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function m_(t,e){switch(Sc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xi(Te),ie(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ga(e),null;case 31:if(e.memoizedState!==null){if(gn(e),e.alternate===null)throw Error(r(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(fe),null;case 4:return ie(),null;case 10:return xi(e.type),null;case 22:case 23:return gn(e),Lc(),t!==null&&K(ta),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return xi(Te),null;case 25:return null;default:return null}}function yg(t,e){switch(Sc(e),e.tag){case 3:xi(Te),ie();break;case 26:case 27:case 5:ga(e);break;case 4:ie();break;case 31:e.memoizedState!==null&&gn(e);break;case 13:gn(e);break;case 19:K(fe);break;case 10:xi(e.type);break;case 22:case 23:gn(e),Lc(),t!==null&&K(ta);break;case 24:xi(Te)}}function cl(t,e){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var c=a.next;i=c;do{if((i.tag&t)===t){a=void 0;var f=i.create,g=i.inst;a=f(),g.destroy=a}i=i.next}while(i!==c)}}catch(E){Xt(e,e.return,E)}}function as(t,e,i){try{var a=e.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){var g=a.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=e;var N=i,B=E;try{B()}catch(Q){Xt(c,N,Q)}}}a=a.next}while(a!==f)}}catch(Q){Xt(e,e.return,Q)}}function vg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{om(e,i)}catch(a){Xt(t,t.return,a)}}}function _g(t,e,i){i.props=aa(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(a){Xt(t,e,a)}}function hl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof i=="function"?t.refCleanup=i(a):i.current=a}}catch(c){Xt(t,e,c)}}function ci(t,e){var i=t.ref,a=t.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(c){Xt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Xt(t,e,c)}else i.current=null}function Eg(t){var e=t.type,i=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(c){Xt(t,t.return,c)}}function ph(t,e,i){try{var a=t.stateNode;z_(a,t.type,i,e),a[Me]=e}catch(c){Xt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fs(t.type)||t.tag===4}function yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vh(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=zn));else if(a!==4&&(a===27&&fs(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(vh(t,e,i),t=t.sibling;t!==null;)vh(t,e,i),t=t.sibling}function Wo(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(a!==4&&(a===27&&fs(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Wo(t,e,i),t=t.sibling;t!==null;)Wo(t,e,i),t=t.sibling}function Tg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var a=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Pe(e,a,i),e[_e]=t,e[Me]=i}catch(f){Xt(t,t.return,f)}}var Di=!1,xe=!1,_h=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function g_(t,e){if(t=t.containerInfo,kh=Eu,t=jd(t),fc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var g=0,E=-1,N=-1,B=0,Q=0,F=t,k=null;e:for(;;){for(var H;F!==i||c!==0&&F.nodeType!==3||(E=g+c),F!==f||a!==0&&F.nodeType!==3||(N=g+a),F.nodeType===3&&(g+=F.nodeValue.length),(H=F.firstChild)!==null;)k=F,F=H;for(;;){if(F===t)break e;if(k===i&&++B===c&&(E=g),k===f&&++Q===a&&(N=g),(H=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=H}i=E===-1||N===-1?null:{start:E,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(qh={focusedElem:t,selectionRange:i},Eu=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)c=t[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,a=i.stateNode;try{var rt=aa(i.type,c);t=a.getSnapshotBeforeUpdate(rt,f),a.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Xt(i,i.return,pt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Gh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function Ag(t,e,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Vi(t,i),a&4&&cl(5,i);break;case 1:if(Vi(t,i),a&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){Xt(i,i.return,g)}else{var c=aa(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(i,i.return,g)}}a&64&&vg(i),a&512&&hl(i,i.return);break;case 3:if(Vi(t,i),a&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{om(t,e)}catch(g){Xt(i,i.return,g)}}break;case 27:e===null&&a&4&&Tg(i);case 26:case 5:Vi(t,i),e===null&&a&4&&Eg(i),a&512&&hl(i,i.return);break;case 12:Vi(t,i);break;case 31:Vi(t,i),a&4&&wg(t,i);break;case 13:Vi(t,i),a&4&&Cg(t,i),a&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=A_.bind(null,i),G_(t,i))));break;case 22:if(a=i.memoizedState!==null||Di,!a){e=e!==null&&e.memoizedState!==null||xe,c=Di;var f=xe;Di=a,(xe=e)&&!f?Ii(t,i,(i.subtreeFlags&8772)!==0):Vi(t,i),Di=c,xe=f}break;case 30:break;default:Vi(t,i)}}function xg(t){var e=t.alternate;e!==null&&(t.alternate=null,xg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ea(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,sn=!1;function Oi(t,e,i){for(i=i.child;i!==null;)Rg(t,e,i),i=i.sibling}function Rg(t,e,i){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Vn,i)}catch{}switch(i.tag){case 26:xe||ci(i,e),Oi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xe||ci(i,e);var a=ae,c=sn;fs(i.type)&&(ae=i.stateNode,sn=!1),Oi(t,e,i),El(i.stateNode),ae=a,sn=c;break;case 5:xe||ci(i,e);case 6:if(a=ae,c=sn,ae=null,Oi(t,e,i),ae=a,sn=c,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(i.stateNode)}catch(f){Xt(i,e,f)}else try{ae.removeChild(i.stateNode)}catch(f){Xt(i,e,f)}break;case 18:ae!==null&&(sn?(t=ae,vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),sr(t)):vp(ae,i.stateNode));break;case 4:a=ae,c=sn,ae=i.stateNode.containerInfo,sn=!0,Oi(t,e,i),ae=a,sn=c;break;case 0:case 11:case 14:case 15:as(2,i,e),xe||as(4,i,e),Oi(t,e,i);break;case 1:xe||(ci(i,e),a=i.stateNode,typeof a.componentWillUnmount=="function"&&_g(i,e,a)),Oi(t,e,i);break;case 21:Oi(t,e,i);break;case 22:xe=(a=xe)||i.memoizedState!==null,Oi(t,e,i),xe=a;break;default:Oi(t,e,i)}}function wg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sr(t)}catch(i){Xt(e,e.return,i)}}}function Cg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sr(t)}catch(i){Xt(e,e.return,i)}}function p_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Sg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Sg),e;default:throw Error(r(435,t.tag))}}function tu(t,e){var i=p_(t);e.forEach(function(a){if(!i.has(a)){i.add(a);var c=x_.bind(null,t,a);a.then(c,c)}})}function an(t,e){var i=e.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a],f=t,g=e,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(fs(E.type)){ae=E.stateNode,sn=!1;break t}break;case 5:ae=E.stateNode,sn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Rg(f,g,c),ae=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ng(e,t),e=e.sibling}var Hn=null;function Ng(t,e){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(e,t),rn(t),a&4&&(as(3,t,t.return),cl(3,t),as(5,t,t.return));break;case 1:an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),a&64&&Di&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var c=Hn;if(an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),a&4){var f=i!==null?i.memoizedState:null;if(a=t.memoizedState,i===null)if(a===null)if(t.stateNode===null){t:{a=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(a){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zn]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(a),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,a,i),f[_e]=t,Ee(f),a=f;break t;case"link":var g=Np("link","href",c).get(a+(i.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(a),Pe(f,a,i),c.head.appendChild(f);break;case"meta":if(g=Np("meta","content",c).get(a+(i.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(E,1);break e}}f=c.createElement(a),Pe(f,a,i),c.head.appendChild(f);break;default:throw Error(r(468,a))}f[_e]=t,Ee(f),a=f}t.stateNode=a}else Dp(c,t.type,t.stateNode);else t.stateNode=Cp(c,a,t.memoizedProps);else f!==a?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,a===null?Dp(c,t.type,t.stateNode):Cp(c,a,t.memoizedProps)):a===null&&t.stateNode!==null&&ph(t,t.memoizedProps,i.memoizedProps)}break;case 27:an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),i!==null&&a&4&&ph(t,t.memoizedProps,i.memoizedProps);break;case 5:if(an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(rt){Xt(t,t.return,rt)}}a&4&&t.stateNode!=null&&(c=t.memoizedProps,ph(t,c,i!==null?i.memoizedProps:c)),a&1024&&(_h=!0);break;case 6:if(an(e,t),rn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,i=t.stateNode;try{i.nodeValue=a}catch(rt){Xt(t,t.return,rt)}}break;case 3:if(pu=null,c=Hn,Hn=mu(e.containerInfo),an(e,t),Hn=c,rn(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{sr(e.containerInfo)}catch(rt){Xt(t,t.return,rt)}_h&&(_h=!1,Dg(t));break;case 4:a=Hn,Hn=mu(t.stateNode.containerInfo),an(e,t),rn(t),Hn=a;break;case 12:an(e,t),rn(t);break;case 31:an(e,t),rn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,tu(t,a)));break;case 13:an(e,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(nu=Ze()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,tu(t,a)));break;case 22:c=t.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,B=Di,Q=xe;if(Di=B||c,xe=Q||N,an(e,t),xe=Q,Di=B,rn(t),a&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||N||Di||xe||ra(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){N=i=e;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var F=N.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(rt){Xt(N,N.return,rt)}}}else if(e.tag===6){if(i===null){N=e;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(rt){Xt(N,N.return,rt)}}}else if(e.tag===18){if(i===null){N=e;try{var H=N.stateNode;c?_p(H,!0):_p(N.stateNode,!1)}catch(rt){Xt(N,N.return,rt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,tu(t,i))));break;case 19:an(e,t),rn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,tu(t,a)));break;case 30:break;case 21:break;default:an(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{for(var i,a=t.return;a!==null;){if(bg(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var c=i.stateNode,f=yh(t);Wo(t,f,c);break;case 5:var g=i.stateNode;i.flags&32&&(nn(g,""),i.flags&=-33);var E=yh(t);Wo(t,E,g);break;case 3:case 4:var N=i.stateNode.containerInfo,B=yh(t);vh(t,B,N);break;default:throw Error(r(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Dg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ag(t,e.alternate,e),e=e.sibling}function ra(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:as(4,e,e.return),ra(e);break;case 1:ci(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&_g(e,e.return,i),ra(e);break;case 27:El(e.stateNode);case 26:case 5:ci(e,e.return),ra(e);break;case 22:e.memoizedState===null&&ra(e);break;case 30:ra(e);break;default:ra(e)}t=t.sibling}}function Ii(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,c=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ii(c,f,i),cl(4,f);break;case 1:if(Ii(c,f,i),a=f,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(a,a.return,B)}if(a=f,c=a.updateQueue,c!==null){var E=a.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)lm(N[c],E)}catch(B){Xt(a,a.return,B)}}i&&g&64&&vg(f),hl(f,f.return);break;case 27:Tg(f);case 26:case 5:Ii(c,f,i),i&&a===null&&g&4&&Eg(f),hl(f,f.return);break;case 12:Ii(c,f,i);break;case 31:Ii(c,f,i),i&&g&4&&wg(c,f);break;case 13:Ii(c,f,i),i&&g&4&&Cg(c,f);break;case 22:f.memoizedState===null&&Ii(c,f,i),hl(f,f.return);break;case 30:break;default:Ii(c,f,i)}e=e.sibling}}function Eh(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Jr(i))}function bh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jr(t))}function Pn(t,e,i,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Og(t,e,i,a),e=e.sibling}function Og(t,e,i,a){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Pn(t,e,i,a),c&2048&&cl(9,e);break;case 1:Pn(t,e,i,a);break;case 3:Pn(t,e,i,a),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jr(t)));break;case 12:if(c&2048){Pn(t,e,i,a),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xt(e,e.return,N)}}else Pn(t,e,i,a);break;case 31:Pn(t,e,i,a);break;case 13:Pn(t,e,i,a);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?Pn(t,e,i,a):fl(t,e):f._visibility&2?Pn(t,e,i,a):(f._visibility|=2,Fa(t,e,i,a,(e.subtreeFlags&10256)!==0||!1)),c&2048&&Eh(g,e);break;case 24:Pn(t,e,i,a),c&2048&&bh(e.alternate,e);break;default:Pn(t,e,i,a)}}function Fa(t,e,i,a,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,g=e,E=i,N=a,B=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(f,g,E,N,c),cl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Fa(f,g,E,N,c):fl(f,g):(Q._visibility|=2,Fa(f,g,E,N,c)),c&&B&2048&&Eh(g.alternate,g);break;case 24:Fa(f,g,E,N,c),c&&B&2048&&bh(g.alternate,g);break;default:Fa(f,g,E,N,c)}e=e.sibling}}function fl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,a=e,c=a.flags;switch(a.tag){case 22:fl(i,a),c&2048&&Eh(a.alternate,a);break;case 24:fl(i,a),c&2048&&bh(a.alternate,a);break;default:fl(i,a)}e=e.sibling}}var dl=8192;function Ka(t,e,i){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Vg(t,e,i),t=t.sibling}function Vg(t,e,i){switch(t.tag){case 26:Ka(t,e,i),t.flags&dl&&t.memoizedState!==null&&n1(i,Hn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,e,i);break;case 3:case 4:var a=Hn;Hn=mu(t.stateNode.containerInfo),Ka(t,e,i),Hn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=dl,dl=16777216,Ka(t,e,i),dl=a):Ka(t,e,i));break;default:Ka(t,e,i)}}function Ig(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ml(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];ze=a,jg(a,t)}Ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&as(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,eu(t)):ml(t);break;default:ml(t)}}function eu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];ze=a,jg(a,t)}Ig(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:as(8,e,e.return),eu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,eu(e));break;default:eu(e)}t=t.sibling}}function jg(t,e){for(;ze!==null;){var i=ze;switch(i.tag){case 0:case 11:case 15:as(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Jr(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,ze=a;else t:for(i=t;ze!==null;){a=ze;var c=a.sibling,f=a.return;if(xg(a),a===i){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var y_={getCacheForType:function(t){var e=qe(Te),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return qe(Te).controller.signal}},v_=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Nt=null,Ot=0,Kt=0,pn=null,rs=!1,Xa=!1,Th=!1,Mi=0,ue=0,ls=0,la=0,Sh=0,yn=0,Za=0,gl=null,ln=null,Ah=!1,nu=0,zg=0,iu=1/0,su=null,os=null,Oe=0,us=null,Ja=null,ji=0,xh=0,Rh=null,Ug=null,pl=0,wh=null;function vn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:G.T!==null?Ih():so()}function Lg(){if(yn===0)if((Ot&536870912)===0||It){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function on(t,e,i){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&($a(t,0),cs(t,Ot,yn,!1)),js(t,i),((Gt&2)===0||t!==te)&&(t===te&&((Gt&2)===0&&(la|=i),ue===4&&cs(t,Ot,yn,!1)),hi(t))}function Bg(t,e,i){if((Gt&6)!==0)throw Error(r(327));var a=!i&&(e&127)===0&&(e&t.expiredLanes)===0||In(t,e),c=a?b_(t,e):Nh(t,e,!0),f=a;do{if(c===0){Xa&&!a&&cs(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!__(i)){c=Nh(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var E=t;c=gl;var N=E.current.memoizedState.isDehydrated;if(N&&($a(E,g).flags|=256),g=Nh(E,g,!1),g!==2){if(Th&&!N){E.errorRecoveryDisabledLanes|=f,la|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){$a(t,0),cs(t,e,0,!0);break}t:{switch(a=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:cs(a,e,yn,!rs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=nu+300-Ze(),10<c)){if(cs(a,e,yn,!rs),Fn(a,0,!0)!==0)break t;ji=e,a.timeoutHandle=pp(kg.bind(null,a,i,ln,su,Ah,e,yn,la,Za,rs,f,"Throttled",-0,0),c);break t}kg(a,i,ln,su,Ah,e,yn,la,Za,rs,f,null,-0,0)}}break}while(!0);hi(t)}function kg(t,e,i,a,c,f,g,E,N,B,Q,F,k,H){if(t.timeoutHandle=-1,F=e.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Vg(e,f,F);var rt=(f&62914560)===f?nu-Ze():(f&4194048)===f?zg-Ze():0;if(rt=i1(F,rt),rt!==null){ji=f,t.cancelPendingCommit=rt(Kg.bind(null,t,e,f,i,a,c,g,E,N,Q,F,null,k,H)),cs(t,f,g,!B);return}}Kg(t,e,f,i,a,c,g,E,N)}function __(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e,i,a){e&=~Sh,e&=~la,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var c=e;0<c;){var f=31-ce(c),g=1<<f;a[f]=-1,c&=~g}i!==0&&zs(t,i,e)}function au(){return(Gt&6)===0?(yl(0),!1):!0}function Ch(){if(Nt!==null){if(Kt===0)var t=Nt.return;else t=Nt,Ai=$s=null,Gc(t),Ha=null,Wr=0,t=Nt;for(;t!==null;)yg(t.alternate,t),t=t.return;Nt=null}}function $a(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,B_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ji=0,Ch(),te=t,Nt=i=Ti(t.current,null),Ot=e,Kt=0,pn=null,rs=!1,Xa=In(t,e),Th=!1,Za=yn=Sh=la=ls=ue=0,ln=gl=null,Ah=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var c=31-ce(a),f=1<<c;e|=t[c],a&=~f}return Mi=e,Ro(),i}function qg(t,e){Rt=null,G.H=ll,e===qa||e===Mo?(e=im(),Kt=3):e===Vc?(e=im(),Kt=4):Kt=e===rh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pn=e,Nt===null&&(ue=1,Ko(t,xn(e,t.current)))}function Hg(){var t=mn.current;return t===null?!0:(Ot&4194048)===Ot?Nn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===Nn:!1}function Pg(){var t=G.H;return G.H=ll,t===null?ll:t}function Gg(){var t=G.A;return G.A=y_,t}function ru(){ue=4,rs||(Ot&4194048)!==Ot&&mn.current!==null||(Xa=!0),(ls&134217727)===0&&(la&134217727)===0||te===null||cs(te,Ot,yn,!1)}function Nh(t,e,i){var a=Gt;Gt|=2;var c=Pg(),f=Gg();(te!==t||Ot!==e)&&(su=null,$a(t,e)),e=!1;var g=ue;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,N=pn;switch(Kt){case 8:Ch(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(e=!0);var B=Kt;if(Kt=0,pn=null,Wa(t,E,N,B),i&&Xa){g=0;break t}break;default:B=Kt,Kt=0,pn=null,Wa(t,E,N,B)}}E_(),g=ue;break}catch(Q){qg(t,Q)}while(!0);return e&&t.shellSuspendCounter++,Ai=$s=null,Gt=a,G.H=c,G.A=f,Nt===null&&(te=null,Ot=0,Ro()),g}function E_(){for(;Nt!==null;)Qg(Nt)}function b_(t,e){var i=Gt;Gt|=2;var a=Pg(),c=Gg();te!==t||Ot!==e?(su=null,iu=Ze()+500,$a(t,e)):Xa=In(t,e);t:do try{if(Kt!==0&&Nt!==null){e=Nt;var f=pn;e:switch(Kt){case 1:Kt=0,pn=null,Wa(t,e,f,1);break;case 2:case 9:if(em(f)){Kt=0,pn=null,Yg(e);break}e=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),hi(t)},f.then(e,e);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:em(f)?(Kt=0,pn=null,Yg(e)):(Kt=0,pn=null,Wa(t,e,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?Op(g):E.stateNode.complete){Kt=0,pn=null;var N=E.sibling;if(N!==null)Nt=N;else{var B=E.return;B!==null?(Nt=B,lu(B)):Nt=null}break e}}Kt=0,pn=null,Wa(t,e,f,5);break;case 6:Kt=0,pn=null,Wa(t,e,f,6);break;case 8:Ch(),ue=6;break t;default:throw Error(r(462))}}T_();break}catch(Q){qg(t,Q)}while(!0);return Ai=$s=null,G.H=a,G.A=c,Gt=i,Nt!==null?0:(te=null,Ot=0,Ro(),ue)}function T_(){for(;Nt!==null&&!ac();)Qg(Nt)}function Qg(t){var e=gg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?lu(t):Nt=e}function Yg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=ug(i,e,e.pendingProps,e.type,void 0,Ot);break;case 11:e=ug(i,e,e.pendingProps,e.type.render,e.ref,Ot);break;case 5:Gc(e);default:yg(i,e),e=Nt=Gd(e,Mi),e=gg(i,e,Mi)}t.memoizedProps=t.pendingProps,e===null?lu(t):Nt=e}function Wa(t,e,i,a){Ai=$s=null,Gc(e),Ha=null,Wr=0;var c=e.return;try{if(c_(t,c,e,i,Ot)){ue=1,Ko(t,xn(i,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;ue=1,Ko(t,xn(i,t.current)),Nt=null;return}e.flags&32768?(It||a===1?t=!0:Xa||(Ot&536870912)!==0?t=!1:(rs=t=!0,(a===2||a===9||a===3||a===6)&&(a=mn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fg(e,t)):lu(e)}function lu(t){var e=t;do{if((e.flags&32768)!==0){Fg(e,rs);return}t=e.return;var i=d_(e.alternate,e,Mi);if(i!==null){Nt=i;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);ue===0&&(ue=5)}function Fg(t,e){do{var i=m_(t.alternate,t);if(i!==null){i.flags&=32767,Nt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=i}while(t!==null);ue=6,Nt=null}function Kg(t,e,i,a,c,f,g,E,N){t.cancelPendingCommit=null;do ou();while(Oe!==0);if((Gt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(f=e.lanes|e.childLanes,f|=yc,oc(t,i,f,g,E,N),t===te&&(Nt=te=null,Ot=0),Ja=e,us=t,ji=i,xh=f,Rh=c,Ug=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R_(ki,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=G.T,G.T=null,c=W.p,W.p=2,g=Gt,Gt|=4;try{g_(t,e,i)}finally{Gt=g,W.p=c,G.T=a}}Oe=1,Xg(),Zg(),Jg()}}function Xg(){if(Oe===1){Oe=0;var t=us,e=Ja,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var a=W.p;W.p=2;var c=Gt;Gt|=4;try{Ng(e,t);var f=qh,g=jd(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Md(E.ownerDocument.documentElement,E)){if(N!==null&&fc(E)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var H=k.getSelection(),rt=E.textContent.length,pt=Math.min(N.start,rt),Wt=N.end===void 0?pt:Math.min(N.end,rt);!H.extend&&pt>Wt&&(g=Wt,Wt=pt,pt=g);var z=Id(E,pt),I=Id(E,Wt);if(z&&I&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var L=F.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),pt>Wt?(H.addRange(L),H.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),H.addRange(L))}}}}for(F=[],H=E;H=H.parentNode;)H.nodeType===1&&F.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Y=F[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Eu=!!kh,qh=kh=null}finally{Gt=c,W.p=a,G.T=i}}t.current=e,Oe=2}}function Zg(){if(Oe===2){Oe=0;var t=us,e=Ja,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var a=W.p;W.p=2;var c=Gt;Gt|=4;try{Ag(t,e.alternate,e)}finally{Gt=c,W.p=a,G.T=i}}Oe=3}}function Jg(){if(Oe===4||Oe===3){Oe=0,Jl();var t=us,e=Ja,i=ji,a=Ug;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Oe=5:(Oe=0,Ja=us=null,$g(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(os=null),vi(i),e=e.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Vn,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=G.T,c=W.p,W.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<a.length;g++){var E=a[g];f(E.value,{componentStack:E.stack})}}finally{G.T=e,W.p=c}}(ji&3)!==0&&ou(),hi(t),c=t.pendingLanes,(i&261930)!==0&&(c&42)!==0?t===wh?pl++:(pl=0,wh=t):pl=0,yl(0)}}function $g(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Jr(e)))}function ou(){return Xg(),Zg(),Jg(),Wg()}function Wg(){if(Oe!==5)return!1;var t=us,e=xh;xh=0;var i=vi(ji),a=G.T,c=W.p;try{W.p=32>i?32:i,G.T=null,i=Rh,Rh=null;var f=us,g=ji;if(Oe=0,Ja=us=null,ji=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,Mg(f.current),Og(f,f.current,g,i),Gt=E,yl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Vn,f)}catch{}return!0}finally{W.p=c,G.T=a,$g(t,e)}}function tp(t,e,i){e=xn(i,e),e=ah(t.stateNode,e,2),t=ns(t,e,2),t!==null&&(js(t,2),hi(t))}function Xt(t,e,i){if(t.tag===3)tp(t,t,i);else for(;e!==null;){if(e.tag===3){tp(e,t,i);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(os===null||!os.has(a))){t=xn(i,t),i=eg(2),a=ns(e,i,2),a!==null&&(ng(i,a,e,t),js(a,2),hi(a));break}}e=e.return}}function Dh(t,e,i){var a=t.pingCache;if(a===null){a=t.pingCache=new v_;var c=new Set;a.set(e,c)}else c=a.get(e),c===void 0&&(c=new Set,a.set(e,c));c.has(i)||(Th=!0,c.add(i),t=S_.bind(null,t,e,i),e.then(t,t))}function S_(t,e,i){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(Ot&i)===i&&(ue===4||ue===3&&(Ot&62914560)===Ot&&300>Ze()-nu?(Gt&2)===0&&$a(t,0):Sh|=i,Za===Ot&&(Za=0)),hi(t)}function ep(t,e){e===0&&(e=io()),t=Xs(t,e),t!==null&&(js(t,e),hi(t))}function A_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ep(t,i)}function x_(t,e){var i=0;switch(t.tag){case 31:case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),ep(t,i)}function R_(t,e){return De(t,e)}var uu=null,tr=null,Oh=!1,cu=!1,Vh=!1,hs=0;function hi(t){t!==tr&&t.next===null&&(tr===null?uu=tr=t:tr=tr.next=t),cu=!0,Oh||(Oh=!0,C_())}function yl(t,e){if(!Vh&&cu){Vh=!0;do for(var i=!1,a=uu;a!==null;){if(t!==0){var c=a.pendingLanes;if(c===0)var f=0;else{var g=a.suspendedLanes,E=a.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,ap(a,f))}else f=Ot,f=Fn(a,a===te?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||In(a,f)||(i=!0,ap(a,f));a=a.next}while(i);Vh=!1}}function w_(){np()}function np(){cu=Oh=!1;var t=0;hs!==0&&L_()&&(t=hs);for(var e=Ze(),i=null,a=uu;a!==null;){var c=a.next,f=ip(a,e);f===0?(a.next=null,i===null?uu=c:i.next=c,c===null&&(tr=i)):(i=a,(t!==0||(f&3)!==0)&&(cu=!0)),a=c}Oe!==0&&Oe!==5||yl(t),hs!==0&&(hs=0)}function ip(t,e){for(var i=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,N=c[g];N===-1?((E&i)===0||(E&a)!==0)&&(c[g]=lc(E,e)):N<=e&&(t.expiredLanes|=E),f&=~E}if(e=te,i=Ot,i=Fn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,i===0||t===e&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Bi(a),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||In(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(a!==null&&Bi(a),vi(i)){case 2:case 8:i=wr;break;case 32:i=ki;break;case 268435456:i=$l;break;default:i=ki}return a=sp.bind(null,t),i=De(i,a),t.callbackPriority=e,t.callbackNode=i,e}return a!==null&&a!==null&&Bi(a),t.callbackPriority=2,t.callbackNode=null,2}function sp(t,e){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(ou()&&t.callbackNode!==i)return null;var a=Ot;return a=Fn(t,t===te?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Bg(t,a,e),ip(t,Ze()),t.callbackNode!=null&&t.callbackNode===i?sp.bind(null,t):null)}function ap(t,e){if(ou())return null;Bg(t,e,!0)}function C_(){k_(function(){(Gt&6)!==0?De(Rr,w_):np()})}function Ih(){if(hs===0){var t=Ba;t===0&&(t=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),hs=t}return hs}function rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function lp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function N_(t,e,i,a,c){if(e==="submit"&&i&&i.stateNode===c){var f=rp((c[Me]||null).action),g=a.submitter;g&&(e=(e=g[Me]||null)?rp(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var E=new si("action","action",null,a,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(hs!==0){var N=g?lp(c,g):new FormData(c);Wc(i,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?lp(c,g):new FormData(c),Wc(i,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var Mh=0;Mh<pc.length;Mh++){var jh=pc[Mh],D_=jh.toLowerCase(),O_=jh[0].toUpperCase()+jh.slice(1);qn(D_,"on"+O_)}qn(Ld,"onAnimationEnd"),qn(Bd,"onAnimationIteration"),qn(kd,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Fv,"onTransitionRun"),qn(Kv,"onTransitionStart"),qn(Xv,"onTransitionCancel"),qn(qd,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function op(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],c=a.event;a=a.listeners;t:{var f=void 0;if(e)for(var g=a.length-1;0<=g;g--){var E=a[g],N=E.instance,B=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){xo(Q)}c.currentTarget=null,f=N}else for(g=0;g<a.length;g++){if(E=a[g],N=E.instance,B=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){xo(Q)}c.currentTarget=null,f=N}}}}function Dt(t,e){var i=e[_a];i===void 0&&(i=e[_a]=new Set);var a=t+"__bubble";i.has(a)||(up(e,t,2,!1),i.add(a))}function zh(t,e,i){var a=0;e&&(a|=4),up(i,t,a,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Uh(t){if(!t[hu]){t[hu]=!0,Dr.forEach(function(i){i!=="selectionchange"&&(V_.has(i)||zh(i,!1,t),zh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,zh("selectionchange",!1,e))}}function up(t,e,i,a){switch(Lp(e)){case 2:var c=r1;break;case 8:c=l1;break;default:c=$h}i=c.bind(null,e,i,t),c=void 0,!qs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Lh(t,e,i,a,c){var f=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var E=a.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=a.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Jn(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){a=f=g;continue t}E=E.parentNode}}a=a.return}Yi(function(){var B=f,Q=bn(i),F=[];t:{var k=Hd.get(t);if(k!==void 0){var H=si,rt=t;switch(t){case"keypress":if(Ps(i)===0)break t;case"keydown":case"keyup":H=To;break;case"focusin":rt="focus",H=Qs;break;case"focusout":rt="blur",H=Qs;break;case"beforeblur":case"afterblur":H=Qs;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ld:case Bd:case kd:H=go;break;case qd:H=b;break;case"scroll":case"scrollend":H=Hr;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=bi;break;case"toggle":case"beforetoggle":H=xt}var pt=(e&4)!==0,Wt=!pt&&(t==="scroll"||t==="scrollend"),z=pt?k!==null?k+"Capture":null:k;pt=[];for(var I=B,L;I!==null;){var Y=I;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||z===null||(Y=Un(I,z),Y!=null&&pt.push(_l(I,Y,L))),Wt)break;I=I.return}0<pt.length&&(k=new H(k,rt,null,i,Q),F.push({event:k,listeners:pt}))}}if((e&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&i!==Br&&(rt=i.relatedTarget||i.fromElement)&&(Jn(rt)||rt[Xn]))break t;if((H||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,H?(rt=i.relatedTarget||i.toElement,H=B,rt=rt?Jn(rt):null,rt!==null&&(Wt=h(rt),pt=rt.tag,rt!==Wt||pt!==5&&pt!==27&&pt!==6)&&(rt=null)):(H=null,rt=B),H!==rt)){if(pt=Pr,Y="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=bi,Y="onPointerLeave",z="onPointerEnter",I="pointer"),Wt=H==null?k:cn(H),L=rt==null?k:cn(rt),k=new pt(Y,I+"leave",H,i,Q),k.target=Wt,k.relatedTarget=L,Y=null,Jn(Q)===B&&(pt=new pt(z,I+"enter",rt,i,Q),pt.target=L,pt.relatedTarget=Wt,Y=pt),Wt=Y,H&&rt)e:{for(pt=I_,z=H,I=rt,L=0,Y=z;Y;Y=pt(Y))L++;Y=0;for(var ft=I;ft;ft=pt(ft))Y++;for(;0<L-Y;)z=pt(z),L--;for(;0<Y-L;)I=pt(I),Y--;for(;L--;){if(z===I||I!==null&&z===I.alternate){pt=z;break e}z=pt(z),I=pt(I)}pt=null}else pt=null;H!==null&&cp(F,k,H,pt,!1),rt!==null&&Wt!==null&&cp(F,Wt,rt,pt,!0)}}t:{if(k=B?cn(B):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var qt=wd;else if(xd(k))if(Cd)qt=Gv;else{qt=Hv;var ot=qv}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Sa(B.elementType)&&(qt=wd):qt=Pv;if(qt&&(qt=qt(t,B))){Rd(F,qt,i,Q);break t}ot&&ot(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&zr(k,"number",k.value)}switch(ot=B?cn(B):window,t){case"focusin":(xd(ot)||ot.contentEditable==="true")&&(Oa=ot,dc=B,Kr=null);break;case"focusout":Kr=dc=Oa=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,zd(F,i,Q);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":zd(F,i,Q)}var Ct;if(Pt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Da?Ys(t,i)&&(Vt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Vt="onCompositionStart");Vt&&(li&&i.locale!=="ko"&&(Da||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Da&&(Ct=qr()):(ii=Q,kr="value"in ii?ii.value:ii.textContent,Da=!0)),ot=fu(B,Vt),0<ot.length&&(Vt=new ri(Vt,t,null,i,Q),F.push({event:Vt,listeners:ot}),Ct?Vt.data=Ct:(Ct=Na(i),Ct!==null&&(Vt.data=Ct)))),(Ct=Sn?Uv(t,i):Lv(t,i))&&(Vt=fu(B,"onBeforeInput"),0<Vt.length&&(ot=new ri("onBeforeInput","beforeinput",null,i,Q),F.push({event:ot,listeners:Vt}),ot.data=Ct)),N_(F,t,B,i,Q)}op(F,e)})}function _l(t,e,i){return{instance:t,listener:e,currentTarget:i}}function fu(t,e){for(var i=e+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Un(t,i),c!=null&&a.unshift(_l(t,c,f)),c=Un(t,e),c!=null&&a.push(_l(t,c,f))),t.tag===3)return a;t=t.return}return[]}function I_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,e,i,a,c){for(var f=e._reactName,g=[];i!==null&&i!==a;){var E=i,N=E.alternate,B=E.stateNode;if(E=E.tag,N!==null&&N===a)break;E!==5&&E!==26&&E!==27||B===null||(N=B,c?(B=Un(i,f),B!=null&&g.unshift(_l(i,B,N))):c||(B=Un(i,f),B!=null&&g.push(_l(i,B,N)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var M_=/\r\n?/g,j_=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(M_,`
`).replace(j_,"")}function fp(t,e){return e=hp(e),hp(t)===e}function $t(t,e,i,a,c,f){switch(i){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||nn(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&nn(t,""+a);break;case"className":hn(t,"class",a);break;case"tabIndex":hn(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,i,a);break;case"style":Lr(t,a,f);break;case"data":if(e!=="object"){hn(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Aa(""+a),t.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&$t(t,e,"name",c.name,c,null),$t(t,e,"formEncType",c.formEncType,c,null),$t(t,e,"formMethod",c.formMethod,c,null),$t(t,e,"formTarget",c.formTarget,c,null)):($t(t,e,"encType",c.encType,c,null),$t(t,e,"method",c.method,c,null),$t(t,e,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Aa(""+a),t.setAttribute(i,a);break;case"onClick":a!=null&&(t.onclick=zn);break;case"onScroll":a!=null&&Dt("scroll",t);break;case"onScrollEnd":a!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}i=Aa(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""+a):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":a===!0?t.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,a):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(i,a):t.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(i):t.setAttribute(i,a);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),ba(t,"popover",a);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ba(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ho.get(i)||i,ba(t,i,a))}}function Bh(t,e,i,a,c,f){switch(i){case"style":Lr(t,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof a=="string"?nn(t,a):(typeof a=="number"||typeof a=="bigint")&&nn(t,""+a);break;case"onScroll":a!=null&&Dt("scroll",t);break;case"onScrollEnd":a!=null&&Dt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[Me]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof a=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,a,c);break t}i in t?t[i]=a:a===!0?t.setAttribute(i,""):ba(t,i,a)}}}function Pe(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var a=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:$t(t,e,f,g,i,null)}}c&&$t(t,e,"srcSet",i.srcSet,i,null),a&&$t(t,e,"src",i.src,i,null);return;case"input":Dt("invalid",t);var E=f=g=c=null,N=null,B=null;for(a in i)if(i.hasOwnProperty(a)){var Q=i[a];if(Q!=null)switch(a){case"name":c=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,e));break;default:$t(t,e,a,Q,i,null)}}oo(t,f,E,N,B,g,c,!1);return;case"select":Dt("invalid",t),a=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":a=E;default:$t(t,e,c,E,i,null)}e=f,i=g,t.multiple=!!a,e!=null?Hi(t,!!a,e,!1):i!=null&&Hi(t,!!a,i,!0);return;case"textarea":Dt("invalid",t),f=c=a=null;for(g in i)if(i.hasOwnProperty(g)&&(E=i[g],E!=null))switch(g){case"value":a=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$t(t,e,g,E,i,null)}Pi(t,a,c,f);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:$t(t,e,N,a,i,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(a=0;a<vl.length;a++)Dt(vl[a],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(a=i[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:$t(t,e,B,a,i,null)}return;default:if(Sa(e)){for(Q in i)i.hasOwnProperty(Q)&&(a=i[Q],a!==void 0&&Bh(t,e,Q,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&$t(t,e,E,a,i,null))}function z_(t,e,i,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,B=null,Q=null;for(H in i){var F=i[H];if(i.hasOwnProperty(H)&&F!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=F;default:a.hasOwnProperty(H)||$t(t,e,H,null,a,F)}}for(var k in a){var H=a[k];if(F=i[k],a.hasOwnProperty(k)&&(H!=null||F!=null))switch(k){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,e));break;default:H!==F&&$t(t,e,k,H,a,F)}}Ta(t,g,E,N,B,Q,f,c);return;case"select":H=g=E=k=null;for(f in i)if(N=i[f],i.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:a.hasOwnProperty(f)||$t(t,e,f,null,a,N)}for(c in a)if(f=a[c],N=i[c],a.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&$t(t,e,c,f,a,N)}e=E,i=g,a=H,k!=null?Hi(t,!!i,k,!1):!!a!=!!i&&(e!=null?Hi(t,!!i,e,!0):Hi(t,!!i,i?[]:"",!1));return;case"textarea":H=k=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,e,E,null,a,c)}for(g in a)if(c=a[g],f=i[g],a.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$t(t,e,g,c,a,f)}uo(t,k,H);return;case"option":for(var rt in i)if(k=i[rt],i.hasOwnProperty(rt)&&k!=null&&!a.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:$t(t,e,rt,null,a,k)}for(N in a)if(k=a[N],H=i[N],a.hasOwnProperty(N)&&k!==H&&(k!=null||H!=null))switch(N){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:$t(t,e,N,k,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in i)k=i[pt],i.hasOwnProperty(pt)&&k!=null&&!a.hasOwnProperty(pt)&&$t(t,e,pt,null,a,k);for(B in a)if(k=a[B],H=i[B],a.hasOwnProperty(B)&&k!==H&&(k!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,e));break;default:$t(t,e,B,k,a,H)}return;default:if(Sa(e)){for(var Wt in i)k=i[Wt],i.hasOwnProperty(Wt)&&k!==void 0&&!a.hasOwnProperty(Wt)&&Bh(t,e,Wt,void 0,a,k);for(Q in a)k=a[Q],H=i[Q],!a.hasOwnProperty(Q)||k===H||k===void 0&&H===void 0||Bh(t,e,Q,k,a,H);return}}for(var z in i)k=i[z],i.hasOwnProperty(z)&&k!=null&&!a.hasOwnProperty(z)&&$t(t,e,z,null,a,k);for(F in a)k=a[F],H=i[F],!a.hasOwnProperty(F)||k===H||k==null&&H==null||$t(t,e,F,k,a,H)}function dp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var c=i[a],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&dp(g)){for(g=0,E=c.responseEnd,a+=1;a<i.length;a++){var N=i[a],B=N.startTime;if(B>E)break;var Q=N.transferSize,F=N.initiatorType;Q&&dp(F)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-B)/(N-B)))}if(--a,e+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kh=null,qh=null;function du(t){return t.nodeType===9?t:t.ownerDocument}function mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=null;function L_(){var t=window.event;return t&&t.type==="popstate"?t===Ph?!1:(Ph=t,!0):(Ph=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,B_=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,k_=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(t){return yp.resolve(null).then(t).catch(q_)}:pp;function q_(t){setTimeout(function(){throw t})}function fs(t){return t==="head"}function vp(t,e){var i=e,a=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(a===0){t.removeChild(c),sr(e);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")El(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,El(i);for(var f=i.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Zn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&El(t.ownerDocument.body);i=c}while(i);sr(e)}function _p(t,e){var i=t;t=0;do{var a=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=a}while(i)}function Gh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gh(i),Ea(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function H_(t,e,i,a){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Zn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function P_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function Ep(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Dn(t.nextSibling),t===null))return null;return t}function Qh(t){return t.data==="$?"||t.data==="$~"}function Yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function G_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var a=function(){e(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Fh=null;function bp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Dn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Sp(t,e,i){switch(e=du(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function El(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ea(t)}var On=new Map,Ap=new Set;function mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zi=W.d;W.d={f:Q_,r:Y_,D:F_,C:K_,L:X_,m:Z_,X:$_,S:J_,M:W_};function Q_(){var t=zi.f(),e=au();return t||e}function Y_(t){var e=En(t);e!==null&&e.tag===5&&e.type==="form"?qm(e):zi.r(t)}var er=typeof document>"u"?null:document;function xp(t,e,i){var a=er;if(a&&typeof e=="string"&&e){var c=en(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Ap.has(c)||(Ap.add(c),t={rel:t,crossOrigin:i,href:e},a.querySelector(c)===null&&(e=a.createElement("link"),Pe(e,"link",t),Ee(e),a.head.appendChild(e)))}}function F_(t){zi.D(t),xp("dns-prefetch",t,null)}function K_(t,e){zi.C(t,e),xp("preconnect",t,e)}function X_(t,e,i){zi.L(t,e,i);var a=er;if(a&&t&&e){var c='link[rel="preload"][as="'+en(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+en(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+en(i.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var f=c;switch(e){case"style":f=nr(t);break;case"script":f=ir(t)}On.has(f)||(t=C({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),On.set(f,t),a.querySelector(c)!==null||e==="style"&&a.querySelector(bl(f))||e==="script"&&a.querySelector(Tl(f))||(e=a.createElement("link"),Pe(e,"link",t),Ee(e),a.head.appendChild(e)))}}function Z_(t,e){zi.m(t,e);var i=er;if(i&&t){var a=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+en(a)+'"][href="'+en(t)+'"]',f=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ir(t)}if(!On.has(f)&&(t=C({rel:"modulepreload",href:t},e),On.set(f,t),i.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Tl(f)))return}a=i.createElement("link"),Pe(a,"link",t),Ee(a),i.head.appendChild(a)}}}function J_(t,e,i){zi.S(t,e,i);var a=er;if(a&&t){var c=$n(a).hoistableStyles,f=nr(t);e=e||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=a.querySelector(bl(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":e},i),(i=On.get(f))&&Kh(t,i);var N=g=a.createElement("link");Ee(N),Pe(N,"link",t),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gu(g,e,a)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function $_(t,e){zi.X(t,e);var i=er;if(i&&t){var a=$n(i).hoistableScripts,c=ir(t),f=a.get(c);f||(f=i.querySelector(Tl(c)),f||(t=C({src:t,async:!0},e),(e=On.get(c))&&Xh(t,e),f=i.createElement("script"),Ee(f),Pe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(c,f))}}function W_(t,e){zi.M(t,e);var i=er;if(i&&t){var a=$n(i).hoistableScripts,c=ir(t),f=a.get(c);f||(f=i.querySelector(Tl(c)),f||(t=C({src:t,async:!0,type:"module"},e),(e=On.get(c))&&Xh(t,e),f=i.createElement("script"),Ee(f),Pe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(c,f))}}function Rp(t,e,i,a){var c=(c=wt.current)?mu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=nr(i.href),i=$n(c).hoistableStyles,a=i.get(e),a||(a={type:"style",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=nr(i.href);var f=$n(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(bl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},On.set(t,i),f||t1(c,t,i,g.state))),e&&a===null)throw Error(r(528,""));return g}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ir(i),i=$n(c).hoistableScripts,a=i.get(e),a||(a={type:"script",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function nr(t){return'href="'+en(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function wp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function t1(t,e,i,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Pe(e,"link",i),Ee(e),t.head.appendChild(e))}function ir(t){return'[src="'+en(t)+'"]'}function Tl(t){return"script[async]"+t}function Cp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+en(i.href)+'"]');if(a)return e.instance=a,Ee(a),a;var c=C({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Ee(a),Pe(a,"style",c),gu(a,i.precedence,t),e.instance=a;case"stylesheet":c=nr(i.href);var f=t.querySelector(bl(c));if(f)return e.state.loading|=4,e.instance=f,Ee(f),f;a=wp(i),(c=On.get(c))&&Kh(a,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Pe(f,"link",a),e.state.loading|=4,gu(f,i.precedence,t),e.instance=f;case"script":return f=ir(i.src),(c=t.querySelector(Tl(f)))?(e.instance=c,Ee(c),c):(a=i,(c=On.get(f))&&(a=C({},i),Xh(a,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),Pe(c,"link",a),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,gu(a,i.precedence,t));return e.instance}function gu(t,e,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,f=c,g=0;g<a.length;g++){var E=a[g];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Kh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pu=null;function Np(t,e,i){if(pu===null){var a=new Map,c=pu=new Map;c.set(i,a)}else c=pu,a=c.get(i),a||(a=new Map,c.set(i,a));if(a.has(t))return a;for(a.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[Zn]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var E=a.get(g);E?E.push(f):a.set(g,[f])}}return a}function Dp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function e1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Op(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function n1(t,e,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=nr(a.href),f=e.querySelector(bl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=yu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,Ee(f);return}f=e.ownerDocument||e,a=wp(a),(c=On.get(c))&&Kh(a,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Pe(f,"link",a),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=yu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Zh=0;function i1(t,e){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var a=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&Zh===0&&(Zh=62500*U_());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vu=null;function _u(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vu=new Map,e.forEach(s1,t),vu=null,yu.call(t))}function s1(t,e){if(!(e.state.loading&4)){var i=vu.get(t);if(i)var a=i.get(null);else{i=new Map,vu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),a=g)}a&&i.set(null,a)}c=e.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||a,f===a&&i.set(null,c),i.set(g,c),this.count++,a=yu.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Sl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function a1(t,e,i,a,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Vp(t,e,i,a,c,f,g,E,N,B,Q,F){return t=new a1(t,e,i,g,N,B,Q,F,E),e=1,f===!0&&(e|=24),f=dn(3,null,null,e),t.current=f,f.stateNode=t,e=Nc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:a,isDehydrated:i,cache:e},Ic(f),t}function Ip(t){return t?(t=Ma,t):Ma}function Mp(t,e,i,a,c,f){c=Ip(c),a.context===null?a.context=c:a.pendingContext=c,a=es(e),a.payload={element:i},f=f===void 0?null:f,f!==null&&(a.callback=f),i=ns(t,a,e),i!==null&&(on(i,t,e),el(i,t,e))}function jp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Jh(t,e){jp(t,e),(t=t.alternate)&&jp(t,e)}function zp(t){if(t.tag===13||t.tag===31){var e=Xs(t,67108864);e!==null&&on(e,t,67108864),Jh(t,67108864)}}function Up(t){if(t.tag===13||t.tag===31){var e=vn();e=Us(e);var i=Xs(t,e);i!==null&&on(i,t,e),Jh(t,e)}}var Eu=!0;function r1(t,e,i,a){var c=G.T;G.T=null;var f=W.p;try{W.p=2,$h(t,e,i,a)}finally{W.p=f,G.T=c}}function l1(t,e,i,a){var c=G.T;G.T=null;var f=W.p;try{W.p=8,$h(t,e,i,a)}finally{W.p=f,G.T=c}}function $h(t,e,i,a){if(Eu){var c=Wh(a);if(c===null)Lh(t,e,a,bu,i),Bp(t,a);else if(u1(c,t,e,i,a))a.stopPropagation();else if(Bp(t,a),e&4&&-1<o1.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Yn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-ce(g);E.entanglements[1]|=N,g&=~N}hi(f),(Gt&6)===0&&(iu=Ze()+500,yl(0))}}break;case 31:case 13:E=Xs(f,2),E!==null&&on(E,f,2),au(),Jh(f,2)}if(f=Wh(a),f===null&&Lh(t,e,a,bu,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Lh(t,e,a,null,i)}}function Wh(t){return t=bn(t),tf(t)}var bu=null;function tf(t){if(bu=null,t=Jn(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===31){if(t=y(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return bu=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Is()){case Rr:return 2;case wr:return 8;case ki:case rc:return 32;case $l:return 268435456;default:return 32}default:return 32}}var ef=!1,ds=null,ms=null,gs=null,Al=new Map,xl=new Map,ps=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function Rl(t,e,i,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},e!==null&&(e=En(e),e!==null&&zp(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function u1(t,e,i,a,c){switch(e){case"focusin":return ds=Rl(ds,t,e,i,a,c),!0;case"dragenter":return ms=Rl(ms,t,e,i,a,c),!0;case"mouseover":return gs=Rl(gs,t,e,i,a,c),!0;case"pointerover":var f=c.pointerId;return Al.set(f,Rl(Al.get(f)||null,t,e,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Rl(xl.get(f)||null,t,e,i,a,c)),!0}return!1}function kp(t){var e=Jn(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,Mn(t.priority,function(){Up(i)});return}}else if(e===31){if(e=y(i),e!==null){t.blockedOn=e,Mn(t.priority,function(){Up(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Wh(t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);Br=a,i.target.dispatchEvent(a),Br=null}else return e=En(i),e!==null&&zp(e),t.blockedOn=i,!1;e.shift()}return!0}function qp(t,e,i){Tu(t)&&i.delete(e)}function c1(){ef=!1,ds!==null&&Tu(ds)&&(ds=null),ms!==null&&Tu(ms)&&(ms=null),gs!==null&&Tu(gs)&&(gs=null),Al.forEach(qp),xl.forEach(qp)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,ef||(ef=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,c1)))}var Au=null;function Hp(t){Au!==t&&(Au=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var e=0;e<t.length;e+=3){var i=t[e],a=t[e+1],c=t[e+2];if(typeof a!="function"){if(tf(a||i)===null)continue;break}var f=En(i);f!==null&&(t.splice(e,3),e-=3,Wc(f,{pending:!0,data:c,method:i.method,action:a},a,c))}}))}function sr(t){function e(N){return Su(N,t)}ds!==null&&Su(ds,t),ms!==null&&Su(ms,t),gs!==null&&Su(gs,t),Al.forEach(e),xl.forEach(e);for(var i=0;i<ps.length;i++){var a=ps[i];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ps.length&&(i=ps[0],i.blockedOn===null);)kp(i),i.blockedOn===null&&ps.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var c=i[a],f=i[a+1],g=c[Me]||null;if(typeof f=="function")g||Hp(i);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(tf(c)!==null)continue}else E=g.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),Hp(i)}}}function Pp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function nf(t){this._internalRoot=t}xu.prototype.render=nf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,a=vn();Mp(i,a,t,e,null,null)},xu.prototype.unmount=nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mp(t.current,2,null,t,null,null),au(),e[Xn]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=so();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ps.length&&e!==0&&e<ps[i].priority;i++);ps.splice(i,0,t),i===0&&kp(t)}};var Gp=n.version;if(Gp!=="19.2.3")throw Error(r(527,Gp,"19.2.3"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(e),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var h1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Vn=Ru.inject(h1),Le=Ru}catch{}}return Cl.createRoot=function(t,e){if(!u(t))throw Error(r(299));var i=!1,a="",c=Jm,f=$m,g=Wm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Vp(t,1,!1,null,null,i,a,null,c,f,g,Pp),t[Xn]=e.current,Uh(t),new nf(e)},Cl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(r(299));var a=!1,c="",f=Jm,g=$m,E=Wm,N=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),e=Vp(t,1,!0,e,i??null,a,c,N,f,g,E,Pp),e.context=Ip(null),i=e.current,a=vn(),a=Us(a),c=es(a),c.callback=null,ns(i,c,a),i=a,e.current.lanes=i,js(e,i),hi(e),t[Xn]=e.current,Uh(t),new xu(e)},Cl.version="19.2.3",Cl}var ty;function b1(){if(ty)return rf.exports;ty=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),rf.exports=E1(),rf.exports}var T1=b1();const S1=d0(T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),ey=l=>{const n=x1(l);return n.charAt(0).toUpperCase()+n.slice(1)},g0=(...l)=>l.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),R1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ct.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:u="",children:h,iconNode:d,...y},_)=>ct.createElement("svg",{ref:_,...w1,width:n,height:n,stroke:l,strokeWidth:r?Number(s)*24/Number(n):s,className:g0("lucide",u),...!h&&!R1(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,w])=>ct.createElement(v,w)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(l,n)=>{const s=ct.forwardRef(({className:r,...u},h)=>ct.createElement(C1,{ref:h,iconNode:n,className:g0(`lucide-${A1(ey(l))}`,`lucide-${l}`,r),...u}));return s.displayName=ey(l),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],p0=pe("arrow-right",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Sf=pe("camera",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Af=pe("circle-alert",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I1=pe("circle-check-big",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],j1=pe("cloud-upload",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],U1=pe("coffee",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ny=pe("download",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],k1=pe("eye-off",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H1=pe("eye",q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],cf=pe("lock-open",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hf=pe("lock",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],iy=pe("mic-off",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],F1=pe("mic-vocal",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Jf=pe("mic",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Z1=pe("play",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],y0=pe("refresh-cw",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],W1=pe("settings-2",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],eE=pe("timer",tE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iE=pe("triangle-alert",nE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xf=pe("video-off",sE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],rE=pe("video",aE),lE=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},oE=function(l){const n=[];let s=0,r=0;for(;s<l.length;){const u=l[s++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=l[s++];n[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=l[s++],d=l[s++],y=l[s++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const h=l[s++],d=l[s++];n[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return n.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const h=l[u],d=u+1<l.length,y=d?l[u+1]:0,_=u+2<l.length,v=_?l[u+2]:0,w=h>>2,C=(h&3)<<4|y>>4;let M=(y&15)<<2|v>>6,P=v&63;_||(P=64,d||(M=64)),r.push(s[w],s[C],s[M],s[P])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(v0(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):oE(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const h=s[l.charAt(u++)],y=u<l.length?s[l.charAt(u)]:0;++u;const v=u<l.length?s[l.charAt(u)]:64;++u;const C=u<l.length?s[l.charAt(u)]:64;if(++u,h==null||y==null||v==null||C==null)throw new uE;const M=h<<2|y>>4;if(r.push(M),v!==64){const P=y<<4&240|v>>2;if(r.push(P),C!==64){const et=v<<6&192|C;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class uE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cE=function(l){const n=v0(l);return _0.encodeByteArray(n,!0)},Uu=function(l){return cE(l).replace(/\./g,"")},hE=function(l){try{return _0.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=()=>fE().__FIREBASE_DEFAULTS__,mE=()=>{if(typeof process>"u"||typeof sy>"u")return;const l=sy.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},gE=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&hE(l[1]);return n&&JSON.parse(n)},$f=()=>{try{return lE()||dE()||mE()||gE()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},pE=l=>{var n,s;return(s=(n=$f())==null?void 0:n.emulatorHosts)==null?void 0:s[l]},yE=l=>{const n=pE(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},E0=()=>{var l;return(l=$f())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _E(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,h=l.sub||l.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Uu(JSON.stringify(s)),Uu(JSON.stringify(d)),""].join(".")}const Il={};function bE(){const l={prod:[],emulator:[]};for(const n of Object.keys(Il))Il[n]?l.emulator.push(n):l.prod.push(n);return l}function TE(l){let n=document.getElementById(l),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),s=!0),{created:s,element:n}}let ay=!1;function SE(l,n){if(typeof window>"u"||typeof document>"u"||!Wf(window.location.host)||Il[l]===n||Il[l]||ay)return;Il[l]=n;function s(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=bE().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,P){M.setAttribute("width","24"),M.setAttribute("id",P),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{ay=!0,d()},M}function w(M,P){M.setAttribute("id",P),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function C(){const M=TE(r),P=s("text"),et=document.getElementById(P)||document.createElement("span"),tt=s("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),vt=s("preprendIcon"),bt=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;y(_t),w(Z,tt);const it=v();_(bt,vt),_t.append(bt,et,Z,it),document.body.appendChild(_t)}h?(et.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xE(){var n;const l=(n=$f())==null?void 0:n.forceEnvironment;if(l==="node")return!0;if(l==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RE(){return!xE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function CE(){return new Promise((l,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),s||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{s=!1},u.onerror=()=>{var h;n(((h=u.error)==null?void 0:h.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="FirebaseError";class _r extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=NE,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b0.prototype.create)}}class b0{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},u=`${this.service}/${n}`,h=this.errors[n],d=h?DE(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new _r(u,y,r)}}function DE(l,n){return l.replace(OE,(s,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const OE=/\{\$([^}]+)}/g;function Lu(l,n){if(l===n)return!0;const s=Object.keys(l),r=Object.keys(n);for(const u of s){if(!r.includes(u))return!1;const h=l[u],d=n[u];if(ry(h)&&ry(d)){if(!Lu(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!s.includes(u))return!1;return!0}function ry(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(l){return l&&l._delegate?l._delegate:l}class Bl{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new vE;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:s});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(jE(n))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(n=oa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=oa){return this.instances.has(n)}getOptions(n=oa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&n(h,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const u of r)try{u(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ME(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=oa){return this.component?this.component.multipleInstances?n:oa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ME(l){return l===oa?void 0:l}function jE(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new IE(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ut||(Ut={}));const UE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},LE=Ut.INFO,BE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},kE=(l,n,...s)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=BE[n];if(u)console[u](`[${r}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class T0{constructor(n){this.name=n,this._logLevel=LE,this._logHandler=kE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ut))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?UE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...n),this._logHandler(this,Ut.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...n),this._logHandler(this,Ut.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...n),this._logHandler(this,Ut.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...n),this._logHandler(this,Ut.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...n),this._logHandler(this,Ut.ERROR,...n)}}const qE=(l,n)=>n.some(s=>l instanceof s);let ly,oy;function HE(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PE(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Rf=new WeakMap,A0=new WeakMap,ff=new WeakMap,td=new WeakMap;function GE(l){const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("success",h),l.removeEventListener("error",d)},h=()=>{s(Es(l.result)),u()},d=()=>{r(l.error),u()};l.addEventListener("success",h),l.addEventListener("error",d)});return n.then(s=>{s instanceof IDBCursor&&S0.set(s,l)}).catch(()=>{}),td.set(n,l),n}function QE(l){if(Rf.has(l))return;const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("complete",h),l.removeEventListener("error",d),l.removeEventListener("abort",d)},h=()=>{s(),u()},d=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",h),l.addEventListener("error",d),l.addEventListener("abort",d)});Rf.set(l,n)}let wf={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return Rf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||A0.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Es(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function YE(l){wf=l(wf)}function FE(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=l.call(df(this),n,...s);return A0.set(r,n.sort?n.sort():[n]),Es(r)}:PE().includes(l)?function(...n){return l.apply(df(this),n),Es(S0.get(this))}:function(...n){return Es(l.apply(df(this),n))}}function KE(l){return typeof l=="function"?FE(l):(l instanceof IDBTransaction&&QE(l),qE(l,HE())?new Proxy(l,wf):l)}function Es(l){if(l instanceof IDBRequest)return GE(l);if(ff.has(l))return ff.get(l);const n=KE(l);return n!==l&&(ff.set(l,n),td.set(n,l)),n}const df=l=>td.get(l);function XE(l,n,{blocked:s,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(l,n),y=Es(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Es(d.result),_.oldVersion,_.newVersion,Es(d.transaction),_)}),s&&d.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const ZE=["get","getKey","getAll","getAllKeys","count"],JE=["put","add","delete","clear"],mf=new Map;function uy(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(mf.get(n))return mf.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,u=JE.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(u||ZE.includes(s)))return;const h=async function(d,...y){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(y.shift())),(await Promise.all([v[s](...y),u&&_.done]))[0]};return mf.set(n,h),h}YE(l=>({...l,get:(n,s,r)=>uy(n,s)||l.get(n,s,r),has:(n,s)=>!!uy(n,s)||l.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(WE(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function WE(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Cf="@firebase/app",cy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new T0("@firebase/app"),tb="@firebase/app-compat",eb="@firebase/analytics-compat",nb="@firebase/analytics",ib="@firebase/app-check-compat",sb="@firebase/app-check",ab="@firebase/auth",rb="@firebase/auth-compat",lb="@firebase/database",ob="@firebase/data-connect",ub="@firebase/database-compat",cb="@firebase/functions",hb="@firebase/functions-compat",fb="@firebase/installations",db="@firebase/installations-compat",mb="@firebase/messaging",gb="@firebase/messaging-compat",pb="@firebase/performance",yb="@firebase/performance-compat",vb="@firebase/remote-config",_b="@firebase/remote-config-compat",Eb="@firebase/storage",bb="@firebase/storage-compat",Tb="@firebase/firestore",Sb="@firebase/ai",Ab="@firebase/firestore-compat",xb="firebase",Rb="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",wb={[Cf]:"fire-core",[tb]:"fire-core-compat",[nb]:"fire-analytics",[eb]:"fire-analytics-compat",[sb]:"fire-app-check",[ib]:"fire-app-check-compat",[ab]:"fire-auth",[rb]:"fire-auth-compat",[lb]:"fire-rtdb",[ob]:"fire-data-connect",[ub]:"fire-rtdb-compat",[cb]:"fire-fn",[hb]:"fire-fn-compat",[fb]:"fire-iid",[db]:"fire-iid-compat",[mb]:"fire-fcm",[gb]:"fire-fcm-compat",[pb]:"fire-perf",[yb]:"fire-perf-compat",[vb]:"fire-rc",[_b]:"fire-rc-compat",[Eb]:"fire-gcs",[bb]:"fire-gcs-compat",[Tb]:"fire-fst",[Ab]:"fire-fst-compat",[Sb]:"fire-vertex","fire-js":"fire-js",[xb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new Map,Cb=new Map,Df=new Map;function hy(l,n){try{l.container.addComponent(n)}catch(s){Ui.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function ku(l){const n=l.name;if(Df.has(n))return Ui.debug(`There were multiple attempts to register component ${n}.`),!1;Df.set(n,l);for(const s of Bu.values())hy(s,l);for(const s of Cb.values())hy(s,l);return!0}function Nb(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function Db(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new b0("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=Rb;function x0(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const r={name:Nf,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw bs.create("bad-app-name",{appName:String(u)});if(s||(s=E0()),!s)throw bs.create("no-options");const h=Bu.get(u);if(h){if(Lu(s,h.options)&&Lu(r,h.config))return h;throw bs.create("duplicate-app",{appName:u})}const d=new zE(u);for(const _ of Df.values())d.addComponent(_);const y=new Vb(s,r,d);return Bu.set(u,y),y}function Mb(l=Nf){const n=Bu.get(l);if(!n&&l===Nf&&E0())return x0();if(!n)throw bs.create("no-app",{appName:l});return n}function ur(l,n,s){let r=wb[l]??l;s&&(r+=`-${s}`);const u=r.match(/\s|\//),h=n.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${n}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}ku(new Bl(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebase-heartbeat-database",zb=1,kl="firebase-heartbeat-store";let gf=null;function R0(){return gf||(gf=XE(jb,zb,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(kl)}catch(s){console.warn(s)}}}}).catch(l=>{throw bs.create("idb-open",{originalErrorMessage:l.message})})),gf}async function Ub(l){try{const s=(await R0()).transaction(kl),r=await s.objectStore(kl).get(w0(l));return await s.done,r}catch(n){if(n instanceof _r)Ui.warn(n.message);else{const s=bs.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(s.message)}}}async function fy(l,n){try{const r=(await R0()).transaction(kl,"readwrite");await r.objectStore(kl).put(n,w0(l)),await r.done}catch(s){if(s instanceof _r)Ui.warn(s.message);else{const r=bs.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Ui.warn(r.message)}}}function w0(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1024,Bb=30;class kb{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Hb(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,s;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=dy();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>Bb){const d=Pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=dy(),{heartbeatsToSend:r,unsentEntries:u}=qb(this._heartbeatsCache.heartbeats),h=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(s){return Ui.warn(s),""}}}function dy(){return new Date().toISOString().substring(0,10)}function qb(l,n=Lb){const s=[];let r=l.slice();for(const u of l){const h=s.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),my(s)>n){h.dates.pop();break}}else if(s.push({agent:u.agent,dates:[u.date]}),my(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class Hb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?CE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Ub(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return fy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return fy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function my(l){return Uu(JSON.stringify({version:2,heartbeats:l})).length}function Pb(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let r=1;r<l.length;r++)l[r].date<s&&(s=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(l){ku(new Bl("platform-logger",n=>new $E(n),"PRIVATE")),ku(new Bl("heartbeat",n=>new kb(n),"PRIVATE")),ur(Cf,cy,l),ur(Cf,cy,"esm2020"),ur("fire-js","")}Gb("");var Qb="firebase",Yb="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(Qb,Yb,"app");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,C0;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(x,A){function S(){}S.prototype=A.prototype,x.F=A.prototype,x.prototype=new S,x.prototype.constructor=x,x.D=function(O,D,V){for(var T=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)T[dt-2]=arguments[dt];return A.prototype[D].apply(O,T)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}n(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(x,A,S){S||(S=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(D=0;D<16;++D)O[D]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=x.g[0],S=x.g[1],D=x.g[2];let V=x.g[3],T;T=A+(V^S&(D^V))+O[0]+3614090360&4294967295,A=S+(T<<7&4294967295|T>>>25),T=V+(D^A&(S^D))+O[1]+3905402710&4294967295,V=A+(T<<12&4294967295|T>>>20),T=D+(S^V&(A^S))+O[2]+606105819&4294967295,D=V+(T<<17&4294967295|T>>>15),T=S+(A^D&(V^A))+O[3]+3250441966&4294967295,S=D+(T<<22&4294967295|T>>>10),T=A+(V^S&(D^V))+O[4]+4118548399&4294967295,A=S+(T<<7&4294967295|T>>>25),T=V+(D^A&(S^D))+O[5]+1200080426&4294967295,V=A+(T<<12&4294967295|T>>>20),T=D+(S^V&(A^S))+O[6]+2821735955&4294967295,D=V+(T<<17&4294967295|T>>>15),T=S+(A^D&(V^A))+O[7]+4249261313&4294967295,S=D+(T<<22&4294967295|T>>>10),T=A+(V^S&(D^V))+O[8]+1770035416&4294967295,A=S+(T<<7&4294967295|T>>>25),T=V+(D^A&(S^D))+O[9]+2336552879&4294967295,V=A+(T<<12&4294967295|T>>>20),T=D+(S^V&(A^S))+O[10]+4294925233&4294967295,D=V+(T<<17&4294967295|T>>>15),T=S+(A^D&(V^A))+O[11]+2304563134&4294967295,S=D+(T<<22&4294967295|T>>>10),T=A+(V^S&(D^V))+O[12]+1804603682&4294967295,A=S+(T<<7&4294967295|T>>>25),T=V+(D^A&(S^D))+O[13]+4254626195&4294967295,V=A+(T<<12&4294967295|T>>>20),T=D+(S^V&(A^S))+O[14]+2792965006&4294967295,D=V+(T<<17&4294967295|T>>>15),T=S+(A^D&(V^A))+O[15]+1236535329&4294967295,S=D+(T<<22&4294967295|T>>>10),T=A+(D^V&(S^D))+O[1]+4129170786&4294967295,A=S+(T<<5&4294967295|T>>>27),T=V+(S^D&(A^S))+O[6]+3225465664&4294967295,V=A+(T<<9&4294967295|T>>>23),T=D+(A^S&(V^A))+O[11]+643717713&4294967295,D=V+(T<<14&4294967295|T>>>18),T=S+(V^A&(D^V))+O[0]+3921069994&4294967295,S=D+(T<<20&4294967295|T>>>12),T=A+(D^V&(S^D))+O[5]+3593408605&4294967295,A=S+(T<<5&4294967295|T>>>27),T=V+(S^D&(A^S))+O[10]+38016083&4294967295,V=A+(T<<9&4294967295|T>>>23),T=D+(A^S&(V^A))+O[15]+3634488961&4294967295,D=V+(T<<14&4294967295|T>>>18),T=S+(V^A&(D^V))+O[4]+3889429448&4294967295,S=D+(T<<20&4294967295|T>>>12),T=A+(D^V&(S^D))+O[9]+568446438&4294967295,A=S+(T<<5&4294967295|T>>>27),T=V+(S^D&(A^S))+O[14]+3275163606&4294967295,V=A+(T<<9&4294967295|T>>>23),T=D+(A^S&(V^A))+O[3]+4107603335&4294967295,D=V+(T<<14&4294967295|T>>>18),T=S+(V^A&(D^V))+O[8]+1163531501&4294967295,S=D+(T<<20&4294967295|T>>>12),T=A+(D^V&(S^D))+O[13]+2850285829&4294967295,A=S+(T<<5&4294967295|T>>>27),T=V+(S^D&(A^S))+O[2]+4243563512&4294967295,V=A+(T<<9&4294967295|T>>>23),T=D+(A^S&(V^A))+O[7]+1735328473&4294967295,D=V+(T<<14&4294967295|T>>>18),T=S+(V^A&(D^V))+O[12]+2368359562&4294967295,S=D+(T<<20&4294967295|T>>>12),T=A+(S^D^V)+O[5]+4294588738&4294967295,A=S+(T<<4&4294967295|T>>>28),T=V+(A^S^D)+O[8]+2272392833&4294967295,V=A+(T<<11&4294967295|T>>>21),T=D+(V^A^S)+O[11]+1839030562&4294967295,D=V+(T<<16&4294967295|T>>>16),T=S+(D^V^A)+O[14]+4259657740&4294967295,S=D+(T<<23&4294967295|T>>>9),T=A+(S^D^V)+O[1]+2763975236&4294967295,A=S+(T<<4&4294967295|T>>>28),T=V+(A^S^D)+O[4]+1272893353&4294967295,V=A+(T<<11&4294967295|T>>>21),T=D+(V^A^S)+O[7]+4139469664&4294967295,D=V+(T<<16&4294967295|T>>>16),T=S+(D^V^A)+O[10]+3200236656&4294967295,S=D+(T<<23&4294967295|T>>>9),T=A+(S^D^V)+O[13]+681279174&4294967295,A=S+(T<<4&4294967295|T>>>28),T=V+(A^S^D)+O[0]+3936430074&4294967295,V=A+(T<<11&4294967295|T>>>21),T=D+(V^A^S)+O[3]+3572445317&4294967295,D=V+(T<<16&4294967295|T>>>16),T=S+(D^V^A)+O[6]+76029189&4294967295,S=D+(T<<23&4294967295|T>>>9),T=A+(S^D^V)+O[9]+3654602809&4294967295,A=S+(T<<4&4294967295|T>>>28),T=V+(A^S^D)+O[12]+3873151461&4294967295,V=A+(T<<11&4294967295|T>>>21),T=D+(V^A^S)+O[15]+530742520&4294967295,D=V+(T<<16&4294967295|T>>>16),T=S+(D^V^A)+O[2]+3299628645&4294967295,S=D+(T<<23&4294967295|T>>>9),T=A+(D^(S|~V))+O[0]+4096336452&4294967295,A=S+(T<<6&4294967295|T>>>26),T=V+(S^(A|~D))+O[7]+1126891415&4294967295,V=A+(T<<10&4294967295|T>>>22),T=D+(A^(V|~S))+O[14]+2878612391&4294967295,D=V+(T<<15&4294967295|T>>>17),T=S+(V^(D|~A))+O[5]+4237533241&4294967295,S=D+(T<<21&4294967295|T>>>11),T=A+(D^(S|~V))+O[12]+1700485571&4294967295,A=S+(T<<6&4294967295|T>>>26),T=V+(S^(A|~D))+O[3]+2399980690&4294967295,V=A+(T<<10&4294967295|T>>>22),T=D+(A^(V|~S))+O[10]+4293915773&4294967295,D=V+(T<<15&4294967295|T>>>17),T=S+(V^(D|~A))+O[1]+2240044497&4294967295,S=D+(T<<21&4294967295|T>>>11),T=A+(D^(S|~V))+O[8]+1873313359&4294967295,A=S+(T<<6&4294967295|T>>>26),T=V+(S^(A|~D))+O[15]+4264355552&4294967295,V=A+(T<<10&4294967295|T>>>22),T=D+(A^(V|~S))+O[6]+2734768916&4294967295,D=V+(T<<15&4294967295|T>>>17),T=S+(V^(D|~A))+O[13]+1309151649&4294967295,S=D+(T<<21&4294967295|T>>>11),T=A+(D^(S|~V))+O[4]+4149444226&4294967295,A=S+(T<<6&4294967295|T>>>26),T=V+(S^(A|~D))+O[11]+3174756917&4294967295,V=A+(T<<10&4294967295|T>>>22),T=D+(A^(V|~S))+O[2]+718787259&4294967295,D=V+(T<<15&4294967295|T>>>17),T=S+(V^(D|~A))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(D+(T<<21&4294967295|T>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+V&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const S=A-this.blockSize,O=this.C;let D=this.h,V=0;for(;V<A;){if(D==0)for(;V<=S;)u(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<A;)if(O[D++]=x.charCodeAt(V++),D==this.blockSize){u(this,O),D=0;break}}else for(;V<A;)if(O[D++]=x[V++],D==this.blockSize){u(this,O),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var S=x.length-8;S<x.length;++S)x[S]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,S=0;S<4;++S)for(let O=0;O<32;O+=8)x[A++]=this.g[S]>>>O&255;return x};function h(x,A){var S=y;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=A(x)}function d(x,A){this.h=A;const S=[];let O=!0;for(let D=x.length-1;D>=0;D--){const V=x[D]|0;O&&V==A||(S[D]=V,O=!1)}this.g=S}var y={};function _(x){return-128<=x&&x<128?h(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return C;if(x<0)return Z(v(-x));const A=[];let S=1;for(let O=0;x>=S;O++)A[O]=x/S|0,S*=4294967296;return new d(A,0)}function w(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Z(w(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=v(Math.pow(A,8));let O=C;for(let V=0;V<x.length;V+=8){var D=Math.min(8,x.length-V);const T=parseInt(x.substring(V,V+D),A);D<8?(D=v(Math.pow(A,D)),O=O.j(D).add(v(T))):(O=O.j(S),O=O.add(v(T)))}return O}var C=_(0),M=_(1),P=_(16777216);l=d.prototype,l.m=function(){if(tt(this))return-Z(this).m();let x=0,A=1;for(let S=0;S<this.g.length;S++){const O=this.i(S);x+=(O>=0?O:4294967296+O)*A,A*=4294967296}return x},l.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(et(this))return"0";if(tt(this))return"-"+Z(this).toString(x);const A=v(Math.pow(x,6));var S=this;let O="";for(;;){const D=it(S,A).g;S=vt(S,D.j(A));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(x);if(S=D,et(S))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},l.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function et(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function tt(x){return x.h==-1}l.l=function(x){return x=vt(this,x),tt(x)?-1:et(x)?0:1};function Z(x){const A=x.g.length,S=[];for(let O=0;O<A;O++)S[O]=~x.g[O];return new d(S,~x.h).add(M)}l.abs=function(){return tt(this)?Z(this):this},l.add=function(x){const A=Math.max(this.g.length,x.g.length),S=[];let O=0;for(let D=0;D<=A;D++){let V=O+(this.i(D)&65535)+(x.i(D)&65535),T=(V>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);O=T>>>16,V&=65535,T&=65535,S[D]=T<<16|V}return new d(S,S[S.length-1]&-2147483648?-1:0)};function vt(x,A){return x.add(Z(A))}l.j=function(x){if(et(this)||et(x))return C;if(tt(this))return tt(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(tt(x))return Z(this.j(Z(x)));if(this.l(P)<0&&x.l(P)<0)return v(this.m()*x.m());const A=this.g.length+x.g.length,S=[];for(var O=0;O<2*A;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<x.g.length;D++){const V=this.i(O)>>>16,T=this.i(O)&65535,dt=x.i(D)>>>16,Qt=x.i(D)&65535;S[2*O+2*D]+=T*Qt,bt(S,2*O+2*D),S[2*O+2*D+1]+=V*Qt,bt(S,2*O+2*D+1),S[2*O+2*D+1]+=T*dt,bt(S,2*O+2*D+1),S[2*O+2*D+2]+=V*dt,bt(S,2*O+2*D+2)}for(x=0;x<A;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=A;x<2*A;x++)S[x]=0;return new d(S,0)};function bt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function _t(x,A){this.g=x,this.h=A}function it(x,A){if(et(A))throw Error("division by zero");if(et(x))return new _t(C,C);if(tt(x))return A=it(Z(x),A),new _t(Z(A.g),Z(A.h));if(tt(A))return A=it(x,Z(A)),new _t(Z(A.g),A.h);if(x.g.length>30){if(tt(x)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var S=M,O=A;O.l(x)<=0;)S=ut(S),O=ut(O);var D=lt(S,1),V=lt(O,1);for(O=lt(O,2),S=lt(S,2);!et(O);){var T=V.add(O);T.l(x)<=0&&(D=D.add(S),V=T),O=lt(O,1),S=lt(S,1)}return A=vt(x,D.j(A)),new _t(D,A)}for(D=C;x.l(A)>=0;){for(S=Math.max(1,Math.floor(x.m()/A.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=v(S),T=V.j(A);tt(T)||T.l(x)>0;)S-=O,V=v(S),T=V.j(A);et(V)&&(V=M),D=D.add(V),x=vt(x,T)}return new _t(D,x)}l.B=function(x){return it(this,x).h},l.and=function(x){const A=Math.max(this.g.length,x.g.length),S=[];for(let O=0;O<A;O++)S[O]=this.i(O)&x.i(O);return new d(S,this.h&x.h)},l.or=function(x){const A=Math.max(this.g.length,x.g.length),S=[];for(let O=0;O<A;O++)S[O]=this.i(O)|x.i(O);return new d(S,this.h|x.h)},l.xor=function(x){const A=Math.max(this.g.length,x.g.length),S=[];for(let O=0;O<A;O++)S[O]=this.i(O)^x.i(O);return new d(S,this.h^x.h)};function ut(x){const A=x.g.length+1,S=[];for(let O=0;O<A;O++)S[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(S,x.h)}function lt(x,A){const S=A>>5;A%=32;const O=x.g.length-S,D=[];for(let V=0;V<O;V++)D[V]=A>0?x.i(V+S)>>>A|x.i(V+S+1)<<32-A:x.i(V+S);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,C0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Ts=d}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N0,Nl,D0,Vu,Of,O0,V0,I0;(function(){var l,n=Object.defineProperty;function s(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=s(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var b=0;b<o.length-1;b++){var U=o[b];if(!(U in p))break t;p=p[U]}o=o[o.length-1],b=p[o],m=m(b),m!=b&&m!=null&&n(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function _(o,m,p){return o.call.apply(o.bind,arguments)}function v(o,m,p){return v=_,v.apply(null,arguments)}function w(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function C(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(b,U,q){for(var J=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)J[xt-2]=arguments[xt];return m.prototype[U].apply(b,J)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function P(o){const m=o.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=o[b];return p}return[]}function et(o,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const q=U.length||0;o.length=p+q;for(let J=0;J<q;J++)o[p+J]=U[J]}else o.push(U)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function vt(){var o=x;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,p){const b=_t.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var _t=new tt(()=>new it,o=>o.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,lt=!1,x=new bt,A=()=>{const o=Promise.resolve(void 0);ut=()=>{o.then(S)}};function S(){for(var o;o=vt();){try{o.h.call(o.g)}catch(p){Z(p)}var m=_t;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}lt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function T(o){return/^[\s\xa0]*$/.test(o)}function dt(o,m){D.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}C(dt,D),dt.prototype.init=function(o,m){const p=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(o,m,p,b,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function mt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Bt(o,m,p){for(const b in o)m.call(p,o[b],b,o)}function Yt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function j(o){const m={};for(const p in o)m[p]=o[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(o,m){let p,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(p in b)o[p]=b[p];for(let q=0;q<K.length;q++)p=K[q],Object.prototype.hasOwnProperty.call(b,p)&&(o[p]=b[p])}}function st(o){this.src=o,this.g={},this.h=0}st.prototype.add=function(o,m,p,b,U){const q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);const J=wt(o,m,b,U);return J>-1?(m=o[J],p||(m.fa=!1)):(m=new W(m,this.src,q,!!b,U),m.fa=p,o.push(m)),m};function Et(o,m){const p=m.type;if(p in o.g){var b=o.g[p],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(mt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function wt(o,m,p,b){for(let U=0;U<o.length;++U){const q=o[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==b)return U}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ie(o,m,p,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ie(o,m[q],p,b,U);return null}return p=xr(p),o&&o[Qt]?o.J(m,p,y(b)?!!b.capture:!1,U):Os(o,m,p,!1,b,U)}function Os(o,m,p,b,U,q){if(!m)throw Error("Invalid event type");const J=y(U)?!!U.capture:!!U;let xt=Vs(o);if(xt||(o[jt]=xt=new st(o)),p=xt.add(m,p,b,J,q),p.proxy)return p;if(b=ga(),p.proxy=b,b.src=o,b.listener=p,o.addEventListener)V||(U=J),U===void 0&&(U=!1),o.addEventListener(m.toString(),b,U);else if(o.attachEvent)o.attachEvent(Gn(m.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ga(){function o(p){return m.call(o.src,o.listener,p)}const m=Sr;return o}function pa(o,m,p,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)pa(o,m[q],p,b,U);else b=y(b)?!!b.capture:!!b,p=xr(p),o&&o[Qt]?(o=o.i,q=String(m).toString(),q in o.g&&(m=o.g[q],p=wt(m,p,b,U),p>-1&&(mt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[q],o.h--)))):o&&(o=Vs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wt(m,p,b,U)),(p=o>-1?m[o]:null)&&ya(p))}function ya(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Qt])Et(m.i,o);else{var p=o.type,b=o.proxy;m.removeEventListener?m.removeEventListener(p,b,o.capture):m.detachEvent?m.detachEvent(Gn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Vs(m))?(Et(p,o),p.h==0&&(p.src=null,m[jt]=null)):mt(o)}}}function Gn(o){return o in Ne?Ne[o]:Ne[o]="on"+o}function Sr(o,m){if(o.da)o=!0;else{m=new dt(m,this);const p=o.listener,b=o.ha||o.src;o.fa&&ya(o),o=p.call(b,m)}return o}function Vs(o){return o=o[jt],o instanceof st?o:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(o){return typeof o=="function"?o:(o[Ar]||(o[Ar]=function(m){return o.handleEvent(m)}),o[Ar])}function ye(){O.call(this),this.i=new st(this),this.M=this,this.G=null}C(ye,O),ye.prototype[Qt]=!0,ye.prototype.removeEventListener=function(o,m,p,b){pa(this,o,m,p,b)};function De(o,m){var p,b=o.G;if(b)for(p=[];b;b=b.G)p.push(b);if(o=o.M,b=m.type||m,typeof m=="string")m=new D(m,o);else if(m instanceof D)m.target=m.target||o;else{var U=m;m=new D(b,o),nt(m,U)}U=!0;let q,J;if(p)for(J=p.length-1;J>=0;J--)q=m.g=p[J],U=Bi(q,b,!0,m)&&U;if(q=m.g=o,U=Bi(q,b,!0,m)&&U,U=Bi(q,b,!1,m)&&U,p)for(J=0;J<p.length;J++)q=m.g=p[J],U=Bi(q,b,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let b=0;b<p.length;b++)mt(p[b]);delete o.g[m],o.h--}}this.G=null},ye.prototype.J=function(o,m,p,b){return this.i.add(String(o),m,!1,p,b)},ye.prototype.K=function(o,m,p,b){return this.i.add(String(o),m,!0,p,b)};function Bi(o,m,p,b){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const J=m[q];if(J&&!J.da&&J.capture==p){const xt=J.listener,he=J.ha||J.src;J.fa&&Et(o.i,J),U=xt.call(he,b)!==!1&&U}}return U&&!b.defaultPrevented}function ac(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=v(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Jl(o){o.g=ac(()=>{o.g=null,o.i&&(o.i=!1,Jl(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ze extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(o){O.call(this),this.h=o,this.g={}}C(Is,O);var Rr=[];function wr(o){Bt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ya(m)},o),o.g={}}Is.prototype.N=function(){Is.Z.N.call(this),wr(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=d.JSON.stringify,rc=d.JSON.parse,$l=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function Wl(){}function to(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}C(Le,D);function _n(){D.call(this,"c")}C(_n,D);var ce={},eo=null;function va(){return eo=eo||new ye}ce.Ia="serverreachability";function no(o){D.call(this,ce.Ia,o)}C(no,D);function Qn(o){const m=va();De(m,new no(m))}ce.STAT_EVENT="statevent";function Ms(o,m){D.call(this,ce.STAT_EVENT,o),this.stat=m}C(Ms,D);function ve(o){const m=va();De(m,new Ms(m,o))}ce.Ja="timingevent";function Yn(o,m){D.call(this,ce.Ja,o),this.size=m}C(Yn,D);function Fn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function lc(o,m,p,b,U,q){o.info(function(){if(o.g)if(q){var J="",xt=q.split("&");for(let Pt=0;Pt<xt.length;Pt++){var he=xt[Pt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(se+"="+he+"&"):J+(se+"=redacted&")}}}else J=null;else J=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+p+`
`+J})}function io(o,m,p,b,U,q,J){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+J})}function Kn(o,m,p,b){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+oc(o,p)+(b?" "+b:"")})}function js(o,m){o.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function oc(o,m){if(!o.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(o=0;o<q.length;o++)if(Array.isArray(q[o])){var p=q[o];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let J=1;J<b.length;J++)b[J]=""}}}}return ki(q)}catch{return m}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function Us(){}C(Us,Wl),Us.prototype.g=function(){return new XMLHttpRequest},Nr=new Us;function vi(o){return encodeURIComponent(String(o))}function so(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function Mn(o,m,p,b){this.j=o,this.i=m,this.l=p,this.S=b||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function Xn(o,m,p){o.M=1,o.A=Ls(be(m)),o.u=p,o.R=!0,_a(o,null)}function _a(o,m){o.F=Date.now(),Zn(o),o.B=be(o.A);var p=o.B,b=o.S;Array.isArray(b)||(b=[String(b)]),Sa(p.i,"t",b),o.C=0,p=o.j.L,o.h=new jn,o.g=Eo(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ze(v(o.Y,o,o.g),o.P)),m=o.V,p=o.g,b=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(Rr[0]=U.toString()),U=Rr);for(let q=0;q<U.length;q++){const J=ie(p,U[q],b||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.J?j(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Qn(),lc(o.i,o.v,o.B,o.l,o.S,o.u)}Mn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Ln(o)==3?m.j():this.Y(o)},Mn.prototype.Y=function(o){try{if(o==this.g)t:{const xt=Ln(this.g),he=this.g.ya(),Pt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||xt!=4||he==7||(he==8||Pt<=0?Qn(3):Qn(2)),Jn(this);var m=this.g.ca();this.X=m;var p=uc(this);if(this.o=m==200,io(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(b)){var q=b;break e}}q=null}if(o=q)Kn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$n(this,o);else{this.o=!1,this.m=3,ve(12),cn(this),En(this);break t}}if(this.R){o=!0;let se;for(;!this.K&&this.C<p.length;)if(se=ro(this,p),se==Me){xt==4&&(this.m=4,ve(14),o=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ve(15),Kn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Kn(this.i,this.l,se,null),$n(this,se);if(ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||p.length!=0||this.h.h||(this.m=1,ve(16),o=!1),this.o=this.o&&o,!o)Kn(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Gr(J),J.P=!0,ve(11))}}else Kn(this.i,this.l,p,null),$n(this,p);xt==4&&cn(this),this.o&&!this.K&&(xt==4?po(this.j,this):(this.o=!1,Zn(this)))}else Ei(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),cn(this),En(this)}}}catch{}finally{}};function uc(o){if(!ao(o))return o.g.la();const m=Be(o.g);if(m==="")return"";let p="";const b=m.length,U=Ln(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return cn(o),En(o),"";o.h.i=new d.TextDecoder}for(let q=0;q<b;q++)o.h.h=!0,p+=o.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function ao(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function ro(o,m){var p=o.C,b=m.indexOf(`
`,p);return b==-1?Me:(p=Number(m.substring(p,b)),isNaN(p)?_e:(b+=1,b+p>m.length?Me:(m=m.slice(b,b+p),o.C=b+p,m)))}Mn.prototype.cancel=function(){this.K=!0,cn(this)};function Zn(o){o.T=Date.now()+o.H,Ea(o,o.H)}function Ea(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Fn(v(o.aa,o),m)}function Jn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Mn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(js(this.i,this.B),this.M!=2&&(Qn(),ve(17)),cn(this),this.m=2,En(this)):Ea(this,this.T-o)};function En(o){o.j.I==0||o.K||po(o.j,o)}function cn(o){Jn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,wr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function $n(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ti(p.h,o))){if(!o.L&&ti(p.h,o)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Ca(p),Ki(p);else break t;Qs(p),ve(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Fn(v(p.Va,p),6e3));Wn(p.h)<=1&&p.ta&&(p.ta=void 0)}else ri(p,11)}else if((o.L||p.g==o)&&Ca(p),!T(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];const se=Pt[0];if(!(se<=p.K))if(p.K=se,Pt=Pt[1],p.I==2)if(Pt[0]=="c"){p.M=Pt[1],p.ba=Pt[2];const Sn=Pt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const li=Pt[4];li!=null&&(p.za=li,p.j.info("SVER="+p.za));const Bn=Pt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(b=1.5*Bn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const kn=o.g;if(kn){const Ys=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var q=b.h;q.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vr(q,q.h),q.h=null))}if(b.G){const Na=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(b.wa=Na,Ft(b.J,b.G,Na))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var J=o;if(b.na=_o(b,b.L?b.ba:null,b.W),J.L){Ir(b.h,J);var xt=J,he=b.O;he&&(xt.H=he),xt.D&&(Jn(xt),Zn(xt)),b.g=J}else mo(b);p.i.length>0&&ai(p)}else Pt[0]!="stop"&&Pt[0]!="close"||ri(p,7);else p.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?ri(p,7):Hr(p):Pt[0]!="noop"&&p.l&&p.l.qa(Pt),p.A=0)}}Qn(4)}catch{}}var Ee=class{constructor(o,m){this.g=o,this.map=m}};function Dr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Or(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wn(o){return o.h?1:o.g?o.g.size:0}function ti(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Vr(o,m){o.g?o.g.add(m):o.h=m}function Ir(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Dr.prototype.cancel=function(){if(this.i=Mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Mr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return P(o.i)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const b=o[p].indexOf("=");let U,q=null;b>=0?(U=o[p].substring(0,b),q=o[p].substring(b+1)):U=o[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof hn?(this.l=o.l,je(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.u),this.h=o.h,jr(this,ho(o.i)),this.m=o.m):o&&(m=String(o).match(lo))?(this.l=!1,je(this,m[1]||"",!0),this.o=ei(m[2]||""),this.g=ei(m[3]||"",!0),qi(this,m[4]),this.h=ei(m[5]||"",!0),jr(this,m[6]||"",!0),this.m=ei(m[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}hn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Bs(m,Ta,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Bs(m,Ta,!0),"@"),o.push(vi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Bs(p,p.charAt(0)=="/"?zr:oo,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Bs(p,uo)),o.join("")},hn.prototype.resolve=function(o){const m=be(this);let p=!!o.j;p?je(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var b=o.h;if(p)qi(m,o.u);else if(p=!!o.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let J=0;J<U.length;){const xt=U[J++];xt=="."?b&&J==U.length&&q.push(""):xt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&J==U.length&&q.push("")):(q.push(xt),b=!0)}b=q.join("/")}else b=U}return p?m.h=b:p=o.i.toString()!=="",p?jr(m,ho(o.i)):p=!!o.m,p&&(m.m=o.m),m};function be(o){return new hn(o)}function je(o,m,p){o.j=p?ei(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function jr(o,m,p){m instanceof Pi?(o.i=m,Aa(o.i,o.l)):(p||(m=Bs(m,Hi)),o.i=new Pi(m,o.l))}function Ft(o,m,p){o.i.set(m,p)}function Ls(o){return Ft(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ei(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Bs(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,en),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function en(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ta=/[#\/\?@]/g,oo=/[#\?:]/g,zr=/[#\?]/g,Hi=/[#\?@]/g,uo=/#/g;function Pi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function nn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}l=Pi.prototype,l.add=function(o,m){nn(this),this.i=null,o=Gi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function co(o,m){nn(o),m=Gi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Ur(o,m){return nn(o),m=Gi(o,m),o.g.has(m)}l.forEach=function(o,m){nn(this),this.g.forEach(function(p,b){p.forEach(function(U){o.call(m,U,b,this)},this)},this)};function Lr(o,m){nn(o);let p=[];if(typeof m=="string")Ur(o,m)&&(p=p.concat(o.g.get(Gi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}l.set=function(o,m){return nn(this),this.i=null,o=Gi(this,o),Ur(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},l.get=function(o,m){return o?(o=Lr(this,o),o.length>0?String(o[0]):m):m};function Sa(o,m,p){co(o,m),p.length>0&&(o.i=null,o.g.set(Gi(o,m),P(p)),o.h+=p.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const U=vi(p);p=Lr(this,p);for(let q=0;q<p.length;q++){let J=U;p[q]!==""&&(J+="="+vi(p[q])),o.push(J)}}return this.i=o.join("&")};function ho(o){const m=new Pi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Gi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Aa(o,m){m&&!o.j&&(nn(o),o.i=null,o.g.forEach(function(p,b){const U=b.toLowerCase();b!=U&&(co(this,b),Sa(this,U,p))},o)),o.j=m}function zn(o,m){const p=new In;if(d.Image){const b=new Image;b.onload=w(bn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=w(bn,p,"TestLoadImage: error",!1,m,b),b.onabort=w(bn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=w(bn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else m(!1)}function Br(o,m){const p=new In,b=new AbortController,U=setTimeout(()=>{b.abort(),bn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?bn(p,"TestPingServer: ok",!0,m):bn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(p,"TestPingServer: error",!1,m)})}function bn(o,m,p,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(p)}catch{}}function Qi(){this.g=new $l}function ni(o){this.i=o.Sb||null,this.h=o.ab||!1}C(ni,Wl),ni.prototype.g=function(){return new ks(this.i,this.h)};function ks(o,m){ye.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(ks,ye),l=ks.prototype,l.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Un(this)},l.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},l.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}l.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Yi(this):Un(this),this.readyState==3&&xa(this)}},l.Oa=function(o){this.g&&(this.response=this.responseText=o,Yi(this))},l.Na=function(o){this.g&&(this.response=o,Yi(this))},l.ga=function(){this.g&&Yi(this)};function Yi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Un(o)}l.setRequestHeader=function(o,m){this.A.append(o,m)},l.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Un(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return Bt(o,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function qs(o,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Tn(p),typeof o=="string"?p!=null&&vi(p):Ft(o,m,p))}function Zt(o){ye.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Zt,ye);var ii=/^https?$/i,kr=["POST","PUT"];l=Zt.prototype,l.Fa=function(o){this.H=o},l.ea=function(o,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Hs(this,q);return}if(o=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)p.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())p.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(kr,m,void 0)>=0)||b||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of p)this.g.setRequestHeader(q,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(q){Hs(this,q)}};function Hs(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,qr(o),_i(o)}function qr(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}l.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),_i(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Zt.Z.N.call(this)},l.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},l.Xa=function(){Ps(this)};function Ps(o){if(o.h&&typeof h<"u"){if(o.v&&Ln(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),Ln(o)==4){o.h=!1;try{const q=o.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=q===0){let J=String(o.D).match(lo)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),b=!ii.test(J?J.toLowerCase():"")}p=b}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var U=Ln(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",qr(o)}}finally{_i(o)}}}}function _i(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}l.isActive=function(){return!!this.g};function Ln(o){return o.g?o.g.readyState:0}l.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},l.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),rc(m)}};function Be(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(o){const m={};o=(o.g&&Ln(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(T(o[b]))continue;var p=so(o[b]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}Yt(m,function(b){return b.join(", ")})}l.ya=function(){return this.o},l.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Fi(o){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=si("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=si("baseRetryDelayMs",5e3,o),this.Za=si("retryDelaySeedMs",1e4,o),this.Ta=si("forwardChannelMaxRetries",2,o),this.va=si("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Dr(o&&o.concurrentRequestLimit),this.Ba=new Qi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}l=Fi.prototype,l.ka=8,l.I=1,l.connect=function(o,m,p,b){ve(0),this.W=o,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=_o(this,null,this.W),ai(this)};function Hr(o){if(Ra(o),o.I==3){var m=o.V++,p=be(o.J);if(Ft(p,"SID",o.M),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Gs(o,p),m=new Mn(o,o.j,m),m.M=2,m.A=Ls(be(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Eo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zn(m)}vo(o)}function Ki(o){o.g&&(Gr(o),o.g.cancel(),o.g=null)}function Ra(o){Ki(o),o.v&&(d.clearTimeout(o.v),o.v=null),Ca(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function ai(o){if(!Or(o.h)&&!o.m){o.m=!0;var m=o.Ea;ut||A(),lt||(ut(),lt=!0),x.add(m,o),o.D=0}}function wa(o,m){return Wn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Fn(v(o.Ea,o,m),yo(o,o.D)),o.D++,!0)}l.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new Mn(this,this.j,o);let q=this.o;if(this.U&&(q?(q=j(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=fo(this,U,m),p=be(this.J),Ft(p,"RID",o),Ft(p,"CVER",22),this.G&&Ft(p,"X-HTTP-Session-Id",this.G),Gs(this,p),q&&(this.R?m="headers="+vi(Tn(q))+"&"+m:this.u&&qs(p,this.u,q)),Vr(this.h,U),this.Ra&&Ft(p,"TYPE","init"),this.S?(Ft(p,"$req",m),Ft(p,"SID","null"),U.U=!0,Xn(U,p,null)):Xn(U,p,m),this.I=2}}else this.I==3&&(o?Pr(this,o):this.i.length==0||Or(this.h)||Pr(this))};function Pr(o,m){var p;m?p=m.l:p=o.V++;const b=be(o.J);Ft(b,"SID",o.M),Ft(b,"RID",p),Ft(b,"AID",o.K),Gs(o,b),o.u&&o.o&&qs(b,o.u,o.o),p=new Mn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=fo(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Vr(o.h,p),Xn(p,b,m)}function Gs(o,m){o.H&&Bt(o.H,function(p,b){Ft(m,b,p)}),o.l&&Bt({},function(p,b){Ft(m,b,p)})}function fo(o,m,p){p=Math.min(o.i.length,p);const b=o.l?v(o.l.Ka,o.l,o):null;t:{var U=o.i;let xt=-1;for(;;){const he=["count="+p];xt==-1?p>0?(xt=U[0].g,he.push("ofs="+xt)):xt=0:he.push("ofs="+xt);let Pt=!0;for(let se=0;se<p;se++){var q=U[se].g;const Sn=U[se].map;if(q-=xt,q<0)xt=Math.max(0,U[se].g-100),Pt=!1;else try{q="req"+q+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[li,Bn]of J){let kn=Bn;y(Bn)&&(kn=ki(Bn)),he.push(q+li+"="+encodeURIComponent(kn))}}catch(li){throw he.push(q+"type="+encodeURIComponent("_badmap")),li}}catch{b&&b(Sn)}}if(Pt){J=he.join("&");break t}}J=void 0}return o=o.i.splice(0,p),m.G=o,J}function mo(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;ut||A(),lt||(ut(),lt=!0),x.add(m,o),o.A=0}}function Qs(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Fn(v(o.Da,o),yo(o,o.A)),o.A++,!0)}l.Da=function(){if(this.v=null,go(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Fn(v(this.Wa,this),o)}},l.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ki(this),go(this))};function Gr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function go(o){o.g=new Mn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=be(o.na);Ft(m,"RID","rpc"),Ft(m,"SID",o.M),Ft(m,"AID",o.K),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ft(m,"TO",o.ia),Ft(m,"TYPE","xmlhttp"),Gs(o,m),o.u&&o.o&&qs(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ls(be(m)),p.u=null,p.R=!0,_a(p,o)}l.Va=function(){this.C!=null&&(this.C=null,Ki(this),Qs(this),ve(19))};function Ca(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function po(o,m){var p=null;if(o.g==m){Ca(o),Gr(o),o.g=null;var b=2}else if(ti(o.h,m))p=m.G,Ir(o.h,m),b=1;else return;if(o.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;b=va(),De(b,new Yn(b,p)),ai(o)}else mo(o);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&wa(o,m)||b==2&&Qs(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:ri(o,5);break;case 4:ri(o,10);break;case 3:ri(o,6);break;default:ri(o,2)}}}function yo(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ri(o,m){if(o.j.info("Error code "+m),m==2){var p=v(o.bb,o),b=o.Ua;const U=!b;b=new hn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(b,"https"),Ls(b),U?zn(b.toString(),p):Br(b.toString(),p)}else ve(2);o.I=0,o.l&&o.l.pa(m),vo(o),Ra(o)}l.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vo(o){if(o.I=0,o.ja=[],o.l){const m=Mr(o.h);(m.length!=0||o.i.length!=0)&&(et(o.ja,m),et(o.ja,o.i),o.h.i.length=0,P(o.i),o.i.length=0),o.l.oa()}}function _o(o,m,p){var b=p instanceof hn?be(p):new hn(p);if(b.g!="")m&&(b.g=m+"."+b.g),qi(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new hn(null);b&&je(q,b),m&&(q.g=m),U&&qi(q,U),p&&(q.h=p),b=q}return p=o.G,m=o.wa,p&&m&&Ft(b,p,m),Ft(b,"VER",o.ka),Gs(o,b),b}function Eo(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Zt(new ni({ab:p})):new Zt(o.ma),m.Fa(o.L),m}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}l=bo.prototype,l.ra=function(){},l.qa=function(){},l.pa=function(){},l.oa=function(){},l.isActive=function(){return!0},l.Ka=function(){};function Xi(){}Xi.prototype.g=function(o,m){return new Je(o,m)};function Je(o,m){ye.call(this),this.g=new Fi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!T(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!T(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new bi(this)}C(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Hr(this.g)},Je.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=ki(o),o=p);m.i.push(new Ee(m.Ya++,o)),m.I==3&&ai(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Hr(this.g),delete this.g,Je.Z.N.call(this)};function To(o){Le.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}C(To,Le);function So(){_n.call(this),this.status=1}C(So,_n);function bi(o){this.g=o}C(bi,bo),bi.prototype.ra=function(){De(this.g,"a")},bi.prototype.qa=function(o){De(this.g,new To(o))},bi.prototype.pa=function(o){De(this.g,new So)},bi.prototype.oa=function(){De(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,I0=function(){return new Xi},V0=function(){return va()},O0=ce,Of={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Vu=zs,Cr.COMPLETE="complete",D0=Cr,to.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Nl=to,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,N0=Zt}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore",yy="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new T0("@firebase/firestore");function ar(){return da.logLevel}function at(l,...n){if(da.logLevel<=Ut.DEBUG){const s=n.map(ed);da.debug(`Firestore (${Er}): ${l}`,...s)}}function Li(l,...n){if(da.logLevel<=Ut.ERROR){const s=n.map(ed);da.error(`Firestore (${Er}): ${l}`,...s)}}function fr(l,...n){if(da.logLevel<=Ut.WARN){const s=n.map(ed);da.warn(`Firestore (${Er}): ${l}`,...s)}}function ed(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(l,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,M0(l,r,s)}function M0(l,n,s){let r=`FIRESTORE (${Er}) INTERNAL ASSERTION FAILED: ${n} (ID: ${l.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Li(r),new Error(r)}function le(l,n,s,r){let u="Unexpected state";typeof s=="string"?u=s:r=s,l||M0(n,u,r)}function Lt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends _r{constructor(n,s){super(n,s),this.code=n,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise(((n,s)=>{this.resolve=n,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(n,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Fb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,s){n.enqueueRetryable((()=>s(Ke.UNAUTHENTICATED)))}shutdown(){}}class Kb{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,s){this.changeListener=s,n.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class Xb{constructor(n){this.t=n,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,s){le(this.o===void 0,42304);let r=this.i;const u=_=>this.i!==r?(r=this.i,s(_)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,n.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const _=h;n.enqueueRetryable((async()=>{await _.promise,await u(this.currentUser)}))},y=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}}),0),d()}getToken(){const n=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==n?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new j0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return le(n===null||typeof n=="string",2055,{h:n}),new Ke(n)}}class Zb{constructor(n,s,r){this.P=n,this.T=s,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jb{constructor(n,s,r){this.P=n,this.T=s,this.I=r}getToken(){return Promise.resolve(new Zb(this.P,this.T,this.I))}start(n,s){n.enqueueRetryable((()=>s(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $b{constructor(n,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Db(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,s){le(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?s(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>r(h)))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((s=>s?(le(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new vy(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(s);else for(let r=0;r<l;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=Wb(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<s&&(r+=n.charAt(u[h]%62))}return r}}function Mt(l,n){return l<n?-1:l>n?1:0}function Vf(l,n){const s=Math.min(l.length,n.length);for(let r=0;r<s;r++){const u=l.charAt(r),h=n.charAt(r);if(u!==h)return pf(u)===pf(h)?Mt(u,h):pf(u)?1:-1}return Mt(l.length,n.length)}const tT=55296,eT=57343;function pf(l){const n=l.charCodeAt(0);return n>=tT&&n<=eT}function dr(l,n,s){return l.length===n.length&&l.every(((r,u)=>s(r,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class fi{constructor(n,s,r){s===void 0?s=0:s>n.length&&At(637,{offset:s,range:n.length}),r===void 0?r=n.length-s:r>n.length-s&&At(1746,{length:r,range:n.length-s}),this.segments=n,this.offset=s,this.len=r}get length(){return this.len}isEqual(n){return fi.comparator(this,n)===0}child(n){const s=this.segments.slice(this.offset,this.limit());return n instanceof fi?n.forEach((r=>{s.push(r)})):s.push(n),this.construct(s)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}forEach(n){for(let s=this.offset,r=this.limit();s<r;s++)n(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,s){const r=Math.min(n.length,s.length);for(let u=0;u<r;u++){const h=fi.compareSegments(n.get(u),s.get(u));if(h!==0)return h}return Mt(n.length,s.length)}static compareSegments(n,s){const r=fi.isNumericId(n),u=fi.isNumericId(s);return r&&!u?-1:!r&&u?1:r&&u?fi.extractNumericId(n).compare(fi.extractNumericId(s)):Vf(n,s)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Ts.fromString(n.substring(4,n.length-2))}}class re extends fi{construct(n,s,r){return new re(n,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const s=[];for(const r of n){if(r.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((u=>u.length>0)))}return new re(s)}static emptyPath(){return new re([])}}const nT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends fi{construct(n,s,r){return new We(n,s,r)}static isValidIdentifier(n){return nT.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new We([_y])}static fromServerFormat(n){const s=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let d=!1;for(;u<n.length;){const y=n[u];if(y==="\\"){if(u+1===n.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const _=n[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=_,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new We(s)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(n){this.path=n}static fromPath(n){return new yt(re.fromString(n))}static fromName(n){return new yt(re.fromString(n).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&re.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,s){return re.comparator(n.path,s.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new yt(new re(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(l,n,s){if(!s)throw new ht($.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function sT(l,n,s,r){if(n===!0&&r===!0)throw new ht($.INVALID_ARGUMENT,`${l} and ${s} cannot be used together.`)}function Ey(l){if(!yt.isDocumentKey(l))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function aT(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function rT(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=(function(r){return r.constructor?r.constructor.name:null})(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":At(12329,{type:typeof l})}function If(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=rT(l);throw new ht($.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${s}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(l,n){const s={typeString:l};return n&&(s.value=n),s}function Yl(l,n){if(!aT(l))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in n)if(n[r]){const u=n[r].typeString,h="value"in n[r]?{value:n[r].value}:void 0;if(!(r in l)){s=`JSON missing required field: '${r}'`;break}const d=l[r];if(u&&typeof d!==u){s=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){s=`Expected '${r}' field to equal '${h.value}'`;break}}if(s)throw new ht($.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-62135596800,Ty=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(n){return we.fromMillis(n.getTime())}static fromMillis(n){const s=Math.floor(n/1e3),r=Math.floor((n-1e3*s)*Ty);return new we(s,r)}constructor(n,s){if(this.seconds=n,this.nanoseconds=s,s<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(n<by)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ty}_compareTo(n){return this.seconds===n.seconds?Mt(this.nanoseconds,n.nanoseconds):Mt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(Yl(n,we._jsonSchema))return new we(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-by;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:Ce("string",we._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(n){return new St(n)}static min(){return new St(new we(0,0))}static max(){return new St(new we(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function lT(l,n){const s=l.toTimestamp().seconds,r=l.toTimestamp().nanoseconds+1,u=St.fromTimestamp(r===1e9?new we(s+1,0):new we(s,r));return new xs(u,yt.empty(),n)}function oT(l){return new xs(l.readTime,l.key,ql)}class xs{constructor(n,s,r){this.readTime=n,this.documentKey=s,this.largestBatchId=r}static min(){return new xs(St.min(),yt.empty(),ql)}static max(){return new xs(St.max(),yt.empty(),ql)}}function uT(l,n){let s=l.readTime.compareTo(n.readTime);return s!==0?s:(s=yt.comparator(l.documentKey,n.documentKey),s!==0?s:Mt(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(l){if(l.code!==$.FAILED_PRECONDITION||l.message!==cT)throw l;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(n){return this.next(void 0,n)}next(n,s){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(n,this.result):new X(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(s,h).next(r,u)}}))}toPromise(){return new Promise(((n,s)=>{this.next(n,s)}))}wrapUserFunction(n){try{const s=n();return s instanceof X?s:X.resolve(s)}catch(s){return X.reject(s)}}wrapSuccess(n,s){return n?this.wrapUserFunction((()=>n(s))):X.resolve(s)}wrapFailure(n,s){return n?this.wrapUserFunction((()=>n(s))):X.reject(s)}static resolve(n){return new X(((s,r)=>{s(n)}))}static reject(n){return new X(((s,r)=>{r(n)}))}static waitFor(n){return new X(((s,r)=>{let u=0,h=0,d=!1;n.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&s()}),(_=>r(_)))})),d=!0,h===u&&s()}))}static or(n){let s=X.resolve(!1);for(const r of n)s=s.next((u=>u?X.resolve(u):r()));return s}static forEach(n,s){const r=[];return n.forEach(((u,h)=>{r.push(s.call(this,u,h))})),this.waitFor(r)}static mapArray(n,s){return new X(((r,u)=>{const h=n.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;s(n[v]).next((w=>{d[v]=w,++y,y===h&&r(d)}),(w=>u(w)))}}))}static doWhile(n,s){return new X(((r,u)=>{const h=()=>{n()===!0?s().next((()=>{h()}),u):r()};h()}))}}function fT(l){const n=l.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function br(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}Xu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=-1;function Zu(l){return l==null}function Mf(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="";function mT(l){let n="";for(let s=0;s<l.length;s++)n.length>0&&(n=Sy(n)),n=gT(l.get(s),n);return Sy(n)}function gT(l,n){let s=n;const r=l.length;for(let u=0;u<r;u++){const h=l.charAt(u);switch(h){case"\0":s+="";break;case z0:s+="";break;default:s+=h}}return s}function Sy(l){return l+z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(l){let n=0;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&n++;return n}function Fl(l,n){for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&n(s,l[s])}function pT(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(n,s){this.comparator=n,this.root=s||Ge.EMPTY}insert(n,s){return new ge(this.comparator,this.root.insert(n,s,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(n){return new ge(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(n){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(n,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(n){let s=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(n,r.key);if(u===0)return s+r.left.size;u<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((s,r)=>(n(s,r),!1)))}toString(){const n=[];return this.inorderTraversal(((s,r)=>(n.push(`${s}:${r}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Cu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Cu(this.root,n,this.comparator,!0)}}class Cu{constructor(n,s,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=s?r(n.key,s):1,s&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const s={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ge{constructor(n,s,r,u,h){this.key=n,this.value=s,this.color=r??Ge.RED,this.left=u??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,s,r,u,h){return new Ge(n??this.key,s??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let u=this;const h=r(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,s,r),null):h===0?u.copy(null,s,null,null,null):u.copy(null,null,null,null,u.right.insert(n,s,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,s){let r,u=this;if(s(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,s),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),s(n,u.key)===0){if(u.right.isEmpty())return Ge.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,s))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw At(27949);return n+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(n,s,r,u,h){return this}insert(n,s,r){return new Ge(n,s)}remove(n,s){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(n){this.comparator=n,this.data=new ge(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((s,r)=>(n(s),!1)))}forEachInRange(n,s){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,n[1])>=0)return;s(u.key)}}forEachWhile(n,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const s=this.data.getIteratorFrom(n);return s.hasNext()?s.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(n){return new xy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let s=this;return s.size<n.size&&(s=n,n=this),n.forEach((r=>{s=s.add(r)})),s}isEqual(n){if(!(n instanceof Ie)||this.size!==n.size)return!1;const s=this.data.getIterator(),r=n.data.getIterator();for(;s.hasNext();){const u=s.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((s=>{n.push(s)})),n}toString(){const n=[];return this.forEach((s=>n.push(s))),"SortedSet("+n.toString()+")"}copy(n){const s=new Ie(this.comparator);return s.data=n,s}}class xy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(n){this.fields=n,n.sort(We.comparator)}static empty(){return new vs([])}unionWith(n){let s=new Ie(We.comparator);for(const r of this.fields)s=s.add(r);for(const r of n)s=s.add(r);return new vs(s.toArray())}covers(n){for(const s of this.fields)if(s.isPrefixOf(n))return!0;return!1}isEqual(n){return dr(this.fields,n.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(n){this.binaryString=n}static fromBase64String(n){const s=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new U0("Invalid base64 string: "+h):h}})(n);return new Qe(s)}static fromUint8Array(n){const s=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(n);return new Qe(s)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let u=0;u<s.length;u++)r[u]=s.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Mt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(l){if(le(!!l,39018),typeof l=="string"){let n=0;const s=yT.exec(l);if(le(!!s,46558,{timestamp:l}),s[1]){let u=s[1];u=(u+"000000000").substr(0,9),n=Number(u)}const r=new Date(l);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:me(l.seconds),nanos:me(l.nanos)}}function me(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function ws(l){return typeof l=="string"?Qe.fromBase64String(l):Qe.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="server_timestamp",B0="__type__",k0="__previous_value__",q0="__local_write_time__";function id(l){var s,r;return((r=(((s=l==null?void 0:l.mapValue)==null?void 0:s.fields)||{})[B0])==null?void 0:r.stringValue)===L0}function Ju(l){const n=l.mapValue.fields[k0];return id(n)?Ju(n):n}function Hl(l){const n=Rs(l.mapValue.fields[q0].timestampValue);return new we(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(n,s,r,u,h,d,y,_,v,w){this.databaseId=n,this.appId=s,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=w}}const qu="(default)";class Pl{constructor(n,s){this.projectId=n,this.database=s||qu}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===qu}isEqual(n){return n instanceof Pl&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",ET="__max__",Nu={mapValue:{}},bT="__vector__",jf="value";function Cs(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?id(l)?4:ST(l)?9007199254740991:TT(l)?10:11:At(28295,{value:l})}function pi(l,n){if(l===n)return!0;const s=Cs(l);if(s!==Cs(n))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Hl(l).isEqual(Hl(n));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Rs(u.timestampValue),y=Rs(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(l,n);case 5:return l.stringValue===n.stringValue;case 6:return(function(u,h){return ws(u.bytesValue).isEqual(ws(h.bytesValue))})(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return(function(u,h){return me(u.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(u.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(l,n);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return me(u.integerValue)===me(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=me(u.doubleValue),y=me(h.doubleValue);return d===y?Mf(d)===Mf(y):isNaN(d)&&isNaN(y)}return!1})(l,n);case 9:return dr(l.arrayValue.values||[],n.arrayValue.values||[],pi);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Ay(d)!==Ay(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!pi(d[_],y[_])))return!1;return!0})(l,n);default:return At(52216,{left:l})}}function Gl(l,n){return(l.values||[]).find((s=>pi(s,n)))!==void 0}function mr(l,n){if(l===n)return 0;const s=Cs(l),r=Cs(n);if(s!==r)return Mt(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Mt(l.booleanValue,n.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),_=me(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(l,n);case 3:return Ry(l.timestampValue,n.timestampValue);case 4:return Ry(Hl(l),Hl(n));case 5:return Vf(l.stringValue,n.stringValue);case 6:return(function(h,d){const y=ws(h),_=ws(d);return y.compareTo(_)})(l.bytesValue,n.bytesValue);case 7:return(function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const w=Mt(y[v],_[v]);if(w!==0)return w}return Mt(y.length,_.length)})(l.referenceValue,n.referenceValue);case 8:return(function(h,d){const y=Mt(me(h.latitude),me(d.latitude));return y!==0?y:Mt(me(h.longitude),me(d.longitude))})(l.geoPointValue,n.geoPointValue);case 9:return wy(l.arrayValue,n.arrayValue);case 10:return(function(h,d){var M,P,et,tt;const y=h.fields||{},_=d.fields||{},v=(M=y[jf])==null?void 0:M.arrayValue,w=(P=_[jf])==null?void 0:P.arrayValue,C=Mt(((et=v==null?void 0:v.values)==null?void 0:et.length)||0,((tt=w==null?void 0:w.values)==null?void 0:tt.length)||0);return C!==0?C:wy(v,w)})(l.mapValue,n.mapValue);case 11:return(function(h,d){if(h===Nu.mapValue&&d===Nu.mapValue)return 0;if(h===Nu.mapValue)return 1;if(d===Nu.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},w=Object.keys(v);_.sort(),w.sort();for(let C=0;C<_.length&&C<w.length;++C){const M=Vf(_[C],w[C]);if(M!==0)return M;const P=mr(y[_[C]],v[w[C]]);if(P!==0)return P}return Mt(_.length,w.length)})(l.mapValue,n.mapValue);default:throw At(23264,{he:s})}}function Ry(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return Mt(l,n);const s=Rs(l),r=Rs(n),u=Mt(s.seconds,r.seconds);return u!==0?u:Mt(s.nanos,r.nanos)}function wy(l,n){const s=l.values||[],r=n.values||[];for(let u=0;u<s.length&&u<r.length;++u){const h=mr(s[u],r[u]);if(h)return h}return Mt(s.length,r.length)}function gr(l){return zf(l)}function zf(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?(function(s){const r=Rs(s);return`time(${r.seconds},${r.nanos})`})(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?(function(s){return ws(s).toBase64()})(l.bytesValue):"referenceValue"in l?(function(s){return yt.fromName(s).toString()})(l.referenceValue):"geoPointValue"in l?(function(s){return`geo(${s.latitude},${s.longitude})`})(l.geoPointValue):"arrayValue"in l?(function(s){let r="[",u=!0;for(const h of s.values||[])u?u=!1:r+=",",r+=zf(h);return r+"]"})(l.arrayValue):"mapValue"in l?(function(s){const r=Object.keys(s.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${zf(s.fields[d])}`;return u+"}"})(l.mapValue):At(61005,{value:l})}function Iu(l){switch(Cs(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Ju(l);return n?16+Iu(n):16;case 5:return 2*l.stringValue.length;case 6:return ws(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+Iu(h)),0)})(l.arrayValue);case 10:case 11:return(function(r){let u=0;return Fl(r.fields,((h,d)=>{u+=h.length+Iu(d)})),u})(l.mapValue);default:throw At(13486,{value:l})}}function Uf(l){return!!l&&"integerValue"in l}function sd(l){return!!l&&"arrayValue"in l}function Cy(l){return!!l&&"nullValue"in l}function Ny(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function yf(l){return!!l&&"mapValue"in l}function TT(l){var s,r;return((r=(((s=l==null?void 0:l.mapValue)==null?void 0:s.fields)||{})[_T])==null?void 0:r.stringValue)===bT}function Ml(l){if(l.geoPointValue)return{geoPointValue:{...l.geoPointValue}};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:{...l.timestampValue}};if(l.mapValue){const n={mapValue:{fields:{}}};return Fl(l.mapValue.fields,((s,r)=>n.mapValue.fields[s]=Ml(r))),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let s=0;s<(l.arrayValue.values||[]).length;++s)n.arrayValue.values[s]=Ml(l.arrayValue.values[s]);return n}return{...l}}function ST(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===ET}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(n){this.value=n}static empty(){return new di({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let s=this.value;for(let r=0;r<n.length-1;++r)if(s=(s.mapValue.fields||{})[n.get(r)],!yf(s))return null;return s=(s.mapValue.fields||{})[n.lastSegment()],s||null}}set(n,s){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ml(s)}setAll(n){let s=We.emptyPath(),r={},u=[];n.forEach(((d,y)=>{if(!s.isImmediateParentOf(y)){const _=this.getFieldsMap(s);this.applyChanges(_,r,u),r={},u=[],s=y.popLast()}d?r[y.lastSegment()]=Ml(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(s);this.applyChanges(h,r,u)}delete(n){const s=this.field(n.popLast());yf(s)&&s.mapValue.fields&&delete s.mapValue.fields[n.lastSegment()]}isEqual(n){return pi(this.value,n.value)}getFieldsMap(n){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<n.length;++r){let u=s.mapValue.fields[n.get(r)];yf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},s.mapValue.fields[n.get(r)]=u),s=u}return s.mapValue.fields}applyChanges(n,s,r){Fl(s,((u,h)=>n[u]=h));for(const u of r)delete n[u]}clone(){return new di(Ml(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(n,s,r,u,h,d,y){this.key=n,this.documentType=s,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(n){return new Xe(n,0,St.min(),St.min(),St.min(),di.empty(),0)}static newFoundDocument(n,s,r,u){return new Xe(n,1,s,St.min(),r,u,0)}static newNoDocument(n,s){return new Xe(n,2,s,St.min(),St.min(),di.empty(),0)}static newUnknownDocument(n,s){return new Xe(n,3,s,St.min(),St.min(),di.empty(),2)}convertToFoundDocument(n,s){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Xe&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(n,s){this.position=n,this.inclusive=s}}function Dy(l,n,s){let r=0;for(let u=0;u<l.position.length;u++){const h=n[u],d=l.position[u];if(h.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),s.key):r=mr(d,s.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Oy(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let s=0;s<l.position.length;s++)if(!pi(l.position[s],n.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(n,s="asc"){this.field=n,this.dir=s}}function AT(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{}class Ve extends H0{constructor(n,s,r){super(),this.field=n,this.op=s,this.value=r}static create(n,s,r){return n.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(n,s,r):new RT(n,s,r):s==="array-contains"?new NT(n,r):s==="in"?new DT(n,r):s==="not-in"?new OT(n,r):s==="array-contains-any"?new VT(n,r):new Ve(n,s,r)}static createKeyFieldInFilter(n,s,r){return s==="in"?new wT(n,r):new CT(n,r)}matches(n){const s=n.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(mr(s,this.value)):s!==null&&Cs(this.value)===Cs(s)&&this.matchesComparison(mr(s,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends H0{constructor(n,s){super(),this.filters=n,this.op=s,this.Pe=null}static create(n,s){return new yi(n,s)}matches(n){return P0(this)?this.filters.find((s=>!s.matches(n)))===void 0:this.filters.find((s=>s.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,s)=>n.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P0(l){return l.op==="and"}function G0(l){return xT(l)&&P0(l)}function xT(l){for(const n of l.filters)if(n instanceof yi)return!1;return!0}function Lf(l){if(l instanceof Ve)return l.field.canonicalString()+l.op.toString()+gr(l.value);if(G0(l))return l.filters.map((n=>Lf(n))).join(",");{const n=l.filters.map((s=>Lf(s))).join(",");return`${l.op}(${n})`}}function Q0(l,n){return l instanceof Ve?(function(r,u){return u instanceof Ve&&r.op===u.op&&r.field.isEqual(u.field)&&pi(r.value,u.value)})(l,n):l instanceof yi?(function(r,u){return u instanceof yi&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&Q0(d,u.filters[y])),!0):!1})(l,n):void At(19439)}function Y0(l){return l instanceof Ve?(function(s){return`${s.field.canonicalString()} ${s.op} ${gr(s.value)}`})(l):l instanceof yi?(function(s){return s.op.toString()+" {"+s.getFilters().map(Y0).join(" ,")+"}"})(l):"Filter"}class RT extends Ve{constructor(n,s,r){super(n,s,r),this.key=yt.fromName(r.referenceValue)}matches(n){const s=yt.comparator(n.key,this.key);return this.matchesComparison(s)}}class wT extends Ve{constructor(n,s){super(n,"in",s),this.keys=F0("in",s)}matches(n){return this.keys.some((s=>s.isEqual(n.key)))}}class CT extends Ve{constructor(n,s){super(n,"not-in",s),this.keys=F0("not-in",s)}matches(n){return!this.keys.some((s=>s.isEqual(n.key)))}}function F0(l,n){var s;return(((s=n.arrayValue)==null?void 0:s.values)||[]).map((r=>yt.fromName(r.referenceValue)))}class NT extends Ve{constructor(n,s){super(n,"array-contains",s)}matches(n){const s=n.data.field(this.field);return sd(s)&&Gl(s.arrayValue,this.value)}}class DT extends Ve{constructor(n,s){super(n,"in",s)}matches(n){const s=n.data.field(this.field);return s!==null&&Gl(this.value.arrayValue,s)}}class OT extends Ve{constructor(n,s){super(n,"not-in",s)}matches(n){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=n.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Gl(this.value.arrayValue,s)}}class VT extends Ve{constructor(n,s){super(n,"array-contains-any",s)}matches(n){const s=n.data.field(this.field);return!(!sd(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(n,s=null,r=[],u=[],h=null,d=null,y=null){this.path=n,this.collectionGroup=s,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Vy(l,n=null,s=[],r=[],u=null,h=null,d=null){return new IT(l,n,s,r,u,h,d)}function ad(l){const n=Lt(l);if(n.Te===null){let s=n.path.canonicalString();n.collectionGroup!==null&&(s+="|cg:"+n.collectionGroup),s+="|f:",s+=n.filters.map((r=>Lf(r))).join(","),s+="|ob:",s+=n.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Zu(n.limit)||(s+="|l:",s+=n.limit),n.startAt&&(s+="|lb:",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>gr(r))).join(",")),n.endAt&&(s+="|ub:",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>gr(r))).join(",")),n.Te=s}return n.Te}function rd(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let s=0;s<l.orderBy.length;s++)if(!AT(l.orderBy[s],n.orderBy[s]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let s=0;s<l.filters.length;s++)if(!Q0(l.filters[s],n.filters[s]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Oy(l.startAt,n.startAt)&&Oy(l.endAt,n.endAt)}function Bf(l){return yt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(n,s=null,r=[],u=[],h=null,d="F",y=null,_=null){this.path=n,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MT(l,n,s,r,u,h,d,y){return new $u(l,n,s,r,u,h,d,y)}function ld(l){return new $u(l)}function Iy(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function jT(l){return l.collectionGroup!==null}function jl(l){const n=Lt(l);if(n.Ie===null){n.Ie=[];const s=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),s.add(h.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(n).forEach((h=>{s.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new Pu(h,r))})),s.has(We.keyField().canonicalString())||n.Ie.push(new Pu(We.keyField(),r))}return n.Ie}function gi(l){const n=Lt(l);return n.Ee||(n.Ee=zT(n,jl(l))),n.Ee}function zT(l,n){if(l.limitType==="F")return Vy(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Pu(u.field,h)}));const s=l.endAt?new Hu(l.endAt.position,l.endAt.inclusive):null,r=l.startAt?new Hu(l.startAt.position,l.startAt.inclusive):null;return Vy(l.path,l.collectionGroup,n,l.filters,l.limit,s,r)}}function kf(l,n,s){return new $u(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,s,l.startAt,l.endAt)}function Wu(l,n){return rd(gi(l),gi(n))&&l.limitType===n.limitType}function K0(l){return`${ad(gi(l))}|lt:${l.limitType}`}function rr(l){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((u=>Y0(u))).join(", ")}]`),Zu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((u=>gr(u))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((u=>gr(u))).join(",")),`Target(${r})`})(gi(l))}; limitType=${l.limitType})`}function tc(l,n){return n.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):yt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(l,n)&&(function(r,u){for(const h of jl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(l,n)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(l,n)&&(function(r,u){return!(r.startAt&&!(function(d,y,_){const v=Dy(d,y,_);return d.inclusive?v<=0:v<0})(r.startAt,jl(r),u)||r.endAt&&!(function(d,y,_){const v=Dy(d,y,_);return d.inclusive?v>=0:v>0})(r.endAt,jl(r),u))})(l,n)}function UT(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function X0(l){return(n,s)=>{let r=!1;for(const u of jl(l)){const h=LT(u,n,s);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function LT(l,n,s){const r=l.field.isKeyField()?yt.comparator(n.key,s.key):(function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?mr(_,v):At(42886)})(l.field,n,s);switch(l.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(n,s){this.mapKeyFn=n,this.equalsFn=s,this.inner={},this.innerSize=0}get(n){const s=this.mapKeyFn(n),r=this.inner[s];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,s){const r=this.mapKeyFn(n),u=this.inner[r];if(u===void 0)return this.inner[r]=[[n,s]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,s]);u.push([n,s]),this.innerSize++}delete(n){const s=this.mapKeyFn(n),r=this.inner[s];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],n))return r.length===1?delete this.inner[s]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Fl(this.inner,((s,r)=>{for(const[u,h]of r)n(u,h)}))}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new ge(yt.comparator);function Ns(){return BT}const Z0=new ge(yt.comparator);function Dl(...l){let n=Z0;for(const s of l)n=n.insert(s.key,s);return n}function kT(l){let n=Z0;return l.forEach(((s,r)=>n=n.insert(s,r.overlayedDocument))),n}function ua(){return zl()}function J0(){return zl()}function zl(){return new ma((l=>l.toString()),((l,n)=>l.isEqual(n)))}const qT=new Ie(yt.comparator);function kt(...l){let n=qT;for(const s of l)n=n.add(s);return n}const HT=new Ie(Mt);function PT(){return HT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(n)?"-0":n}}function QT(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function YT(l,n,s){return l instanceof qf?(function(u,h){const d={fields:{[B0]:{stringValue:L0},[q0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&id(h)&&(h=Ju(h)),h&&(d.fields[k0]=h),{mapValue:d}})(s,n):l instanceof Gu?$0(l,n):l instanceof Qu?W0(l,n):(function(u,h){const d=KT(u,h),y=My(d)+My(u.Ae);return Uf(d)&&Uf(u.Ae)?QT(y):GT(u.serializer,y)})(l,n)}function FT(l,n,s){return l instanceof Gu?$0(l,n):l instanceof Qu?W0(l,n):s}function KT(l,n){return l instanceof Hf?(function(r){return Uf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(n)?n:{integerValue:0}:null}class qf extends ec{}class Gu extends ec{constructor(n){super(),this.elements=n}}function $0(l,n){const s=tv(n);for(const r of l.elements)s.some((u=>pi(u,r)))||s.push(r);return{arrayValue:{values:s}}}class Qu extends ec{constructor(n){super(),this.elements=n}}function W0(l,n){let s=tv(n);for(const r of l.elements)s=s.filter((u=>!pi(u,r)));return{arrayValue:{values:s}}}class Hf extends ec{constructor(n,s){super(),this.serializer=n,this.Ae=s}}function My(l){return me(l.integerValue||l.doubleValue)}function tv(l){return sd(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function XT(l,n){return l.field.isEqual(n.field)&&(function(r,u){return r instanceof Gu&&u instanceof Gu||r instanceof Qu&&u instanceof Qu?dr(r.elements,u.elements,pi):r instanceof Hf&&u instanceof Hf?pi(r.Ae,u.Ae):r instanceof qf&&u instanceof qf})(l.transform,n.transform)}class ha{constructor(n,s){this.updateTime=n,this.exists=s}static none(){return new ha}static exists(n){return new ha(void 0,n)}static updateTime(n){return new ha(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Mu(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class od{}function ev(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new JT(l.key,ha.none()):new ud(l.key,l.data,ha.none());{const s=l.data,r=di.empty();let u=new Ie(We.comparator);for(let h of n.fields)if(!u.has(h)){let d=s.field(h);d===null&&h.length>1&&(h=h.popLast(),d=s.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new nc(l.key,r,new vs(u.toArray()),ha.none())}}function ZT(l,n,s){l instanceof ud?(function(u,h,d){const y=u.value.clone(),_=zy(u.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(l,n,s):l instanceof nc?(function(u,h,d){if(!Mu(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=zy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(nv(u)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(l,n,s):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,s)}function Ul(l,n,s,r){return l instanceof ud?(function(h,d,y,_){if(!Mu(h.precondition,d))return y;const v=h.value.clone(),w=Uy(h.fieldTransforms,_,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(l,n,s,r):l instanceof nc?(function(h,d,y,_){if(!Mu(h.precondition,d))return y;const v=Uy(h.fieldTransforms,_,d),w=d.data;return w.setAll(nv(h)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(l,n,s,r):(function(h,d,y){return Mu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(l,n,s)}function jy(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&dr(r,u,((h,d)=>XT(h,d)))})(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class ud extends od{constructor(n,s,r,u=[]){super(),this.key=n,this.value=s,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class nc extends od{constructor(n,s,r,u,h=[]){super(),this.key=n,this.data=s,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function nv(l){const n=new Map;return l.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=l.data.field(s);n.set(s,r)}})),n}function zy(l,n,s){const r=new Map;le(l.length===s.length,32656,{Re:s.length,Ve:l.length});for(let u=0;u<s.length;u++){const h=l[u],d=h.transform,y=n.data.field(h.field);r.set(h.field,FT(d,y,s[u]))}return r}function Uy(l,n,s){const r=new Map;for(const u of l){const h=u.transform,d=s.data.field(u.field);r.set(u.field,YT(h,d,n))}return r}class JT extends od{constructor(n,s){super(),this.key=n,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(n,s,r,u){this.batchId=n,this.localWriteTime=s,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(n,s){const r=s.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&ZT(h,n,r[u])}}applyToLocalView(n,s){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(s=Ul(r,n,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(s=Ul(r,n,s,this.localWriteTime));return s}applyToLocalDocumentSet(n,s){const r=J0();return this.mutations.forEach((u=>{const h=n.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=s.has(u.key)?null:y;const _=ev(d,y);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((n,s)=>n.add(s.key)),kt())}isEqual(n){return this.batchId===n.batchId&&dr(this.mutations,n.mutations,((s,r)=>jy(s,r)))&&dr(this.baseMutations,n.baseMutations,((s,r)=>jy(s,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(n,s){this.largestBatchId=n,this.mutation=s}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(n,s){this.count=n,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,zt;function iv(l){if(l===void 0)return Li("GRPC error has no .code"),$.UNKNOWN;switch(l){case Re.OK:return $.OK;case Re.CANCELLED:return $.CANCELLED;case Re.UNKNOWN:return $.UNKNOWN;case Re.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Re.INTERNAL:return $.INTERNAL;case Re.UNAVAILABLE:return $.UNAVAILABLE;case Re.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Re.NOT_FOUND:return $.NOT_FOUND;case Re.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Re.ABORTED:return $.ABORTED;case Re.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Re.DATA_LOSS:return $.DATA_LOSS;default:return At(39323,{code:l})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Ts([4294967295,4294967295],0);function Ly(l){const n=e2().encode(l),s=new C0;return s.update(n),new Uint8Array(s.digest())}function By(l){const n=new DataView(l.buffer),s=n.getUint32(0,!0),r=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new Ts([s,r],0),new Ts([u,h],0)]}class cd{constructor(n,s,r){if(this.bitmap=n,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Ol(`Invalid padding: ${s}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(n.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(n.length===0&&s!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*n.length-s,this.pe=Ts.fromNumber(this.ge)}ye(n,s,r){let u=n.add(s.multiply(Ts.fromNumber(r)));return u.compare(n2)===1&&(u=new Ts([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.ge===0)return!1;const s=Ly(n),[r,u]=By(s);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(n,s,r){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),d=new cd(h,u,s);return r.forEach((y=>d.insert(y))),d}insert(n){if(this.ge===0)return;const s=Ly(n),[r,u]=By(s);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(n){const s=Math.floor(n/8),r=n%8;this.bitmap[s]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(n,s,r,u,h){this.snapshotVersion=n,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,s,r){const u=new Map;return u.set(n,Kl.createSynthesizedTargetChangeForCurrentChange(n,s,r)),new ic(St.min(),u,new ge(Mt),Ns(),kt())}}class Kl{constructor(n,s,r,u,h){this.resumeToken=n,this.current=s,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,s,r){return new Kl(r,s,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(n,s,r,u){this.be=n,this.removedTargetIds=s,this.key=r,this.De=u}}class sv{constructor(n,s){this.targetId=n,this.Ce=s}}class av{constructor(n,s,r=Qe.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=s,this.resumeToken=r,this.cause=u}}class ky{constructor(){this.ve=0,this.Fe=qy(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=kt(),s=kt(),r=kt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:s=s.add(u);break;case 1:r=r.add(u);break;default:At(38017,{changeType:h})}})),new Kl(this.Me,this.xe,n,s,r)}qe(){this.Oe=!1,this.Fe=qy()}Qe(n,s){this.Oe=!0,this.Fe=this.Fe.insert(n,s)}$e(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i2{constructor(n){this.Ge=n,this.ze=new Map,this.je=Ns(),this.Je=Du(),this.He=Du(),this.Ye=new ge(Mt)}Ze(n){for(const s of n.be)n.De&&n.De.isFoundDocument()?this.Xe(s,n.De):this.et(s,n.key,n.De);for(const s of n.removedTargetIds)this.et(s,n.key,n.De)}tt(n){this.forEachTarget(n,(s=>{const r=this.nt(s);switch(n.state){case 0:this.rt(s)&&r.Le(n.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(n.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(n.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(n.resumeToken));break;default:At(56790,{state:n.state})}}))}forEachTarget(n,s){n.targetIds.length>0?n.targetIds.forEach(s):this.ze.forEach(((r,u)=>{this.rt(u)&&s(u)}))}st(n){const s=n.targetId,r=n.Ce.count,u=this.ot(s);if(u){const h=u.target;if(Bf(h))if(r===0){const d=new yt(h.path);this.et(s,d,Xe.newNoDocument(d,St.min()))}else le(r===1,20013,{expectedCount:r});else{const d=this._t(s);if(d!==r){const y=this.ut(n),_=y?this.ct(y,n,d):1;if(_!==0){this.it(s);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,v)}}}}}ut(n){const s=n.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=s;let d,y;try{d=ws(r).toUint8Array()}catch(_){if(_ instanceof U0)return fr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new cd(d,u,h)}catch(_){return fr(_ instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(n,s,r){return s.Ce.count===r-this.Pt(n,s.targetId)?0:2}Pt(n,s){const r=this.Ge.getRemoteKeysForTarget(s);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;n.mightContain(y)||(this.et(s,h,null),u++)})),u}Tt(n){const s=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Bf(y.target)){const _=new yt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,n))}h.Be&&(s.set(d,h.ke()),h.qe())}}));let r=kt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(n)));const u=new ic(n,s,this.Ye,this.je,r);return this.je=Ns(),this.Je=Du(),this.He=Du(),this.Ye=new ge(Mt),u}Xe(n,s){if(!this.rt(n))return;const r=this.Et(n,s.key)?2:0;this.nt(n).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(n)),this.He=this.He.insert(s.key,this.dt(s.key).add(n))}et(n,s,r){if(!this.rt(n))return;const u=this.nt(n);this.Et(n,s)?u.Qe(s,1):u.$e(s),this.He=this.He.insert(s,this.dt(s).delete(n)),this.He=this.He.insert(s,this.dt(s).add(n)),r&&(this.je=this.je.insert(s,r))}removeTarget(n){this.ze.delete(n)}_t(n){const s=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+s.addedDocuments.size-s.removedDocuments.size}Ue(n){this.nt(n).Ue()}nt(n){let s=this.ze.get(n);return s||(s=new ky,this.ze.set(n,s)),s}dt(n){let s=this.He.get(n);return s||(s=new Ie(Mt),this.He=this.He.insert(n,s)),s}It(n){let s=this.Je.get(n);return s||(s=new Ie(Mt),this.Je=this.Je.insert(n,s)),s}rt(n){const s=this.ot(n)!==null;return s||at("WatchChangeAggregator","Detected inactive target",n),s}ot(n){const s=this.ze.get(n);return s&&s.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new ky),this.Ge.getRemoteKeysForTarget(n).forEach((s=>{this.et(n,s,null)}))}Et(n,s){return this.Ge.getRemoteKeysForTarget(n).has(s)}}function Du(){return new ge(yt.comparator)}function qy(){return new ge(yt.comparator)}const s2={asc:"ASCENDING",desc:"DESCENDING"},a2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r2={and:"AND",or:"OR"};class l2{constructor(n,s){this.databaseId=n,this.useProto3Json=s}}function Pf(l,n){return l.useProto3Json||Zu(n)?n:{value:n}}function o2(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function u2(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function cr(l){return le(!!l,49232),St.fromTimestamp((function(s){const r=Rs(s);return new we(r.seconds,r.nanos)})(l))}function c2(l,n){return Gf(l,n).canonicalString()}function Gf(l,n){const s=(function(u){return new re(["projects",u.projectId,"databases",u.database])})(l).child("documents");return n===void 0?s:s.child(n)}function rv(l){const n=re.fromString(l);return le(hv(n),10190,{key:n.toString()}),n}function vf(l,n){const s=rv(n);if(s.get(1)!==l.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+l.databaseId.projectId);if(s.get(3)!==l.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+l.databaseId.database);return new yt(ov(s))}function lv(l,n){return c2(l.databaseId,n)}function h2(l){const n=rv(l);return n.length===4?re.emptyPath():ov(n)}function Hy(l){return new re(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function ov(l){return le(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function f2(l,n){let s;if("targetChange"in n){n.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:At(39313,{state:v})})(n.targetChange.targetChangeType||"NO_CHANGE"),u=n.targetChange.targetIds||[],h=(function(v,w){return v.useProto3Json?(le(w===void 0||typeof w=="string",58123),Qe.fromBase64String(w||"")):(le(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Qe.fromUint8Array(w||new Uint8Array))})(l,n.targetChange.resumeToken),d=n.targetChange.cause,y=d&&(function(v){const w=v.code===void 0?$.UNKNOWN:iv(v.code);return new ht(w,v.message||"")})(d);s=new av(r,u,h,y||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const u=vf(l,r.document.name),h=cr(r.document.updateTime),d=r.document.createTime?cr(r.document.createTime):St.min(),y=new di({mapValue:{fields:r.document.fields}}),_=Xe.newFoundDocument(u,h,d,y),v=r.targetIds||[],w=r.removedTargetIds||[];s=new ju(v,w,_.key,_)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const u=vf(l,r.document),h=r.readTime?cr(r.readTime):St.min(),d=Xe.newNoDocument(u,h),y=r.removedTargetIds||[];s=new ju([],y,d.key,d)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const u=vf(l,r.document),h=r.removedTargetIds||[];s=new ju([],h,u,null)}else{if(!("filter"in n))return At(11601,{Rt:n});{n.filter;const r=n.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new t2(u,h),y=r.targetId;s=new sv(y,d)}}return s}function d2(l,n){return{documents:[lv(l,n.path)]}}function m2(l,n){const s={structuredQuery:{}},r=n.path;let u;n.collectionGroup!==null?(u=r,s.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=lv(l,u);const h=(function(v){if(v.length!==0)return cv(yi.create(v,"and"))})(n.filters);h&&(s.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((w=>(function(M){return{field:lr(M.field),direction:y2(M.dir)}})(w)))})(n.orderBy);d&&(s.structuredQuery.orderBy=d);const y=Pf(l,n.limit);return y!==null&&(s.structuredQuery.limit=y),n.startAt&&(s.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(n.startAt)),n.endAt&&(s.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(n.endAt)),{ft:s,parent:u}}function g2(l){let n=h2(l.parent);const s=l.structuredQuery,r=s.from?s.from.length:0;let u=null;if(r>0){le(r===1,65062);const w=s.from[0];w.allDescendants?u=w.collectionId:n=n.child(w.collectionId)}let h=[];s.where&&(h=(function(C){const M=uv(C);return M instanceof yi&&G0(M)?M.getFilters():[M]})(s.where));let d=[];s.orderBy&&(d=(function(C){return C.map((M=>(function(et){return new Pu(or(et.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(s.orderBy));let y=null;s.limit&&(y=(function(C){let M;return M=typeof C=="object"?C.value:C,Zu(M)?null:M})(s.limit));let _=null;s.startAt&&(_=(function(C){const M=!!C.before,P=C.values||[];return new Hu(P,M)})(s.startAt));let v=null;return s.endAt&&(v=(function(C){const M=!C.before,P=C.values||[];return new Hu(P,M)})(s.endAt)),MT(n,u,d,h,y,"F",_,v)}function p2(l,n){const s=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:u})}})(n.purpose);return s==null?null:{"goog-listen-tags":s}}function uv(l){return l.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=or(s.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=or(s.unaryFilter.field);return Ve.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=or(s.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=or(s.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(l):l.fieldFilter!==void 0?(function(s){return Ve.create(or(s.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(l):l.compositeFilter!==void 0?(function(s){return yi.create(s.compositeFilter.filters.map((r=>uv(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(s.compositeFilter.op))})(l):At(30097,{filter:l})}function y2(l){return s2[l]}function v2(l){return a2[l]}function _2(l){return r2[l]}function lr(l){return{fieldPath:l.canonicalString()}}function or(l){return We.fromServerFormat(l.fieldPath)}function cv(l){return l instanceof Ve?(function(s){if(s.op==="=="){if(Ny(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NAN"}};if(Cy(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Ny(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NOT_NAN"}};if(Cy(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(s.field),op:v2(s.op),value:s.value}}})(l):l instanceof yi?(function(s){const r=s.getFilters().map((u=>cv(u)));return r.length===1?r[0]:{compositeFilter:{op:_2(s.op),filters:r}}})(l):At(54877,{filter:l})}function hv(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(n,s,r,u,h=St.min(),d=St.min(),y=Qe.EMPTY_BYTE_STRING,_=null){this.target=n,this.targetId=s,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(n){return new _s(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,s){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(n){this.yt=n}}function b2(l){const n=g2({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?kf(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Cn=new S2}addToCollectionParentIndex(n,s){return this.Cn.add(s),X.resolve()}getCollectionParents(n,s){return X.resolve(this.Cn.getEntries(s))}addFieldIndex(n,s){return X.resolve()}deleteFieldIndex(n,s){return X.resolve()}deleteAllFieldIndexes(n){return X.resolve()}createTargetIndexes(n,s){return X.resolve()}getDocumentsMatchingTarget(n,s){return X.resolve(null)}getIndexType(n,s){return X.resolve(0)}getFieldIndexes(n,s){return X.resolve([])}getNextCollectionGroupToUpdate(n){return X.resolve(null)}getMinOffset(n,s){return X.resolve(xs.min())}getMinOffsetFromCollectionGroup(n,s){return X.resolve(xs.min())}updateCollectionGroup(n,s,r){return X.resolve()}updateIndexEntries(n,s){return X.resolve()}}class S2{constructor(){this.index={}}add(n){const s=n.lastSegment(),r=n.popLast(),u=this.index[s]||new Ie(re.comparator),h=!u.has(r);return this.index[s]=u.add(r),h}has(n){const s=n.lastSegment(),r=n.popLast(),u=this.index[s];return u&&u.has(r)}getEntries(n){return(this.index[n]||new Ie(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fv=41943040;class un{static withCacheSize(n){return new un(n,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,s,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(fv,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new pr(0)}static cr(){return new pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="LruGarbageCollector",A2=1048576;function Qy([l,n],[s,r]){const u=Mt(l,s);return u===0?Mt(n,r):u}class x2{constructor(n){this.Ir=n,this.buffer=new Ie(Qy),this.Er=0}dr(){return++this.Er}Ar(n){const s=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();Qy(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class R2{constructor(n,s,r){this.garbageCollector=n,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){at(Gy,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){br(s)?at(Gy,"Ignoring IndexedDB error during garbage collection: ",s):await Ku(s)}await this.Vr(3e5)}))}}class w2{constructor(n,s){this.mr=n,this.params=s}calculateTargetCount(n,s){return this.mr.gr(n).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(n,s){if(s===0)return X.resolve(Xu.ce);const r=new x2(s);return this.mr.forEachTarget(n,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(n,s,r){return this.mr.removeTargets(n,s,r)}removeOrphanedDocuments(n,s){return this.mr.removeOrphanedDocuments(n,s)}collect(n,s){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Py)):this.getCacheSize(n).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Py):this.yr(n,s)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,s){let r,u,h,d,y,_,v;const w=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(n,u)))).next((C=>(r=C,y=Date.now(),this.removeTargets(n,r,s)))).next((C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(n,r)))).next((C=>(v=Date.now(),ar()<=Ut.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C}))))}}function C2(l,n){return new w2(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.changes=new ma((n=>n.toString()),((n,s)=>n.isEqual(s))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,s){this.assertNotApplied(),this.changes.set(n,Xe.newInvalidDocument(n).setReadTime(s))}getEntry(n,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?X.resolve(r):this.getFromCache(n,s)}getEntries(n,s){return this.getAllFromCache(n,s)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(n,s){this.overlayedDocument=n,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(n,s,r,u){this.remoteDocumentCache=n,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=u}getDocument(n,s){let r=null;return this.documentOverlayCache.getOverlay(n,s).next((u=>(r=u,this.remoteDocumentCache.getEntry(n,s)))).next((u=>(r!==null&&Ul(r.mutation,u,vs.empty(),we.now()),u)))}getDocuments(n,s){return this.remoteDocumentCache.getEntries(n,s).next((r=>this.getLocalViewOfDocuments(n,r,kt()).next((()=>r))))}getLocalViewOfDocuments(n,s,r=kt()){const u=ua();return this.populateOverlays(n,u,s).next((()=>this.computeViews(n,s,u,r).next((h=>{let d=Dl();return h.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(n,s){const r=ua();return this.populateOverlays(n,r,s).next((()=>this.computeViews(n,s,r,kt())))}populateOverlays(n,s,r){const u=[];return r.forEach((h=>{s.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(n,u).next((h=>{h.forEach(((d,y)=>{s.set(d,y)}))}))}computeViews(n,s,r,u){let h=Ns();const d=zl(),y=(function(){return zl()})();return s.forEach(((_,v)=>{const w=r.get(v.key);u.has(v.key)&&(w===void 0||w.mutation instanceof nc)?h=h.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),Ul(w.mutation,v,w.mutation.getFieldMask(),we.now())):d.set(v.key,vs.empty())})),this.recalculateAndSaveOverlays(n,h).next((_=>(_.forEach(((v,w)=>d.set(v,w))),s.forEach(((v,w)=>y.set(v,new D2(w,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(n,s){const r=zl();let u=new ge(((d,y)=>d-y)),h=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,s).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=s.get(_);if(v===null)return;let w=r.get(_)||vs.empty();w=y.applyToLocalView(v,w),r.set(_,w);const C=(u.get(y.batchId)||kt()).add(_);u=u.insert(y.batchId,C)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,w=_.value,C=J0();w.forEach((M=>{if(!h.has(M)){const P=ev(s.get(M),r.get(M));P!==null&&C.set(M,P),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(n,v,C))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(n,s){return this.remoteDocumentCache.getEntries(n,s).next((r=>this.recalculateAndSaveOverlays(n,r)))}getDocumentsMatchingQuery(n,s,r,u){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(n,s.path):jT(s)?this.getDocumentsMatchingCollectionGroupQuery(n,s,r,u):this.getDocumentsMatchingCollectionQuery(n,s,r,u)}getNextDocuments(n,s,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,s,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,s,r.largestBatchId,u-h.size):X.resolve(ua());let y=ql,_=h;return d.next((v=>X.forEach(v,((w,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(w)?X.resolve():this.remoteDocumentCache.getEntry(n,w).next((M=>{_=_.insert(w,M)}))))).next((()=>this.populateOverlays(n,v,h))).next((()=>this.computeViews(n,_,v,kt()))).next((w=>({batchId:y,changes:kT(w)})))))}))}getDocumentsMatchingDocumentQuery(n,s){return this.getDocument(n,new yt(s)).next((r=>{let u=Dl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(n,s,r,u){const h=s.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(n,h).next((y=>X.forEach(y,(_=>{const v=(function(C,M){return new $u(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(s,_.child(h));return this.getDocumentsMatchingCollectionQuery(n,v,r,u).next((w=>{w.forEach(((C,M)=>{d=d.insert(C,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,s,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,s.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,s,r,h,u)))).next((d=>{h.forEach(((_,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,Xe.newInvalidDocument(w)))}));let y=Dl();return d.forEach(((_,v)=>{const w=h.get(_);w!==void 0&&Ul(w.mutation,v,vs.empty(),we.now()),tc(s,v)&&(y=y.insert(_,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,s){return X.resolve(this.Lr.get(s))}saveBundleMetadata(n,s){return this.Lr.set(s.id,(function(u){return{id:u.id,version:u.version,createTime:cr(u.createTime)}})(s)),X.resolve()}getNamedQuery(n,s){return X.resolve(this.kr.get(s))}saveNamedQuery(n,s){return this.kr.set(s.name,(function(u){return{name:u.name,query:b2(u.bundledQuery),readTime:cr(u.readTime)}})(s)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(n,s){return X.resolve(this.overlays.get(s))}getOverlays(n,s){const r=ua();return X.forEach(s,(u=>this.getOverlay(n,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(n,s,r){return r.forEach(((u,h)=>{this.St(n,s,h)})),X.resolve()}removeOverlaysForBatchId(n,s,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(n,s,r){const u=ua(),h=s.length+1,d=new yt(s.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return X.resolve(u)}getOverlaysForCollectionGroup(n,s,r,u){let h=new ge(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>r){let w=h.get(v.largestBatchId);w===null&&(w=ua(),h=h.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const y=ua(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,w)=>y.set(v,w))),!(y.size()>=u)););return X.resolve(y)}St(n,s,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new WT(s,r));let h=this.qr.get(s);h===void 0&&(h=kt(),this.qr.set(s,h)),this.qr.set(s,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(n){return X.resolve(this.sessionToken)}setSessionToken(n,s){return this.sessionToken=s,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.Qr=new Ie(Ue.$r),this.Ur=new Ie(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,s){const r=new Ue(n,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(n,s){n.forEach((r=>this.addReference(r,s)))}removeReference(n,s){this.Gr(new Ue(n,s))}zr(n,s){n.forEach((r=>this.removeReference(r,s)))}jr(n){const s=new yt(new re([])),r=new Ue(s,n),u=new Ue(s,n+1),h=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const s=new yt(new re([])),r=new Ue(s,n),u=new Ue(s,n+1);let h=kt();return this.Ur.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(n){const s=new Ue(n,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&n.isEqual(r.key)}}class Ue{constructor(n,s){this.key=n,this.Yr=s}static $r(n,s){return yt.comparator(n.key,s.key)||Mt(n.Yr,s.Yr)}static Kr(n,s){return Mt(n.Yr,s.Yr)||yt.comparator(n.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(n,s){this.indexManager=n,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ue.$r)}checkEmpty(n){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(n,s,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $T(h,s,r,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(n,s){return X.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(n,s){const r=s+1,u=this.ei(r),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?dT:this.tr-1)}getAllMutationBatches(n){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,s){const r=new Ue(s,0),u=new Ue(s,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,s){let r=new Ie(Mt);return s.forEach((u=>{const h=new Ue(u,0),d=new Ue(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(n,s){const r=s.path,u=r.length+1;let h=r;yt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new yt(h),0);let y=new Ie(Mt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===u&&(y=y.add(_.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(n){const s=[];return n.forEach((r=>{const u=this.Xr(r);u!==null&&s.push(u)})),s}removeMutationBatch(n,s){le(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(s.mutations,(u=>{const h=new Ue(u.key,s.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=r}))}ir(n){}containsKey(n,s){const r=new Ue(s,0),u=this.Zr.firstAfterOrEqual(r);return X.resolve(s.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,X.resolve()}ni(n,s){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const s=this.ei(n);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(n){this.ri=n,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,s){const r=s.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const s=this.docs.get(n);s&&(this.docs=this.docs.remove(n),this.size-=s.size)}getEntry(n,s){const r=this.docs.get(s);return X.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(s))}getEntries(n,s){let r=Ns();return s.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),X.resolve(r)}getDocumentsMatchingQuery(n,s,r,u){let h=Ns();const d=s.path,y=new yt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:w}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||uT(oT(w),r)<=0||(u.has(w.key)||tc(s,w))&&(h=h.insert(w.key,w.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(n,s,r,u){At(9500)}ii(n,s){return X.forEach(this.docs,(r=>s(r)))}newChangeBuffer(n){return new U2(this)}getSize(n){return X.resolve(this.size)}}class U2 extends N2{constructor(n){super(),this.Nr=n}applyChanges(n){const s=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?s.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(r)})),X.waitFor(s)}getFromCache(n,s){return this.Nr.getEntry(n,s)}getAllFromCache(n,s){return this.Nr.getEntries(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(n){this.persistence=n,this.si=new ma((s=>ad(s)),rd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new hd,this.targetCount=0,this.ai=pr.ur()}forEachTarget(n,s){return this.si.forEach(((r,u)=>s(u))),X.resolve()}getLastRemoteSnapshotVersion(n){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return X.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(n,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),X.resolve()}Pr(n){this.si.set(n.target,n);const s=n.targetId;s>this.highestTargetId&&(this.ai=new pr(s),this.highestTargetId=s),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,s){return this.Pr(s),this.targetCount+=1,X.resolve()}updateTargetData(n,s){return this.Pr(s),X.resolve()}removeTargetData(n,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,X.resolve()}removeTargets(n,s,r){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=s&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(n){return X.resolve(this.targetCount)}getTargetData(n,s){const r=this.si.get(s)||null;return X.resolve(r)}addMatchingKeys(n,s,r){return this._i.Wr(s,r),X.resolve()}removeMatchingKeys(n,s,r){this._i.zr(s,r);const u=this.persistence.referenceDelegate,h=[];return u&&s.forEach((d=>{h.push(u.markPotentiallyOrphaned(n,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(n,s){return this._i.jr(s),X.resolve()}getMatchingKeysForTargetId(n,s){const r=this._i.Hr(s);return X.resolve(r)}containsKey(n,s){return X.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(n,s){this.ui={},this.overlays={},this.ci=new Xu(0),this.li=!1,this.li=!0,this.hi=new M2,this.referenceDelegate=n(this),this.Pi=new L2(this),this.indexManager=new T2,this.remoteDocumentCache=(function(u){return new z2(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new E2(s),this.Ii=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let s=this.overlays[n.toKey()];return s||(s=new I2,this.overlays[n.toKey()]=s),s}getMutationQueue(n,s){let r=this.ui[n.toKey()];return r||(r=new j2(s,this.referenceDelegate),this.ui[n.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,s,r){at("MemoryPersistence","Starting transaction:",n);const u=new B2(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(n,s){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(n,s))))}}class B2 extends hT{constructor(n){super(),this.currentSequenceNumber=n}}class fd{constructor(n){this.persistence=n,this.Ri=new hd,this.Vi=null}static mi(n){return new fd(n)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(n,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),X.resolve()}removeReference(n,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(n,s){return this.fi.add(s.toString()),X.resolve()}removeTarget(n,s){this.Ri.jr(s.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,s.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(n,s)))}Ei(){this.Vi=new Set}di(n){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const u=yt.fromPath(r);return this.gi(n,u).next((h=>{h||s.removeEntry(u,St.min())}))})).next((()=>(this.Vi=null,s.apply(n))))}updateLimboDocument(n,s){return this.gi(n,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(n){return 0}gi(n,s){return X.or([()=>X.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(n,s),()=>this.persistence.Ai(n,s)])}}class Yu{constructor(n,s){this.persistence=n,this.pi=new ma((r=>mT(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=C2(this,s)}static mi(n,s){return new Yu(n,s)}Ei(){}di(n){return X.resolve()}forEachTarget(n,s){return this.persistence.getTargetCache().forEachTarget(n,s)}gr(n){const s=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((r=>s.next((u=>r+u))))}wr(n){let s=0;return this.pr(n,(r=>{s++})).next((()=>s))}pr(n,s){return X.forEach(this.pi,((r,u)=>this.br(n,r,u).next((h=>h?X.resolve():s(u)))))}removeTargets(n,s,r){return this.persistence.getTargetCache().removeTargets(n,s,r)}removeOrphanedDocuments(n,s){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,(d=>this.br(n,d,s).next((y=>{y||(r++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(n))).next((()=>r))}markPotentiallyOrphaned(n,s){return this.pi.set(s,n.currentSequenceNumber),X.resolve()}removeTarget(n,s){const r=s.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,r)}addReference(n,s,r){return this.pi.set(r,n.currentSequenceNumber),X.resolve()}removeReference(n,s,r){return this.pi.set(r,n.currentSequenceNumber),X.resolve()}updateLimboDocument(n,s){return this.pi.set(s,n.currentSequenceNumber),X.resolve()}Ti(n){let s=n.key.toString().length;return n.isFoundDocument()&&(s+=Iu(n.data.value)),s}br(n,s,r){return X.or([()=>this.persistence.Ai(n,s),()=>this.persistence.getTargetCache().containsKey(n,s),()=>{const u=this.pi.get(s);return X.resolve(u!==void 0&&u>r)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(n,s,r,u){this.targetId=n,this.fromCache=s,this.Es=r,this.ds=u}static As(n,s){let r=kt(),u=kt();for(const h of s.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new dd(n,s.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RE()?8:fT(AE())>0?6:4})()}initialize(n,s){this.ps=n,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(n,s,r,u){const h={result:null};return this.ys(n,s).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(n,s,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new k2;return this.Ss(n,s,d).next((y=>{if(h.result=y,this.Vs)return this.bs(n,s,d,y.size)}))})).next((()=>h.result))}bs(n,s,r,u){return r.documentReadCount<this.fs?(ar()<=Ut.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",rr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ar()<=Ut.DEBUG&&at("QueryEngine","Query:",rr(s),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(ar()<=Ut.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",rr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,gi(s))):X.resolve())}ys(n,s){if(Iy(s))return X.resolve(null);let r=gi(s);return this.indexManager.getIndexType(n,r).next((u=>u===0?null:(s.limit!==null&&u===1&&(s=kf(s,null,"F"),r=gi(s)),this.indexManager.getDocumentsMatchingTarget(n,r).next((h=>{const d=kt(...h);return this.ps.getDocuments(n,d).next((y=>this.indexManager.getMinOffset(n,r).next((_=>{const v=this.Ds(s,y);return this.Cs(s,v,d,_.readTime)?this.ys(n,kf(s,null,"F")):this.vs(n,v,s,_)}))))})))))}ws(n,s,r,u){return Iy(s)||u.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(n,r).next((h=>{const d=this.Ds(s,h);return this.Cs(s,d,r,u)?X.resolve(null):(ar()<=Ut.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rr(s)),this.vs(n,d,s,lT(u,ql)).next((y=>y)))}))}Ds(n,s){let r=new Ie(X0(n));return s.forEach(((u,h)=>{tc(n,h)&&(r=r.add(h))})),r}Cs(n,s,r,u){if(n.limit===null)return!1;if(r.size!==s.size)return!0;const h=n.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,s,r){return ar()<=Ut.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",rr(s)),this.ps.getDocumentsMatchingQuery(n,s,xs.min(),r)}vs(n,s,r,u){return this.ps.getDocumentsMatchingQuery(n,r,u).next((h=>(s.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="LocalStore",H2=3e8;class P2{constructor(n,s,r,u){this.persistence=n,this.Fs=s,this.serializer=u,this.Ms=new ge(Mt),this.xs=new ma((h=>ad(h)),rd),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(r)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new O2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>n.collect(s,this.Ms)))}}function G2(l,n,s,r){return new P2(l,n,s,r)}async function mv(l,n){const s=Lt(l);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return s.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,s.Bs(n),s.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let _=kt();for(const v of u){d.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}for(const v of h){y.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}return s.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function gv(l){const n=Lt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>n.Pi.getLastRemoteSnapshotVersion(s)))}function Q2(l,n){const s=Lt(l),r=n.snapshotVersion;let u=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=s.Ns.newChangeBuffer({trackRemovals:!0});u=s.Ms;const y=[];n.targetChanges.forEach(((w,C)=>{const M=u.get(C);if(!M)return;y.push(s.Pi.removeMatchingKeys(h,w.removedDocuments,C).next((()=>s.Pi.addMatchingKeys(h,w.addedDocuments,C))));let P=M.withSequenceNumber(h.currentSequenceNumber);n.targetMismatches.get(C)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,r)),u=u.insert(C,P),(function(tt,Z,vt){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=H2?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0})(M,P,w)&&y.push(s.Pi.updateTargetData(h,P))}));let _=Ns(),v=kt();if(n.documentUpdates.forEach((w=>{n.resolvedLimboDocuments.has(w)&&y.push(s.persistence.referenceDelegate.updateLimboDocument(h,w))})),y.push(Y2(h,d,n.documentUpdates).next((w=>{_=w.ks,v=w.qs}))),!r.isEqual(St.min())){const w=s.Pi.getLastRemoteSnapshotVersion(h).next((C=>s.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(w)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>s.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(s.Ms=u,h)))}function Y2(l,n,s){let r=kt(),u=kt();return s.forEach((h=>r=r.add(h))),n.getEntries(l,r).next((h=>{let d=Ns();return s.forEach(((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(y)),_.isNoDocument()&&_.version.isEqual(St.min())?(n.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(n.addEntry(_),d=d.insert(y,_)):at(md,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:u}}))}function F2(l,n){const s=Lt(l);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return s.Pi.getTargetData(r,n).next((h=>h?(u=h,X.resolve(u)):s.Pi.allocateTargetId(r).next((d=>(u=new _s(n,d,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=s.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(n,r.targetId)),r}))}async function Qf(l,n,s){const r=Lt(l),u=r.Ms.get(n),h=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!br(d))throw d;at(md,`Failed to update sequence numbers for target ${n}: ${d}`)}r.Ms=r.Ms.remove(n),r.xs.delete(u.target)}function Yy(l,n,s){const r=Lt(l);let u=St.min(),h=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,w){const C=Lt(_),M=C.xs.get(w);return M!==void 0?X.resolve(C.Ms.get(M)):C.Pi.getTargetData(v,w)})(r,d,gi(n)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,n,s?u:St.min(),s?h:kt()))).next((y=>(K2(r,UT(n),y),{documents:y,Qs:h})))))}function K2(l,n,s){let r=l.Os.get(n)||St.min();s.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),l.Os.set(n,r)}class Fy{constructor(){this.activeTargetIds=PT()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class X2{constructor(){this.Mo=new Fy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,s,r){}addLocalQueryTarget(n,s=!0){return s&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,s,r){this.xo[n]=s}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Fy,Promise.resolve()}handleUserChange(n,s,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="ConnectivityMonitor";class Xy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Ky,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){at(Ky,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Yf(){return Ou===null?Ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="RestConnection",J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $2{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+n.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===qu?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(n,s,r,u,h){const d=Yf(),y=this.zo(n,s.toUriEncodedString());at(_f,`Sending RPC '${n}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:v}=new URL(y),w=Wf(v);return this.Jo(n,y,_,r,w).then((C=>(at(_f,`Received RPC '${n}' ${d}: `,C),C)),(C=>{throw fr(_f,`RPC '${n}' ${d} failed with error: `,C,"url: ",y,"request:",r),C}))}Ho(n,s,r,u,h,d){return this.Go(n,s,r,u,h)}jo(n,s,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Er})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>n[h]=u)),r&&r.headers.forEach(((u,h)=>n[h]=u))}zo(n,s){const r=J2[n];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class tS extends $2{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,s,r,u,h){const d=Yf();return new Promise(((y,_)=>{const v=new N0;v.setWithCredentials(!0),v.listenOnce(D0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Vu.NO_ERROR:const C=v.getResponseJson();at(Fe,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(C)),y(C);break;case Vu.TIMEOUT:at(Fe,`RPC '${n}' ${d} timed out`),_(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const M=v.getStatus();if(at(Fe,`RPC '${n}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const et=P==null?void 0:P.error;if(et&&et.status&&et.message){const tt=(function(vt){const bt=vt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(bt)>=0?bt:$.UNKNOWN})(et.status);_(new ht(tt,et.message))}else _(new ht($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ht($.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:n,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(Fe,`RPC '${n}' ${d} completed.`)}}));const w=JSON.stringify(u);at(Fe,`RPC '${n}' ${d} sending request:`,u),v.send(s,"POST",w,r,15)}))}T_(n,s,r){const u=Yf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=I0(),y=V0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,s,r),_.encodeInitMessageHeaders=!0;const w=h.join("");at(Fe,`Creating RPC '${n}' stream ${u}: ${w}`,_);const C=d.createWebChannel(w,_);this.I_(C);let M=!1,P=!1;const et=new W2({Yo:Z=>{P?at(Fe,`Not sending because RPC '${n}' stream ${u} is closed:`,Z):(M||(at(Fe,`Opening RPC '${n}' stream ${u} transport.`),C.open(),M=!0),at(Fe,`RPC '${n}' stream ${u} sending:`,Z),C.send(Z))},Zo:()=>C.close()}),tt=(Z,vt,bt)=>{Z.listen(vt,(_t=>{try{bt(_t)}catch(it){setTimeout((()=>{throw it}),0)}}))};return tt(C,Nl.EventType.OPEN,(()=>{P||(at(Fe,`RPC '${n}' stream ${u} transport opened.`),et.o_())})),tt(C,Nl.EventType.CLOSE,(()=>{P||(P=!0,at(Fe,`RPC '${n}' stream ${u} transport closed`),et.a_(),this.E_(C))})),tt(C,Nl.EventType.ERROR,(Z=>{P||(P=!0,fr(Fe,`RPC '${n}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),et.a_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),tt(C,Nl.EventType.MESSAGE,(Z=>{var vt;if(!P){const bt=Z.data[0];le(!!bt,16349);const _t=bt,it=(_t==null?void 0:_t.error)||((vt=_t[0])==null?void 0:vt.error);if(it){at(Fe,`RPC '${n}' stream ${u} received error:`,it);const ut=it.status;let lt=(function(S){const O=Re[S];if(O!==void 0)return iv(O)})(ut),x=it.message;lt===void 0&&(lt=$.INTERNAL,x="Unknown error status: "+ut+" with message "+it.message),P=!0,et.a_(new ht(lt,x)),C.close()}else at(Fe,`RPC '${n}' stream ${u} received:`,bt),et.u_(bt)}})),tt(y,O0.STAT_EVENT,(Z=>{Z.stat===Of.PROXY?at(Fe,`RPC '${n}' stream ${u} detected buffering proxy`):Z.stat===Of.NOPROXY&&at(Fe,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((s=>s===n))}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(l){return new l2(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(n,s,r=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=s,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,s-r);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="PersistentStream";class eS{constructor(n,s,r,u,h,d,y,_){this.Mi=n,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yv(n,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():s&&s.code===$.RESOURCE_EXHAUSTED?(Li(s.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(s)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===s&&this.G_(r,u)}),(r=>{n((()=>{const u=new ht($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(n,s){const r=this.W_(this.D_);this.stream=this.j_(n,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return at(Zy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return s=>{this.Mi.enqueueAndForget((()=>this.D_===n?s():(at(Zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nS extends eS{constructor(n,s,r,u,h,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,u,d),this.serializer=h}j_(n,s){return this.connection.T_("Listen",n,s)}J_(n){return this.onNext(n)}onNext(n){this.M_.reset();const s=f2(this.serializer,n),r=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?cr(d.readTime):St.min()})(n);return this.listener.H_(s,r)}Y_(n){const s={};s.database=Hy(this.serializer),s.addTarget=(function(h,d){let y;const _=d.target;if(y=Bf(_)?{documents:d2(h,_)}:{query:m2(h,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=u2(h,d.resumeToken);const v=Pf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(St.min())>0){y.readTime=o2(h,d.snapshotVersion.toTimestamp());const v=Pf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,n);const r=p2(this.serializer,n);r&&(s.labels=r),this.q_(s)}Z_(n){const s={};s.database=Hy(this.serializer),s.removeTarget=n,this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class sS extends iS{constructor(n,s,r,u){super(),this.authCredentials=n,this.appCheckCredentials=s,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,s,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(n,Gf(s,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht($.UNKNOWN,h.toString())}))}Ho(n,s,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(n,Gf(s,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aS{constructor(n,s){this.asyncQueue=n,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const s=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(s),this.aa=!1):at("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="RemoteStore";class rS{constructor(n,s,r,u,h){this.localStore=n,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zl(this)&&(at(yr,"Restarting streams for network reachability change."),await(async function(_){const v=Lt(_);v.Ea.add(4),await Xl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await sc(v)})(this))}))})),this.Ra=new aS(r,u)}}async function sc(l){if(Zl(l))for(const n of l.da)await n(!0)}async function Xl(l){for(const n of l.da)await n(!1)}function vv(l,n){const s=Lt(l);s.Ia.has(n.targetId)||(s.Ia.set(n.targetId,n),vd(s)?yd(s):Tr(s).O_()&&pd(s,n))}function gd(l,n){const s=Lt(l),r=Tr(s);s.Ia.delete(n),r.O_()&&_v(s,n),s.Ia.size===0&&(r.O_()?r.L_():Zl(s)&&s.Ra.set("Unknown"))}function pd(l,n){if(l.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(St.min())>0){const s=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(s)}Tr(l).Y_(n)}function _v(l,n){l.Va.Ue(n),Tr(l).Z_(n)}function yd(l){l.Va=new i2({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),At:n=>l.Ia.get(n)||null,ht:()=>l.datastore.serializer.databaseId}),Tr(l).start(),l.Ra.ua()}function vd(l){return Zl(l)&&!Tr(l).x_()&&l.Ia.size>0}function Zl(l){return Lt(l).Ea.size===0}function Ev(l){l.Va=void 0}async function lS(l){l.Ra.set("Online")}async function oS(l){l.Ia.forEach(((n,s)=>{pd(l,n)}))}async function uS(l,n){Ev(l),vd(l)?(l.Ra.ha(n),yd(l)):l.Ra.set("Unknown")}async function cS(l,n,s){if(l.Ra.set("Online"),n instanceof av&&n.state===2&&n.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(l,n)}catch(r){at(yr,"Failed to remove targets %s: %s ",n.targetIds.join(","),r),await Jy(l,r)}else if(n instanceof ju?l.Va.Ze(n):n instanceof sv?l.Va.st(n):l.Va.tt(n),!s.isEqual(St.min()))try{const r=await gv(l.localStore);s.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const w=h.Ia.get(v);w&&h.Ia.set(v,w.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,v)=>{const w=h.Ia.get(_);if(!w)return;h.Ia.set(_,w.withResumeToken(Qe.EMPTY_BYTE_STRING,w.snapshotVersion)),_v(h,_);const C=new _s(w.target,_,v,w.sequenceNumber);pd(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(l,s)}catch(r){at(yr,"Failed to raise snapshot:",r),await Jy(l,r)}}async function Jy(l,n,s){if(!br(n))throw n;l.Ea.add(1),await Xl(l),l.Ra.set("Offline"),s||(s=()=>gv(l.localStore)),l.asyncQueue.enqueueRetryable((async()=>{at(yr,"Retrying IndexedDB access"),await s(),l.Ea.delete(1),await sc(l)}))}async function $y(l,n){const s=Lt(l);s.asyncQueue.verifyOperationInProgress(),at(yr,"RemoteStore received new credentials");const r=Zl(s);s.Ea.add(3),await Xl(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(n),s.Ea.delete(3),await sc(s)}async function hS(l,n){const s=Lt(l);n?(s.Ea.delete(2),await sc(s)):n||(s.Ea.add(2),await Xl(s),s.Ra.set("Unknown"))}function Tr(l){return l.ma||(l.ma=(function(s,r,u){const h=Lt(s);return h.sa(),new nS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(l.datastore,l.asyncQueue,{Xo:lS.bind(null,l),t_:oS.bind(null,l),r_:uS.bind(null,l),H_:cS.bind(null,l)}),l.da.push((async n=>{n?(l.ma.B_(),vd(l)?yd(l):l.Ra.set("Unknown")):(await l.ma.stop(),Ev(l))}))),l.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(n,s,r,u,h){this.asyncQueue=n,this.timerId=s,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,s,r,u,h){const d=Date.now()+r,y=new _d(n,s,d,u,h);return y.start(r),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(l,n){if(Li("AsyncQueue",`${n}: ${l}`),br(l))return new ht($.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{static emptySet(n){return new hr(n.comparator)}constructor(n){this.comparator=n?(s,r)=>n(s,r)||yt.comparator(s.key,r.key):(s,r)=>yt.comparator(s.key,r.key),this.keyedMap=Dl(),this.sortedSet=new ge(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const s=this.keyedMap.get(n);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal(((s,r)=>(n(s),!1)))}add(n){const s=this.delete(n.key);return s.copy(s.keyedMap.insert(n.key,n),s.sortedSet.insert(n,null))}delete(n){const s=this.get(n);return s?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(s)):this}isEqual(n){if(!(n instanceof hr)||this.size!==n.size)return!1;const s=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;s.hasNext();){const u=s.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach((s=>{n.push(s.toString())})),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,s){const r=new hr;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.ga=new ge(yt.comparator)}track(n){const s=n.doc.key,r=this.ga.get(s);r?n.type!==0&&r.type===3?this.ga=this.ga.insert(s,n):n.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:n.doc}):n.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:n.doc}):n.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:n.doc}):n.type===1&&r.type===0?this.ga=this.ga.remove(s):n.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):n.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:n.doc}):At(63341,{Rt:n,pa:r}):this.ga=this.ga.insert(s,n)}ya(){const n=[];return this.ga.inorderTraversal(((s,r)=>{n.push(r)})),n}}class vr{constructor(n,s,r,u,h,d,y,_,v){this.query=n,this.docs=s,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(n,s,r,u,h){const d=[];return s.forEach((y=>{d.push({type:0,doc:y})})),new vr(n,s,hr.emptySet(s),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Wu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const s=this.docChanges,r=n.docChanges;if(s.length!==r.length)return!1;for(let u=0;u<s.length;u++)if(s[u].type!==r[u].type||!s[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((n=>n.Da()))}}class dS{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const u=Lt(s),h=u.queries;u.queries=t0(),h.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function t0(){return new ma((l=>K0(l)),Wu)}async function mS(l,n){const s=Lt(l);let r=3;const u=n.query;let h=s.queries.get(u);h?!h.ba()&&n.Da()&&(r=2):(h=new fS,r=n.Da()?0:1);try{switch(r){case 0:h.wa=await s.onListen(u,!0);break;case 1:h.wa=await s.onListen(u,!1);break;case 2:await s.onFirstRemoteStoreListen(u)}}catch(d){const y=bv(d,`Initialization of query '${rr(n.query)}' failed`);return void n.onError(y)}s.queries.set(u,h),h.Sa.push(n),n.va(s.onlineState),h.wa&&n.Fa(h.wa)&&Ed(s)}async function gS(l,n){const s=Lt(l),r=n.query;let u=3;const h=s.queries.get(r);if(h){const d=h.Sa.indexOf(n);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=n.Da()?0:1:!h.ba()&&n.Da()&&(u=2))}switch(u){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function pS(l,n){const s=Lt(l);let r=!1;for(const u of n){const h=u.query,d=s.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(r=!0);d.wa=u}}r&&Ed(s)}function yS(l,n,s){const r=Lt(l),u=r.queries.get(n);if(u)for(const h of u.Sa)h.onError(s);r.queries.delete(n)}function Ed(l){l.Ca.forEach((n=>{n.next()}))}var Ff,e0;(e0=Ff||(Ff={})).Ma="default",e0.Cache="cache";class vS{constructor(n,s,r){this.query=n,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(n){if(!this.options.includeMetadataChanges){const r=[];for(const u of n.docChanges)u.type!==3&&r.push(u);n=new vr(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let s=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),s=!0):this.La(n,this.onlineState)&&(this.ka(n),s=!0),this.Na=n,s}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),s=!0),s}La(n,s){if(!n.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!n.docs.isEmpty()||n.hasCachedResults||s==="Offline")}Ba(n){if(n.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(n){n=vr.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(n){this.key=n}}class Sv{constructor(n){this.key=n}}class _S{constructor(n,s){this.query=n,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=X0(n),this.tu=new hr(this.eu)}get nu(){return this.Ya}ru(n,s){const r=s?s.iu:new Wy,u=s?s.tu:this.tu;let h=s?s.mutatedKeys:this.mutatedKeys,d=u,y=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal(((w,C)=>{const M=u.get(w),P=tc(this.query,C)?C:null,et=!!M&&this.mutatedKeys.has(M.key),tt=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Z=!1;M&&P?M.data.isEqual(P.data)?et!==tt&&(r.track({type:3,doc:P}),Z=!0):this.su(M,P)||(r.track({type:2,doc:P}),Z=!0,(_&&this.eu(P,_)>0||v&&this.eu(P,v)<0)&&(y=!0)):!M&&P?(r.track({type:0,doc:P}),Z=!0):M&&!P&&(r.track({type:1,doc:M}),Z=!0,(_||v)&&(y=!0)),Z&&(P?(d=d.add(P),h=tt?h.add(w):h.delete(w)):(d=d.delete(w),h=h.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),h=h.delete(w.key),r.track({type:1,doc:w})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(n,s){return n.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(n,s,r,u){const h=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const d=n.iu.ya();d.sort(((w,C)=>(function(P,et){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:Z})}};return tt(P)-tt(et)})(w.type,C.type)||this.eu(w.doc,C.doc))),this.ou(r),u=u??!1;const y=s&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new vr(this.query,n.tu,h,d,n.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(n){return!this.Ya.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),n.modifiedDocuments.forEach((s=>{})),n.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return n.forEach((r=>{this.Xa.has(r)||s.push(new Sv(r))})),this.Xa.forEach((r=>{n.has(r)||s.push(new Tv(r))})),s}cu(n){this.Ya=n.Qs,this.Xa=kt();const s=this.ru(n.documents);return this.applyChanges(s,!0)}lu(){return vr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bd="SyncEngine";class ES{constructor(n,s,r){this.query=n,this.targetId=s,this.view=r}}class bS{constructor(n){this.key=n,this.hu=!1}}class TS{constructor(n,s,r,u,h,d){this.localStore=n,this.remoteStore=s,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((y=>K0(y)),Wu),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new hd,this.Vu={},this.mu=new Map,this.fu=pr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SS(l,n,s=!0){const r=Cv(l);let u;const h=r.Tu.get(n);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Av(r,n,s,!0),u}async function AS(l,n){const s=Cv(l);await Av(s,n,!0,!1)}async function Av(l,n,s,r){const u=await F2(l.localStore,gi(n)),h=u.targetId,d=l.sharedClientState.addLocalQueryTarget(h,s);let y;return r&&(y=await xS(l,n,h,d==="current",u.resumeToken)),l.isPrimaryClient&&s&&vv(l.remoteStore,u),y}async function xS(l,n,s,r,u){l.pu=(C,M,P)=>(async function(tt,Z,vt,bt){let _t=Z.view.ru(vt);_t.Cs&&(_t=await Yy(tt.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,_t))));const it=bt&&bt.targetChanges.get(Z.targetId),ut=bt&&bt.targetMismatches.get(Z.targetId)!=null,lt=Z.view.applyChanges(_t,tt.isPrimaryClient,it,ut);return i0(tt,Z.targetId,lt.au),lt.snapshot})(l,C,M,P);const h=await Yy(l.localStore,n,!0),d=new _S(n,h.Qs),y=d.ru(h.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(s,r&&l.onlineState!=="Offline",u),v=d.applyChanges(y,l.isPrimaryClient,_);i0(l,s,v.au);const w=new ES(n,s,d);return l.Tu.set(n,w),l.Iu.has(s)?l.Iu.get(s).push(n):l.Iu.set(s,[n]),v.snapshot}async function RS(l,n,s){const r=Lt(l),u=r.Tu.get(n),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!Wu(d,n)))),void r.Tu.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Qf(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),s&&gd(r.remoteStore,u.targetId),Kf(r,u.targetId)})).catch(Ku)):(Kf(r,u.targetId),await Qf(r.localStore,u.targetId,!0))}async function wS(l,n){const s=Lt(l),r=s.Tu.get(n),u=s.Iu.get(r.targetId);s.isPrimaryClient&&u.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),gd(s.remoteStore,r.targetId))}async function xv(l,n){const s=Lt(l);try{const r=await Q2(s.localStore,n);n.targetChanges.forEach(((u,h)=>{const d=s.Au.get(h);d&&(le(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?le(d.hu,14607):u.removedDocuments.size>0&&(le(d.hu,42227),d.hu=!1))})),await wv(s,r,n)}catch(r){await Ku(r)}}function n0(l,n,s){const r=Lt(l);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(n);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const _=Lt(d);_.onlineState=y;let v=!1;_.queries.forEach(((w,C)=>{for(const M of C.Sa)M.va(y)&&(v=!0)})),v&&Ed(_)})(r.eventManager,n),u.length&&r.Pu.H_(u),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function CS(l,n,s){const r=Lt(l);r.sharedClientState.updateQueryState(n,"rejected",s);const u=r.Au.get(n),h=u&&u.key;if(h){let d=new ge(yt.comparator);d=d.insert(h,Xe.newNoDocument(h,St.min()));const y=kt().add(h),_=new ic(St.min(),new Map,new ge(Mt),d,y);await xv(r,_),r.du=r.du.remove(h),r.Au.delete(n),Td(r)}else await Qf(r.localStore,n,!1).then((()=>Kf(r,n,s))).catch(Ku)}function Kf(l,n,s=null){l.sharedClientState.removeLocalQueryTarget(n);for(const r of l.Iu.get(n))l.Tu.delete(r),s&&l.Pu.yu(r,s);l.Iu.delete(n),l.isPrimaryClient&&l.Ru.jr(n).forEach((r=>{l.Ru.containsKey(r)||Rv(l,r)}))}function Rv(l,n){l.Eu.delete(n.path.canonicalString());const s=l.du.get(n);s!==null&&(gd(l.remoteStore,s),l.du=l.du.remove(n),l.Au.delete(s),Td(l))}function i0(l,n,s){for(const r of s)r instanceof Tv?(l.Ru.addReference(r.key,n),NS(l,r)):r instanceof Sv?(at(bd,"Document no longer in limbo: "+r.key),l.Ru.removeReference(r.key,n),l.Ru.containsKey(r.key)||Rv(l,r.key)):At(19791,{wu:r})}function NS(l,n){const s=n.key,r=s.path.canonicalString();l.du.get(s)||l.Eu.has(r)||(at(bd,"New document in limbo: "+s),l.Eu.add(r),Td(l))}function Td(l){for(;l.Eu.size>0&&l.du.size<l.maxConcurrentLimboResolutions;){const n=l.Eu.values().next().value;l.Eu.delete(n);const s=new yt(re.fromString(n)),r=l.fu.next();l.Au.set(r,new bS(s)),l.du=l.du.insert(s,r),vv(l.remoteStore,new _s(gi(ld(s.path)),r,"TargetPurposeLimboResolution",Xu.ce))}}async function wv(l,n,s){const r=Lt(l),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,n,s).then((v=>{var w;if((v||s)&&r.isPrimaryClient){const C=v?!v.fromCache:(w=s==null?void 0:s.targetChanges.get(_.targetId))==null?void 0:w.current;r.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=dd.As(_.targetId,v);h.push(C)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(_,v){const w=Lt(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>X.forEach(v,(M=>X.forEach(M.Es,(P=>w.persistence.referenceDelegate.addReference(C,M.targetId,P))).next((()=>X.forEach(M.ds,(P=>w.persistence.referenceDelegate.removeReference(C,M.targetId,P)))))))))}catch(C){if(!br(C))throw C;at(md,"Failed to update sequence numbers: "+C)}for(const C of v){const M=C.targetId;if(!C.fromCache){const P=w.Ms.get(M),et=P.snapshotVersion,tt=P.withLastLimboFreeSnapshotVersion(et);w.Ms=w.Ms.insert(M,tt)}}})(r.localStore,h))}async function DS(l,n){const s=Lt(l);if(!s.currentUser.isEqual(n)){at(bd,"User change. New user:",n.toKey());const r=await mv(s.localStore,n);s.currentUser=n,(function(h,d){h.mu.forEach((y=>{y.forEach((_=>{_.reject(new ht($.CANCELLED,d))}))})),h.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await wv(s,r.Ls)}}function OS(l,n){const s=Lt(l),r=s.Au.get(n);if(r&&r.hu)return kt().add(r.key);{let u=kt();const h=s.Iu.get(n);if(!h)return u;for(const d of h){const y=s.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function Cv(l){const n=Lt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=xv.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=OS.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=CS.bind(null,n),n.Pu.H_=pS.bind(null,n.eventManager),n.Pu.yu=yS.bind(null,n.eventManager),n}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=pv(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,s){return null}Mu(n,s){return null}vu(n){return G2(this.persistence,new q2,n.initialUser,this.serializer)}Cu(n){return new dv(fd.mi,this.serializer)}Du(n){return new X2}async terminate(){var n,s;(n=this.gcScheduler)==null||n.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class VS extends Fu{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,s){le(this.persistence.referenceDelegate instanceof Yu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R2(r,n.asyncQueue,s)}Cu(n){const s=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new dv((r=>Yu.mi(r,s)),this.serializer)}}class Xf{async initialize(n,s){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DS.bind(null,this.syncEngine),await hS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new dS})()}createDatastore(n){const s=pv(n.databaseInfo.databaseId),r=(function(h){return new tS(h)})(n.databaseInfo);return(function(h,d,y,_){return new sS(h,d,y,_)})(n.authCredentials,n.appCheckCredentials,r,s)}createRemoteStore(n){return(function(r,u,h,d,y){return new rS(r,u,h,d,y)})(this.localStore,this.datastore,n.asyncQueue,(s=>n0(this.syncEngine,s,0)),(function(){return Xy.v()?new Xy:new Z2})())}createSyncEngine(n,s){return(function(u,h,d,y,_,v,w){const C=new TS(u,h,d,y,_,v);return w&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,s)}async terminate(){var n,s;await(async function(u){const h=Lt(u);at(yr,"RemoteStore shutting down."),h.Ea.add(5),await Xl(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(n=this.datastore)==null||n.terminate(),(s=this.eventManager)==null||s.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):Li("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,s){setTimeout((()=>{this.muted||n(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class MS{constructor(n,s,r,u,h){this.authCredentials=n,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(Ds,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Ds,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(s){const r=bv(s,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}async function bf(l,n){l.asyncQueue.verifyOperationInProgress(),at(Ds,"Initializing OfflineComponentProvider");const s=l.configuration;await n.initialize(s);let r=s.initialUser;l.setCredentialChangeListener((async u=>{r.isEqual(u)||(await mv(n.localStore,u),r=u)})),n.persistence.setDatabaseDeletedListener((()=>l.terminate())),l._offlineComponents=n}async function s0(l,n){l.asyncQueue.verifyOperationInProgress();const s=await jS(l);at(Ds,"Initializing OnlineComponentProvider"),await n.initialize(s,l.configuration),l.setCredentialChangeListener((r=>$y(n.remoteStore,r))),l.setAppCheckTokenChangeListener(((r,u)=>$y(n.remoteStore,u))),l._onlineComponents=n}async function jS(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){at(Ds,"Using user provided OfflineComponentProvider");try{await bf(l,l._uninitializedComponentsProvider._offline)}catch(n){const s=n;if(!(function(u){return u.name==="FirebaseError"?u.code===$.FAILED_PRECONDITION||u.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(s))throw s;fr("Error using user provided cache. Falling back to memory cache: "+s),await bf(l,new Fu)}}else at(Ds,"Using default OfflineComponentProvider"),await bf(l,new VS(void 0));return l._offlineComponents}async function zS(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(at(Ds,"Using user provided OnlineComponentProvider"),await s0(l,l._uninitializedComponentsProvider._online)):(at(Ds,"Using default OnlineComponentProvider"),await s0(l,new Xf))),l._onlineComponents}async function US(l){const n=await zS(l),s=n.eventManager;return s.onListen=SS.bind(null,n.syncEngine),s.onUnlisten=RS.bind(null,n.syncEngine),s.onFirstRemoteStoreListen=AS.bind(null,n.syncEngine),s.onLastRemoteStoreUnlisten=wS.bind(null,n.syncEngine),s}function LS(l,n,s={}){const r=new ca;return l.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,_,v){const w=new IS({next:M=>{w.Nu(),d.enqueueAndForget((()=>gS(h,C)));const P=M.docs.has(y);!P&&M.fromCache?v.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&_&&_.source==="server"?v.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),C=new vS(ld(y.path),w,{includeMetadataChanges:!0,qa:!0});return mS(h,C)})(await US(l),l.asyncQueue,n,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="firestore.googleapis.com",r0=!0;class l0{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dv,this.ssl=r0}else this.host=n.host,this.ssl=n.ssl??r0;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=fv;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<A2)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}sT("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nv(n.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Sd{constructor(n,s,r,u){this._authCredentials=n,this._appCheckCredentials=s,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Fb;switch(r.type){case"firstParty":return new Jb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=a0.get(s);r&&(at("ComponentProvider","Removing Datastore"),a0.delete(s),r.terminate())})(this),Promise.resolve()}}function BS(l,n,s,r={}){var v;l=If(l,Sd);const u=Wf(n),h=l._getSettings(),d={...h,emulatorOptions:l._getEmulatorOptions()},y=`${n}:${s}`;u&&(_E(`https://${y}`),SE("Firestore",!0)),h.host!==Dv&&h.host!==y&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:u,emulatorOptions:r};if(!Lu(_,d)&&(l._setSettings(_),r.mockUserToken)){let w,C;if(typeof r.mockUserToken=="string")w=r.mockUserToken,C=Ke.MOCK_USER;else{w=EE(r.mockUserToken,(v=l._app)==null?void 0:v.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ke(M)}l._authCredentials=new Kb(new j0(w,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(n,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new Ad(this.firestore,n,this._query)}}class tn{constructor(n,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new tn(this.firestore,n,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,s,r){if(Yl(s,tn._jsonSchema))return new tn(n,r||null,new yt(re.fromString(s.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ce("string",tn._jsonSchemaVersion),referencePath:Ce("string")};class Ql extends Ad{constructor(n,s,r){super(n,s,ld(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new tn(this.firestore,null,new yt(n))}withConverter(n){return new Ql(this.firestore,n,this._path)}}function kS(l,n,...s){if(l=VE(l),arguments.length===1&&(n=nd.newId()),iT("doc","path",n),l instanceof Sd){const r=re.fromString(n,...s);return Ey(r),new tn(l,null,new yt(r))}{if(!(l instanceof tn||l instanceof Ql))throw new ht($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(re.fromString(n,...s));return Ey(r),new tn(l.firestore,l instanceof Ql?l.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="AsyncQueue";class u0{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yv(this,"async_queue_retry"),this._c=()=>{const r=Ef();r&&at(o0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=n;const s=Ef();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const s=Ef();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!br(n))throw n;at(o0,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const s=this.ac.then((()=>(this.rc=!0,n().catch((r=>{throw this.nc=r,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",c0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(n,s,r){this.uc(),this.oc.indexOf(n)>-1&&(s=0);const u=_d.createAndSchedule(this,n,s,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&At(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const s of this.tc)if(s.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),n!=="all"&&s.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const s=this.tc.indexOf(n);this.tc.splice(s,1)}}function c0(l){let n=l.message||"";return l.stack&&(n=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),n}class Ov extends Sd{constructor(n,s,r,u){super(n,s,r,u),this.type="firestore",this._queue=new u0,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new u0(n),this._firestoreClient=void 0,await n}}}function qS(l,n){const s=typeof l=="object"?l:Mb(),r=typeof l=="string"?l:qu,u=Nb(s,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=yE("firestore");h&&BS(u,...h)}return u}function HS(l){if(l._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||PS(l),l._firestoreClient}function PS(l){var r,u,h;const n=l._freezeSettings(),s=(function(y,_,v,w){return new vT(y,_,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Nv(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(l._databaseId,((r=l._app)==null?void 0:r.options.appId)||"",l._persistenceKey,n);l._componentsProvider||(u=n.localCache)!=null&&u._offlineComponentProvider&&((h=n.localCache)!=null&&h._onlineComponentProvider)&&(l._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),l._firestoreClient=new MS(l._authCredentials,l._appCheckCredentials,l._queue,s,l._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(n){this._byteString=n}static fromBase64String(n){try{return new mi(Qe.fromBase64String(n))}catch(s){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(n){return new mi(Qe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(Yl(n,mi._jsonSchema))return mi.fromBase64String(n.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Ce("string",mi._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(...n){for(let s=0;s<n.length;++s)if(n[s].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(n,s){if(!isFinite(n)||n<-90||n>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(s)||s<-180||s>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=n,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Mt(this._lat,n._lat)||Mt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ss._jsonSchemaVersion}}static fromJSON(n){if(Yl(n,Ss._jsonSchema))return new Ss(n.latitude,n.longitude)}}Ss._jsonSchemaVersion="firestore/geoPoint/1.0",Ss._jsonSchema={type:Ce("string",Ss._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(n){this._values=(n||[]).map((s=>s))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(Yl(n,As._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((s=>typeof s=="number")))return new As(n.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:Ce("string",As._jsonSchemaVersion),vectorValues:Ce("object")};const GS=new RegExp("[~\\*/\\[\\]]");function QS(l,n,s){if(n.search(GS)>=0)throw h0(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new Vv(...n.split("."))._internalPath}catch{throw h0(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function h0(l,n,s,r,u){let h=`Function ${n}() called with invalid data`;h+=". ";let d="";return new ht($.INVALID_ARGUMENT,h+l+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(n,s,r,u,h){this._firestore=n,this._userDataWriter=s,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new YS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const s=this._document.data.field(Mv("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s)}}}class YS extends Iv{data(){return super.data()}}function Mv(l,n){return typeof n=="string"?QS(l,n):n instanceof Vv?n._internalPath:n._delegate._internalPath}class FS{convertValue(n,s="none"){switch(Cs(n)){case 0:return null;case 1:return n.booleanValue;case 2:return me(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,s);case 5:return n.stringValue;case 6:return this.convertBytes(ws(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,s);case 11:return this.convertObject(n.mapValue,s);case 10:return this.convertVectorValue(n.mapValue);default:throw At(62114,{value:n})}}convertObject(n,s){return this.convertObjectMap(n.fields,s)}convertObjectMap(n,s="none"){const r={};return Fl(n,((u,h)=>{r[u]=this.convertValue(h,s)})),r}convertVectorValue(n){var r,u,h;const s=(h=(u=(r=n.fields)==null?void 0:r[jf].arrayValue)==null?void 0:u.values)==null?void 0:h.map((d=>me(d.doubleValue)));return new As(s)}convertGeoPoint(n){return new Ss(me(n.latitude),me(n.longitude))}convertArray(n,s){return(n.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(n,s){switch(s){case"previous":const r=Ju(n);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Hl(n));default:return null}}convertTimestamp(n){const s=Rs(n);return new we(s.seconds,s.nanos)}convertDocumentKey(n,s){const r=re.fromString(n);le(hv(r),9688,{name:n});const u=new Pl(r.get(1),r.get(3)),h=new yt(r.popFirst(5));return u.isEqual(s)||Li(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}class Vl{constructor(n,s){this.hasPendingWrites=n,this.fromCache=s}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class fa extends Iv{constructor(n,s,r,u,h,d){super(n,s,r,u,d),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const s=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,s={}){if(this._document){const r=this._document.data.field(Mv("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,s={};return s.type=fa._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ce("string",fa._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class zu extends fa{data(n={}){return super.data(n)}}class Ll{constructor(n,s,r,u){this._firestore=n,this._userDataWriter=s,this._snapshot=u,this.metadata=new Vl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const n=[];return this.forEach((s=>n.push(s))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,s){this._snapshot.docs.forEach((r=>{n.call(s,new zu(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const s=!!n.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const _=new zu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new zu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,w=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:KS(y.type),doc:_,oldIndex:v,newIndex:w}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Ll._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=nd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(s.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function KS(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(l){l=If(l,tn);const n=If(l.firestore,Ov);return LS(HS(n),l._key).then((s=>JS(n,l,s)))}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:Ce("string",Ll._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ZS extends FS{constructor(n){super(),this.firestore=n}convertBytes(n){return new mi(n)}convertReference(n){const s=this.convertDocumentKey(n,this.firestore._databaseId);return new tn(this.firestore,null,s)}}function JS(l,n,s){const r=s.docs.get(n._key),u=new ZS(l);return new fa(l,u,n._key,r,new Vl(s.hasPendingWrites,s.fromCache),n.converter)}(function(n,s=!0){(function(u){Er=u})(Ib),ku(new Bl("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new Ov(new Xb(r.getProvider("auth-internal")),new $b(d,r.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(v.options.projectId,w)})(d,u),d);return h={useFetchStreams:s,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),ur(py,yy,n),ur(py,yy,"esm2020")})();const $S={apiKey:"AIzaSyBuXvn88ZLD3NOS32IJeEr2CsyCxshUQcM",authDomain:"pronunciation-examination.firebaseapp.com",projectId:"pronunciation-examination",storageBucket:"pronunciation-examination.firebasestorage.app",messagingSenderId:"1076942783492",appId:"1:1076942783492:web:3da71f597ad3fa68d4a151",measurementId:"G-LK73P1LZ7Y"},WS=x0($S),tA=qS(WS),eA=async(l,n)=>{try{const s=kS(tA,"Cedar",l),r=await XS(s);return!!(r.exists()&&r.data().Password===n)}catch(s){return console.error("Auth error:",s),!1}},nA=({onLogin:l})=>{const[n,s]=ct.useState(""),[r,u]=ct.useState(""),[h,d]=ct.useState(!1),[y,_]=ct.useState(""),[v,w]=ct.useState(!1),C=async M=>{if(M.preventDefault(),_(""),w(!0),!n||!r){_("Please fill in all fields"),w(!1);return}await eA(n,r)?l(n):_("Authentication failed. Check your name and password format."),w(!1)};return R.jsxs("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4 relative overflow-hidden",children:[R.jsxs("div",{className:"absolute inset-0 z-0",children:[R.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-900/20 rounded-full blur-[120px]"}),R.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-900/10 rounded-full blur-[120px]"})]}),R.jsxs("div",{className:"relative z-10 w-full max-w-md bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[R.jsxs("div",{className:"flex flex-col items-center mb-8",children:[R.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-500 to-amber-700 rounded-full flex items-center justify-center shadow-lg mb-4",children:R.jsx(F1,{className:"w-8 h-8 text-black"})}),R.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"VOCAL BOOTH"}),R.jsx("p",{className:"text-gray-400 text-sm mt-2 uppercase tracking-widest",children:"Examination Portal"})]}),R.jsxs("form",{onSubmit:C,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"fullName",className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Full Name"}),R.jsx("input",{id:"fullName",name:"fullName",type:"text",value:n,onChange:M=>s(M.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Asep Sadboy"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Password"}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{id:"password",name:"password",type:h?"text":"password",value:r,onChange:M=>u(M.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Siluman, March 13, 2013"}),R.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-500 transition-colors focus:outline-none",title:h?"Hide password":"Show password",children:h?R.jsx(k1,{className:"w-5 h-5"}):R.jsx(H1,{className:"w-5 h-5"})})]}),R.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Format: Place, Month Day, Year"})]}),y&&R.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-sm p-3 rounded-lg",children:y}),R.jsx("button",{type:"submit",disabled:v,className:"w-full bg-amber-600 hover:bg-amber-500 text-black font-bold py-3.5 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:shadow-[0_0_20px_rgba(245,158,11,0.5)]",children:v?"AUTHENTICATING...":"ENTER STUDIO"})]})]})]})},jv=ct.forwardRef(({user:l,onStart:n,onDeviceStatusUpdate:s},r)=>{const u=ct.useRef(null),h=ct.useRef(null),d=ct.useRef({toggleVideo:()=>{},toggleAudio:()=>{}}),[y,_]=ct.useState(!1),[v,w]=ct.useState(!1),[C,M]=ct.useState(!1),[P,et]=ct.useState(!1),[tt,Z]=ct.useState(!1),vt=it=>{if(!it){_(!1),w(!1),et(!1),Z(!1);return}const ut=it.getVideoTracks(),lt=it.getAudioTracks(),x=ut.length>0,A=lt.length>0,S=x&&ut.some(T=>T.readyState==="live"),O=A&&lt.some(T=>T.readyState==="live"),D=x&&ut.some(T=>T.readyState==="ended"),V=A&&lt.some(T=>T.readyState==="ended");if(D||V){console.warn(" Dashboard: Detected ended tracks, attempting recovery"),bt();return}if(_(S),w(O),x){const T=ut[0];et(T.enabled)}else et(!1);if(A){const T=lt[0];Z(T.enabled)}else Z(!1);console.log("Status Check -> Video:",{hasTrack:x,isLive:S,enabled:x?ut[0].enabled:!1,ready:S},"Audio:",{hasTrack:A,isLive:O,enabled:A?lt[0].enabled:!1,ready:O})},bt=async()=>{try{M(!1),h.current&&h.current.getTracks().forEach(A=>A.stop());let it=null,ut=null,lt=!1,x=!1;try{it=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user",frameRate:{ideal:30}}}),lt=!0}catch(A){console.warn("Camera access denied:",A),_(!1),et(!1)}try{ut=await navigator.mediaDevices.getUserMedia({audio:!0}),x=!0}catch(A){console.warn("Microphone access denied:",A),w(!1),Z(!1)}if(it||ut){const A=new MediaStream;it&&it.getTracks().forEach(S=>A.addTrack(S)),ut&&ut.getTracks().forEach(S=>A.addTrack(S)),h.current=A,vt(A),u.current&&(u.current.srcObject=A)}else M(!0),_(!1),w(!1),et(!1),Z(!1)}catch(it){console.error("Device access error:",it),M(!0),_(!1),w(!1),et(!1),Z(!1)}};ct.useEffect(()=>{const ut=setInterval(()=>{h.current&&(!y||!v)&&(console.log("Devices disconnected, attempting reconnect..."),bt())},5e3);return()=>clearInterval(ut)},[h.current,y,v]),ct.useEffect(()=>{var it;console.log(" Dashboard: Updating parent with device status"),console.log(" Dashboard: Status update:",{videoReady:y,audioReady:v,videoEnabled:P,audioEnabled:tt,hasStream:!!h.current,streamActive:(it=h.current)==null?void 0:it.active}),s&&s(y,v,P,tt,h.current)},[y,v,P,tt,s]),ct.useEffect(()=>{bt()},[]),ct.useEffect(()=>{if(!h.current)return;const it=()=>{vt(h.current)};return h.current.getTracks().forEach(ut=>{ut.onmute=it,ut.onunmute=it,ut.onended=it;try{ut.addEventListener("enabled",it),ut.addEventListener("disabled",it)}catch(lt){console.warn("Track enabled/disabled events not supported:",lt)}}),()=>{h.current&&h.current.getTracks().forEach(ut=>{ut.onmute=null,ut.onunmute=null,ut.onended=null;try{ut.removeEventListener("enabled",it),ut.removeEventListener("disabled",it)}catch{}})}},[h.current]),ct.useEffect(()=>{u.current&&h.current&&(u.current.srcObject=h.current)},[h.current,y]),ct.useEffect(()=>{if(!h.current)return;const it=setInterval(()=>{vt(h.current)},2e3);return()=>clearInterval(it)},[]),ct.useEffect(()=>()=>{h.current&&(h.current.getTracks().forEach(it=>it.stop()),h.current=null)},[]);const _t=y&&v&&P&&tt;return ct.useImperativeHandle(r,()=>{const it=()=>{if(console.log("Toggle Video clicked (useImperativeHandle)"),h.current){const lt=h.current.getVideoTracks();console.log("Video tracks found:",lt.length),lt.forEach((x,A)=>{const S=x.enabled;x.enabled=!x.enabled,console.log(`Video track ${A}: ${S} -> ${x.enabled}`)}),vt(h.current)}else console.log("No stream available for video toggle")},ut=()=>{if(console.log("Toggle Audio clicked (useImperativeHandle)"),h.current){const lt=h.current.getAudioTracks();console.log("Audio tracks found:",lt.length),lt.forEach((x,A)=>{const S=x.enabled;x.enabled=!x.enabled,console.log(`Audio track ${A}: ${S} -> ${x.enabled}`)}),vt(h.current)}else console.log("No stream available for audio toggle")};return d.current.toggleVideo=it,d.current.toggleAudio=ut,{reloadDevices:bt,toggleVideo:it,toggleAudio:ut,getMediaStream:()=>h.current}},[]),ct.useEffect(()=>{console.log("Updating selfRef with new toggle functions");const it=()=>{if(console.log("Toggle Video clicked (selfRef update)"),h.current){const lt=h.current.getVideoTracks();console.log("Video tracks found (selfRef):",lt.length),lt.forEach((x,A)=>{const S=x.enabled;x.enabled=!x.enabled,console.log(`Video track ${A} (selfRef): ${S} -> ${x.enabled}`)}),vt(h.current)}else console.log("No stream available for video toggle (selfRef)")},ut=()=>{if(console.log("Toggle Audio clicked (selfRef update)"),h.current){const lt=h.current.getAudioTracks();console.log("Audio tracks found (selfRef):",lt.length),lt.forEach((x,A)=>{const S=x.enabled;x.enabled=!x.enabled,console.log(`Audio track ${A} (selfRef): ${S} -> ${x.enabled}`)}),vt(h.current)}else console.log("No stream available for audio toggle (selfRef)")};d.current.toggleVideo=it,d.current.toggleAudio=ut,console.log("selfRef updated successfully")},[]),R.jsxs("div",{className:"flex flex-col h-full text-white",children:[R.jsxs("div",{className:"mb-8",children:[R.jsxs("h2",{className:"text-3xl font-bold text-white mb-1",children:["Welcome, ",R.jsx("span",{className:"text-amber-500",children:l.fullName})]}),R.jsx("p",{className:"text-gray-400",children:"Please review the examination rules and check your equipment."})]}),R.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 flex-grow",children:[R.jsx("div",{className:"lg:w-1/2 space-y-6",children:R.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 p-6 rounded-xl",children:[R.jsxs("h3",{className:"text-amber-500 font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[R.jsx(Af,{className:"w-5 h-5"}),"Examination Rules"]}),R.jsxs("ul",{className:"space-y-4 text-gray-300",children:[R.jsxs("li",{className:"flex gap-3",children:[R.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"1"}),R.jsx("span",{children:"The exam consists of 3 consecutive sessions."})]}),R.jsxs("li",{className:"flex gap-3",children:[R.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"2"}),R.jsxs("span",{children:["Each session has a strict ",R.jsx("strong",{children:"1-minute"})," time limit."]})]}),R.jsxs("li",{className:"flex gap-3",children:[R.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"3"}),R.jsx("span",{children:"Recording starts automatically. Speak clearly."})]}),R.jsxs("li",{className:"flex gap-3",children:[R.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"4"}),R.jsx("span",{children:"There are short breaks between sessions."})]}),R.jsxs("li",{className:"flex gap-3",children:[R.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"5"}),R.jsx("span",{children:"At the end, you must download your 3 recordings."})]})]})]})}),R.jsxs("div",{className:"lg:w-1/2 flex flex-col",children:[R.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden border border-gray-800 shadow-xl flex-grow min-h-[300px] flex flex-col",children:[R.jsxs("div",{className:"relative flex-grow bg-black",children:[h.current?R.jsx("video",{ref:u,autoPlay:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover transform scale-x-[-1] transition-opacity duration-300 ${y?"opacity-100":"opacity-30"}`}):R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:R.jsx(Sf,{className:"w-16 h-16 text-gray-800"})}),h.current&&R.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2 z-20",children:[R.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${P?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[P?R.jsx(Sf,{className:"w-3 h-3"}):R.jsx(xf,{className:"w-3 h-3"}),P?"CAMERA ON":"CAMERA OFF"]}),R.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${tt?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[tt?R.jsx(Jf,{className:"w-3 h-3"}):R.jsx(iy,{className:"w-3 h-3"}),tt?"MIC ON":"MIC OFF"]})]}),h.current&&(!P||!tt)&&R.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm z-10 p-4 pointer-events-none",children:R.jsxs("div",{className:"flex flex-col gap-2",children:[!P&&R.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[R.jsx(xf,{className:"w-5 h-5"})," CAMERA OFF"]}),!tt&&R.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[R.jsx(iy,{className:"w-5 h-5"})," MIC OFF"]})]})})]}),R.jsx("div",{className:"bg-gray-900 border-t border-gray-800 p-4",children:h.current?R.jsx("div",{className:"flex justify-between items-center",children:R.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:[R.jsx(y0,{className:"w-3 h-3"}),R.jsx("span",{children:"Smart monitoring"})]})}):R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Initializing devices..."}),C&&R.jsx("p",{className:"text-red-500 mt-2 text-xs",children:"Permission denied. Check browser settings."})]})})]}),R.jsxs("button",{onClick:n,disabled:!_t,className:"mt-6 w-full bg-amber-600 hover:bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 disabled:cursor-not-allowed text-black font-bold py-4 rounded-xl transition-all shadow-[0_0_20px_rgba(245,158,11,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.5)] flex items-center justify-center gap-2 text-lg disabled:shadow-none",children:[R.jsx(Z1,{className:"w-6 h-6 fill-current"}),_t?"START EXAMINATION":"DEVICES NOT READY"]})]})]})]})});jv.displayName="Dashboard";const Tf=({user:l,sessionNumber:n,title:s,textContent:r,onComplete:u,mediaStream:h})=>{console.log(" SessionRecorder: Component rendered with mediaStream:",h),console.log(" SessionRecorder: mediaStream details:",{exists:!!h,active:(h==null?void 0:h.active)||!1,id:(h==null?void 0:h.id)||"no-id",tracks:(h==null?void 0:h.getTracks().length)||0});const[d,y]=ct.useState(60),[_,v]=ct.useState(!1),[w,C]=ct.useState(null),M=ct.useRef(null),P=ct.useRef(null),et=ct.useRef([]),tt=ct.useRef(null),Z=ct.useRef(null),vt=ct.useRef(!1),bt=ct.useRef(!0);ct.useEffect(()=>{console.log(" SessionRecorder: mediaStream prop changed:",{exists:!!h,active:(h==null?void 0:h.active)||!1,id:(h==null?void 0:h.id)||"no-id",tracks:(h==null?void 0:h.getTracks().length)||0})},[h]),ct.useEffect(()=>{if(!h||!_)return;console.log(" Debug: Monitoring stream changes during recording");const x=()=>{if(!h)return;const S=h.getTracks(),O=S.filter(dt=>dt.kind==="video"),D=S.filter(dt=>dt.kind==="audio"),V=O.some(dt=>dt.enabled&&dt.readyState==="live"),T=D.some(dt=>dt.enabled&&dt.readyState==="live");console.log(" Debug: Stream health check:",{streamActive:h.active,hasActiveVideo:V,hasActiveAudio:T,videoTracks:O.length,audioTracks:D.length}),(!h.active||!V)&&(console.warn(" Debug: Stream health issue detected"),C("Camera was turned off. Please return to dashboard and restart session."),P.current&&P.current.state==="recording"&&P.current.stop())};x();const A=setInterval(x,2e3);return()=>clearInterval(A)},[h,_]),ct.useEffect(()=>{const x=()=>{if(console.log(" Debug: initializeRecorder called"),console.log(" Debug: mediaStream received:",h),console.log(" Debug: mediaStream type:",typeof h),console.log(" Debug: mediaStream.active:",(h==null?void 0:h.active)||!1),console.log(" Debug: mediaStream.id:",(h==null?void 0:h.id)||"no-id"),!h){console.error(" Debug: No media stream available"),C("No media stream available. Please return to dashboard.");return}if(!h.active){console.error(" Debug: Stream is not active"),C("Stream is inactive. Please return to dashboard and restart.");return}const S=h.getTracks();if(!(S.length>0)){console.error(" Debug: No tracks found in stream"),C("No camera or microphone tracks found. Please return to dashboard.");return}if(S.some(V=>V.readyState==="ended")){console.error(" Debug: Some tracks have ended"),C("Some devices have been disconnected. Please return to dashboard.");return}try{if(C(null),vt.current=!1,tt.current=h,M.current){console.log(" Debug: Video element found:",M.current),console.log(" Debug: Video element readyState:",M.current.readyState),console.log(" Debug: Video element videoWidth:",M.current.videoWidth),console.log(" Debug: Video element videoHeight:",M.current.videoHeight);const V=h.getVideoTracks();if(console.log(" Debug: Video tracks found:",V.length),V.length===0){console.error(" Debug: No video tracks found in stream"),C("No camera tracks found. Please return to dashboard.");return}V.forEach((T,dt)=>{console.log(` Debug: Video track ${dt}:`,{id:T.id,label:T.label,enabled:T.enabled,muted:T.muted,readyState:T.readyState,kind:T.kind})}),V.forEach(T=>{T.enabled||(console.log(" Debug: Enabling disabled video track"),T.enabled=!0)}),M.current.srcObject&&(console.log(" Debug: Clearing existing video stream"),M.current.srcObject=null),console.log(" Debug: Setting stream to video element"),M.current.srcObject=h,console.log(" Debug: Video srcObject after setting:",M.current.srcObject),M.current.onloadedmetadata=()=>{var T,dt,Qt;console.log(" Debug: Video metadata loaded successfully"),console.log(" Debug: Video dimensions:",{width:(T=M.current)==null?void 0:T.videoWidth,height:(dt=M.current)==null?void 0:dt.videoHeight}),(Qt=M.current)==null||Qt.play().catch(G=>{console.error("Video play error after metadata:",G)})},M.current.onerror=T=>{console.error(" Debug: Video element error:",T),C("Video element error. Please refresh the page.")},setTimeout(()=>{M.current&&(console.log(" Debug: Fallback check - video readyState:",M.current.readyState),M.current.readyState<2?(console.log(" Debug: Video not ready, attempting force play"),M.current.play().catch(T=>{console.error("Force video play failed:",T)})):console.log(" Debug: Video appears ready, checking dimensions:",{width:M.current.videoWidth,height:M.current.videoHeight}))},1e3),setTimeout(()=>{var dt;console.log(" Debug: About to start recording"),console.log(" Debug: mediaStream:",h),console.log(" Debug: mediaStream.active:",h==null?void 0:h.active),console.log(" Debug: videoRef.current:",M.current),console.log(" Debug: videoRef.current.srcObject:",(dt=M.current)==null?void 0:dt.srcObject);const T=new MediaRecorder(h);console.log(" Debug: MediaRecorder created:",T),console.log(" Debug: MediaRecorder state:",T.state),T.ondataavailable=Qt=>{Qt.data.size>0&&et.current.push(Qt.data)},T.onstop=()=>{if(console.log(" Debug: MediaRecorder stopped"),vt.current){const Qt=new Blob(et.current,{type:"video/webm"});u(Qt)}},P.current=T,T.start(),console.log(" Debug: recorder.start() called"),console.log(" Debug: MediaRecorder state after start:",T.state),v(!0),console.log(" Debug: setIsRecording(true) called"),_t()},100)}else C("Video element not found. Please refresh page.")}catch(V){let T="Recorder initialization error.";V.name==="NotAllowedError"&&(T="Access denied. Please check permissions."),V.name==="NotFoundError"&&(T="No camera or microphone found."),V.name==="NotReadableError"&&(T="Hardware error. Camera might be in use."),C(T)}},A=setTimeout(()=>{x()},500);return()=>{bt.current=!1,clearTimeout(A),it(),P.current&&P.current.state==="recording"&&P.current.stop(),tt.current=null,M.current&&(M.current.srcObject=null)}},[h]);const _t=()=>{Z.current&&clearInterval(Z.current),Z.current=setInterval(()=>{y(x=>x<=1?(ut(),0):x-1)},1e3)},it=()=>{Z.current&&(clearInterval(Z.current),Z.current=null)},ut=()=>{if(console.log(" Debug: handleFinishSession called"),console.log(" Debug: Current error state:",w),w){console.log(" Debug: Error detected, forcing session end"),it();const x=new Blob([],{type:"video/webm"});u(x);return}if(it(),P.current&&P.current.state!=="inactive")console.log(" Debug: Stopping media recorder"),vt.current=!0,P.current.stop();else{console.log(" Debug: No active recorder to stop");const x=new Blob([],{type:"video/webm"});u(x)}},lt=(60-d)/60*100;return R.jsxs("div",{className:"flex flex-col h-full text-white",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[R.jsxs("div",{children:[R.jsxs("h2",{className:"text-2xl font-bold text-amber-500 tracking-wider",children:["SESSION 0",n]}),R.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-widest",children:s})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full border ${_?"bg-red-900/30 border-red-500/50":"bg-gray-800 border-gray-600"}`,children:[R.jsx("div",{className:`w-3 h-3 rounded-full ${_?"bg-red-500 animate-pulse":"bg-gray-500"}`}),R.jsx("span",{className:`${_?"text-red-400":"text-gray-400"} font-mono text-xs`,children:_?"REC":"READY"})]}),R.jsxs("div",{className:"flex items-center space-x-2 font-mono text-xl text-amber-500",children:[R.jsx(eE,{className:"w-5 h-5"}),R.jsxs("span",{children:["00:",d.toString().padStart(2,"0")]})]})]})]}),R.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-grow",children:[R.jsxs("div",{className:"lg:w-1/2 bg-gray-900/50 p-6 rounded-xl border border-gray-700 shadow-inner flex flex-col",children:[R.jsx("h3",{className:"text-gray-400 text-xs uppercase mb-4 tracking-widest",children:"Script Content"}),R.jsx("div",{className:"flex-grow flex items-center justify-center",children:R.jsx("div",{className:"text-xl md:text-2xl leading-relaxed font-serif text-gray-200 text-center",children:r})})]}),R.jsx("div",{className:"lg:w-1/2 relative bg-black rounded-xl overflow-hidden border-2 border-gray-800 shadow-2xl",style:{minHeight:"400px"},children:w?R.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-6 bg-gray-900",children:[R.jsx(Af,{className:"w-12 h-12 text-red-500 mb-4"}),R.jsx("p",{className:"text-red-400 font-bold",children:w}),R.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please refresh the page to try again"})]}):R.jsxs(R.Fragment,{children:[R.jsx("video",{ref:M,muted:!0,playsInline:!0,className:"w-full h-full object-cover transform scale-x-[-1]",style:{backgroundColor:"black",minHeight:"400px",filter:"none",WebkitFilter:"none"},"data-testid":"session-recorder-video"}),w&&w.includes("ended")&&R.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-30",children:R.jsxs("div",{className:"text-center",children:[R.jsx(Af,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),R.jsx("p",{className:"text-red-400 font-bold mb-4",children:w}),R.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-amber-600 hover:bg-amber-500 text-black font-bold rounded-full transition-colors",children:"Return to Dashboard"})]})}),R.jsxs("div",{className:"absolute top-4 right-4 bg-black/60 backdrop-blur-md px-3 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-2",children:[R.jsx(rE,{className:"w-3 h-3 text-green-400"}),R.jsx("span",{children:"CAM: ON"}),R.jsx("span",{className:"w-px h-3 bg-gray-600 mx-1"}),R.jsx(Jf,{className:"w-3 h-3 text-green-400"}),R.jsx("span",{children:"MIC: ACTIVE"})]}),R.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gray-800",children:R.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000 ease-linear",style:{width:`${lt}%`}})})]})})]}),R.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[R.jsx("div",{className:"text-sm text-gray-400",children:_?R.jsxs("span",{className:"flex items-center space-x-2",children:[R.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),R.jsx("span",{children:"Recording in progress..."})]}):R.jsxs("span",{className:"flex items-center space-x-2",children:[R.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),R.jsx("span",{children:"Preparing recording..."})]})}),R.jsxs("button",{onClick:ut,disabled:!1,className:`group flex items-center space-x-3 px-8 py-3 rounded-full font-bold transition-all transform hover:scale-105 shadow-[0_0_15px_rgba(245,158,11,0.4)] ${w?"bg-red-600 hover:bg-red-500 text-white":_?"bg-amber-600 hover:bg-amber-500 text-black":"bg-gray-600 hover:bg-gray-500 text-white"}`,title:w?"Skip session due to error and continue":_?"Finish recording early and go to next session":"Skip session and continue",children:[R.jsx("span",{children:w?"SKIP & NEXT":_?"FINISH & NEXT":"SKIP & NEXT"}),R.jsx(p0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})},f0=({nextSessionName:l,onContinue:n,onReload:s,videoReady:r=!1,audioReady:u=!1,mediaStream:h=null})=>{const d=ct.useRef(null),y=r&&u,[_,v]=ct.useState(!1),w=()=>{s&&!_&&(v(!0),console.log(" BreakScreen: Manual reload triggered"),s(),setTimeout(()=>{v(!1)},3e3))};return ct.useEffect(()=>{d.current&&h&&(h.getVideoTracks().forEach(M=>{M.enabled||(M.enabled=!0)}),d.current.srcObject=h,d.current.play().catch(()=>{}),d.current.onloadedmetadata=()=>{var M;(M=d.current)==null||M.play().catch(()=>{})})},[h]),ct.useEffect(()=>{if(!h&&s){console.log(" BreakScreen: No stream available, auto-reloading devices...");const C=setTimeout(()=>{console.log(" BreakScreen: Executing auto-reload..."),s()},1e3);return()=>clearTimeout(C)}else h&&console.log(" BreakScreen: Stream is available, no auto-reload needed")},[h,s]),ct.useEffect(()=>()=>{d.current&&(d.current.srcObject=null)},[]),R.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 md:p-8 lg:p-12",children:R.jsx("div",{className:"w-full max-w-4xl mx-auto",children:R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-gray-800 rounded-full flex items-center justify-center mb-4 sm:mb-6 animate-pulse",children:R.jsx(U1,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-amber-500"})}),R.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 text-center",children:"Session Complete"}),R.jsx("p",{className:"text-gray-400 text-sm sm:text-base md:text-lg text-center mb-6 sm:mb-8 md:mb-12",children:"Take a breath. The next session is ready when you are."}),R.jsxs("div",{className:"bg-gray-900/80 border border-gray-700 p-4 sm:p-6 md:p-8 rounded-xl w-full mb-6 sm:mb-8 md:mb-12",children:[R.jsx("p",{className:"text-gray-500 text-xs sm:text-sm md:text-base uppercase tracking-widest mb-2 text-center",children:"Up Next"}),R.jsx("h3",{className:"text-base sm:text-lg md:text-2xl font-bold text-amber-500 text-center",children:l})]}),R.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-3 sm:p-4 md:p-6 w-full mb-6 sm:mb-8 md:mb-12",children:R.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:h?R.jsxs(R.Fragment,{children:[R.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]",style:{backgroundColor:"transparent",filter:"none",WebkitFilter:"none"}}),R.jsxs("div",{className:"absolute top-2 sm:top-3 md:top-4 right-2 sm:right-3 md:right-4 bg-black/60 backdrop-blur-md px-2 sm:px-3 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-1 sm:gap-2",children:[R.jsx(Sf,{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 ${r?"text-green-400":"text-red-400"}`}),R.jsxs("span",{className:"hidden xs:inline sm:inline",children:["CAM: ",r?"ON":"OFF"]}),R.jsx("span",{className:"w-px h-2 sm:h-2.5 md:h-3 bg-gray-600 mx-0.5 sm:mx-1"}),R.jsx(Jf,{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 ${u?"text-green-400":"text-red-400"}`}),R.jsxs("span",{className:"hidden xs:inline sm:inline",children:["MIC: ",u?"ACTIVE":"INACTIVE"]})]})]}):R.jsx("div",{className:"flex items-center justify-center h-full",children:R.jsxs("div",{className:"text-center",children:[R.jsx(xf,{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 text-gray-600 mx-auto mb-2 sm:mb-4"}),R.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Camera Preview Unavailable"})]})})})}),!y&&R.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-xs sm:text-sm p-3 sm:p-4 md:p-6 rounded-lg mb-4 sm:mb-6 w-full",children:[R.jsxs("p",{className:"font-bold mb-2 flex items-center justify-center gap-2",children:[R.jsx(iE,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),"Devices Not Ready"]}),R.jsx("p",{className:"mb-4 text-xs sm:text-sm text-center",children:"Please ensure both camera and microphone are enabled before continuing."}),s&&R.jsxs("button",{onClick:w,disabled:_,className:`px-3 py-2 sm:px-4 sm:py-2 md:px-4 md:py-2 rounded-full text-white flex items-center gap-2 mx-auto transition-colors text-xs sm:text-sm ${_?"bg-gray-600 cursor-not-allowed":"bg-red-800 hover:bg-red-700 border border-red-600"}`,children:[R.jsx(y0,{className:`w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4 ${_?"animate-spin":""}`}),R.jsx("span",{className:"hidden xs:inline sm:inline",children:_?"Reloading...":"Reload Devices"})]})]}),R.jsxs("button",{onClick:n,disabled:!y,className:`group flex items-center justify-center space-x-2 sm:space-x-3 md:space-x-3 px-6 sm:px-8 md:px-10 py-3 sm:py-3.5 md:py-4 rounded-full font-bold transition-all text-sm sm:text-base md:text-base w-full sm:w-auto ${y?"bg-white text-black hover:bg-gray-200":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:[R.jsx("span",{className:"text-center",children:y?"CONTINUE TO NEXT SESSION":"DEVICES NOT READY"}),R.jsx(p0,{className:`w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 transition-transform ${y?"group-hover:translate-x-1":""}`})]})]})})})},iA=({user:l,recordings:n})=>R.jsxs("div",{className:"flex flex-col h-full text-white",children:[R.jsxs("div",{className:"text-center mb-10",children:[R.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-500/20 rounded-full mb-4",children:R.jsx(I1,{className:"w-10 h-10 text-green-500"})}),R.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Congratulations, ",l.fullName,"!"]}),R.jsx("p",{className:"text-gray-400",children:"You have successfully completed the Vocal Booth Examination."})]}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-8 flex-grow",children:[R.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-xl p-6",children:[R.jsxs("h3",{className:"text-xl font-bold text-amber-500 mb-6 flex items-center gap-2",children:[R.jsx(ny,{className:"w-5 h-5"}),"Download Recordings"]}),R.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Please download all three video files below. These files are stored temporarily in your session and will be lost if you refresh."}),R.jsx("div",{className:"space-y-4",children:n.map(s=>R.jsx("a",{href:s.url,download:s.filename,className:"block w-full bg-black/40 hover:bg-amber-900/20 border border-gray-700 hover:border-amber-500/50 p-4 rounded-lg transition-all group",children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsxs("p",{className:"font-bold text-white group-hover:text-amber-500 transition-colors",children:["Session 0",s.sessionId]}),R.jsx("p",{className:"text-xs text-gray-500",children:s.filename})]}),R.jsx(ny,{className:"w-5 h-5 text-gray-500 group-hover:text-amber-500"})]})},s.sessionId))})]}),R.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-xl p-6 flex flex-col justify-center",children:[R.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[R.jsx(j1,{className:"w-5 h-5 text-blue-400"}),"Submission Instructions"]}),R.jsxs("ol",{className:"space-y-6 text-gray-300 relative border-l border-gray-700 ml-3 pl-8",children:[R.jsxs("li",{className:"relative",children:[R.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"1"}),R.jsx("strong",{children:"Upload to Drive:"}),R.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload the 3 downloaded video files to your Google Drive or preferred cloud storage."})]}),R.jsxs("li",{className:"relative",children:[R.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"2"}),R.jsx("strong",{children:"Set Permissions:"}),R.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Ensure the folder or files are set to "Anyone with the link can view".'})]}),R.jsxs("li",{className:"relative",children:[R.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"3"}),R.jsx("strong",{children:"Submit Link:"}),R.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Copy the shareable link and submit it as your weekly project assignment."})]})]}),R.jsx("div",{className:"mt-8 p-4 bg-blue-900/20 rounded-lg border border-blue-500/30 text-center",children:R.jsx("p",{className:"text-blue-300 text-sm font-semibold",children:"Great job! See you in the next evaluation."})})]})]})]});var gt=(l=>(l.LOGIN="LOGIN",l.DASHBOARD="DASHBOARD",l.SESSION_1="SESSION_1",l.BREAK_1="BREAK_1",l.SESSION_2="SESSION_2",l.BREAK_2="BREAK_2",l.SESSION_3="SESSION_3",l.COMPLETION="COMPLETION",l))(gt||{});const sA=()=>{const[l,n]=ct.useState(null),[s,r]=ct.useState(gt.LOGIN),[u,h]=ct.useState([]),[d,y]=ct.useState(!1),[_,v]=ct.useState(!1),[w,C]=ct.useState(!1),[M,P]=ct.useState(!1),[et,tt]=ct.useState(null),Z=m0.useRef(null);ct.useEffect(()=>{const S=localStorage.getItem("vocalBoothRecordings");if(S)try{const D=JSON.parse(S).map(V=>({...V,blob:new Blob([V.blobData],{type:"video/webm"})}));h(D),console.log(" App: Loaded recordings from localStorage:",D.length)}catch(O){console.error("Error loading recordings:",O),localStorage.removeItem("vocalBoothRecordings")}},[]),ct.useEffect(()=>{if(u.length>0){const S=u.map(O=>({sessionId:O.sessionId,url:O.url,filename:O.filename,blobData:Array.from(new Uint8Array(O.blob))}));localStorage.setItem("vocalBoothRecordings",JSON.stringify(S)),console.log(" App: Saved recordings to localStorage:",S.length)}},[u]),ct.useEffect(()=>{const S=localStorage.getItem("vocalBoothUser");if(S)try{const O=JSON.parse(S);n(O);const D=localStorage.getItem("vocalBoothRecordings");if(D)try{if(JSON.parse(D).length>=3){console.log(" App: User has completed all sessions, redirecting to completion"),r(gt.COMPLETION);return}else console.log(" App: User has completed some sessions but not all, checking session state")}catch(T){console.error("Error parsing recordings for redirect:",T)}const V=localStorage.getItem("vocalBoothCurrentSession");if(V){const T=JSON.parse(V);console.log(" App: Found saved session, redirecting:",T),T.isBreakScreen?T.sessionNumber===1?r(gt.BREAK_1):T.sessionNumber===2?r(gt.BREAK_2):r(gt.DASHBOARD):T.sessionNumber===1?r(gt.BREAK_1):T.sessionNumber===2?r(gt.BREAK_2):T.sessionNumber===3?r(gt.COMPLETION):r(gt.DASHBOARD)}else r(gt.DASHBOARD);y(!1),v(!1),C(!1),P(!1)}catch(O){console.error("Error parsing saved data:",O),localStorage.removeItem("vocalBoothUser"),localStorage.removeItem("vocalBoothCurrentSession"),r(gt.DASHBOARD)}},[]);const vt=S=>{const O={fullName:S,docId:S};n(O),r(gt.DASHBOARD),y(!1),v(!1),C(!1),P(!1),localStorage.setItem("vocalBoothUser",JSON.stringify(O))},bt=()=>{n(null),r(gt.LOGIN),y(!1),v(!1),C(!1),P(!1),tt(null),h([]),localStorage.removeItem("vocalBoothUser"),localStorage.removeItem("vocalBoothCurrentSession"),localStorage.removeItem("vocalBoothRecordings")},_t=()=>{r(gt.SESSION_1),x(1,!1)},it=(S,O,D,V,T)=>{console.log(" App: Device status update received"),console.log(" App: Status details:",{videoStatus:S,audioStatus:O,videoToggleStatus:D,audioToggleStatus:V,hasStream:!!T,streamActive:T==null?void 0:T.active,streamTracks:(T==null?void 0:T.getTracks().length)||0,streamId:T==null?void 0:T.id}),y(S),v(O),D!==void 0&&C(D),V!==void 0&&P(V),T!==void 0&&(console.log(" App: Updating mediaStream state"),T?console.log(" App: New stream details:",{active:T.active,id:T.id,tracks:T.getTracks().map(dt=>({kind:dt.kind,enabled:dt.enabled,readyState:dt.readyState,label:dt.label}))}):console.log(" App: Stream is null/undefined"),tt(T))},ut=()=>{console.log(" App: handleReloadDevices called"),y(!1),v(!1),C(!1),P(!1),tt(null),Z.current?(console.log(" App: Reloading from dashboard"),Z.current.reloadDevices(),setTimeout(()=>{var O;const S=(O=Z.current)==null?void 0:O.getMediaStream();S&&(console.log(" App: Got updated stream from dashboard"),tt(S))},1e3)):(console.log(" App: Dashboard not available, creating new stream request"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(S=>{console.log(" App: Got new stream directly"),tt(S),y(!0),v(!0),C(!0),P(!0)}).catch(S=>{console.error(" App: Error getting new stream:",S)}))},lt=(S,O)=>{if(!l)return;const D=URL.createObjectURL(S),V=`${l.fullName.replace(/\s+/g,"_")}_Session_${O}.webm`,T={sessionId:O,blob:S,url:D,filename:V};h(dt=>[...dt.filter(G=>G.sessionId!==O),T]),setTimeout(()=>{localStorage.removeItem("vocalBoothCurrentSession")},1e3),O===1?r(gt.BREAK_1):O===2?r(gt.BREAK_2):O===3&&r(gt.COMPLETION)},x=(S,O=!1)=>{const D={sessionNumber:S,isBreakScreen:O,timestamp:Date.now()};localStorage.setItem("vocalBoothCurrentSession",JSON.stringify(D)),console.log(" App: Saving session state:",D)};ct.useEffect(()=>{s===gt.BREAK_1?x(1,!0):s===gt.BREAK_2&&x(2,!0)},[s]);const A=(S,O,D)=>{const V=[gt.DASHBOARD,gt.SESSION_1,gt.BREAK_1,gt.SESSION_2,gt.BREAK_2,gt.SESSION_3,gt.COMPLETION],T=V.indexOf(S);let dt=-1;D===1&&(dt=V.indexOf(gt.SESSION_1)),D===2&&(dt=V.indexOf(gt.SESSION_2)),D===3&&(dt=V.indexOf(gt.SESSION_3));const Qt=S===(D===1?gt.SESSION_1:D===2?gt.SESSION_2:gt.SESSION_3),G=T>dt;let W="flex items-center justify-between p-4 rounded-lg border transition-all ";return Qt?W+"bg-amber-600 border-amber-500 text-black font-bold shadow-lg scale-105":G?W+"bg-green-900/30 border-green-500/50 text-green-400":W+"bg-gray-900 border-gray-800 text-gray-600 opacity-60"};return s===gt.LOGIN?R.jsx(nA,{onLogin:vt}):R.jsxs("div",{className:"flex h-screen bg-neutral-950 text-white overflow-hidden font-sans selection:bg-amber-500 selection:text-black",children:[R.jsxs("div",{className:"w-80 bg-black border-r border-gray-800 flex-col p-6 hidden md:flex z-20 shadow-2xl",children:[R.jsxs("div",{className:"mb-10 flex items-center gap-3",children:[R.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg flex items-center justify-center",children:R.jsx(W1,{className:"text-black w-6 h-6"})}),R.jsxs("div",{children:[R.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"SIMULATION"}),R.jsx("p",{className:"text-xs text-gray-500",children:"PRONUNCIATION EXAM"})]})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:A(s,gt.SESSION_1,1),children:[R.jsx("span",{children:"Session 01"}),s===gt.SESSION_1?R.jsx(cf,{className:"w-4 h-4"}):s===gt.BREAK_1||u.find(S=>S.sessionId===1)?R.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):R.jsx(hf,{className:"w-4 h-4"})]}),R.jsxs("div",{className:A(s,gt.SESSION_2,2),children:[R.jsx("span",{children:"Session 02"}),s===gt.SESSION_2?R.jsx(cf,{className:"w-4 h-4"}):s===gt.BREAK_2||u.find(S=>S.sessionId===2)?R.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):R.jsx(hf,{className:"w-4 h-4"})]}),R.jsxs("div",{className:A(s,gt.SESSION_3,3),children:[R.jsx("span",{children:"Session 03"}),s===gt.SESSION_3?R.jsx(cf,{className:"w-4 h-4"}):s===gt.COMPLETION||u.find(S=>S.sessionId===3)?R.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):R.jsx(hf,{className:"w-4 h-4"})]})]}),R.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-900",children:[R.jsx("p",{className:"text-gray-500 text-xs",children:"Logged in as"}),R.jsx("p",{className:"text-amber-500 font-bold truncate",children:l==null?void 0:l.fullName}),R.jsx("button",{onClick:bt,className:"mt-2 text-xs text-gray-400 hover:text-red-400 transition-colors",children:"Logout"})]})]}),R.jsxs("main",{className:"flex-1 p-4 md:p-8 relative overflow-y-auto",children:[R.jsxs("div",{className:"md:hidden flex justify-between items-center mb-6",children:[R.jsx("span",{className:"font-bold text-amber-500",children:"VOCAL BOOTH"}),R.jsx("div",{className:"text-xs bg-gray-800 px-2 py-1 rounded",children:s.replace("_"," ")})]}),R.jsxs("div",{className:"max-w-6xl mx-auto h-full",children:[s===gt.DASHBOARD&&l&&R.jsx(jv,{ref:Z,user:l,onStart:_t,onDeviceStatusUpdate:it}),s===gt.SESSION_1&&l&&R.jsx(Tf,{user:l,sessionNumber:1,title:"Tongue Twister (American Accent)",textContent:R.jsxs("p",{children:['"Betty Botter bought some butter,',R.jsx("br",{}),"but she said, 'This butter's bitter.'",R.jsx("br",{}),"'If I put it in my batter,",R.jsx("br",{}),"it will make my batter bitter.'",R.jsx("br",{}),"But a bit of better butter",R.jsx("br",{}),"will make my batter better.'",R.jsx("br",{}),"So, it was better:",R.jsx("br",{}),'Betty Botter bought a bit of better butter."']}),mediaStream:et,onComplete:S=>lt(S,1)}),s===gt.BREAK_1&&R.jsx(f0,{nextSessionName:"Phonetic Transcription (IPA)",onContinue:()=>{r(gt.SESSION_2),x(2,!1)},onReload:ut,videoReady:d,audioReady:_,mediaStream:et}),s===gt.SESSION_2&&l&&R.jsx(Tf,{user:l,sessionNumber:2,title:"Phonetic Transcription (American IPA)",textContent:R.jsx("p",{className:"font-mono text-amber-200",children:"a juzd tu k prnnsien ddnt rli mtr, bt a wz r. wn a strtd pe tnn tu ha wrdz knkt nd ha sandz t rdust, vri end. t wznt bat tk fstr; t wz bat sand klrr nd mr knfdnt. t frst, a flt stupd rpit  sem sntns gn nd gn, bt a kpt t t. ad lsn, pz, rpit, nd n du t wn mr tam. ltl ba ltl, a notst a wznt gs nimr; a kli nu wt a wz se. f ju dont kwt, jur o tu hr  dfrns. wn de, jul rilaz jr nt st spik l; jur k n t. nd wn t hpnz, l i frt trnz at tu bi wr."}),mediaStream:et,onComplete:S=>lt(S,2)}),s===gt.BREAK_2&&R.jsx(f0,{nextSessionName:"Original Text Reading",onContinue:()=>{r(gt.SESSION_3),x(3,!1)},onReload:ut,videoReady:d,audioReady:_,mediaStream:et}),s===gt.SESSION_3&&l&&R.jsx(Tf,{user:l,sessionNumber:3,title:"Original Text Reading",textContent:R.jsxs("p",{children:["I used to think pronunciation didn't really matter, but I was wrong.",R.jsx("br",{}),"When I started paying attention to how words connect and how sounds get reduced, everything changed.",R.jsx("br",{}),"It wasn't about talking faster. It was about sounding clearer and more confident.",R.jsx("br",{}),R.jsx("br",{}),"At first, I felt stupid repeating the same sentence again and again, but I kept at it.",R.jsx("br",{}),"I'd listen, pause, repeat, and then do it one more time.",R.jsx("br",{}),"Little by little, I noticed I wasn't guessing anymore. I actually knew what I was saying.",R.jsx("br",{}),R.jsx("br",{}),"If you don't quit, you're going to hear the difference.",R.jsx("br",{}),"One day, you'll realize you're not just speaking English. You're thinking in it.",R.jsx("br",{}),"And when that happens, all effort turns out to be worth it."]}),mediaStream:et,onComplete:S=>lt(S,3)}),s===gt.COMPLETION&&l&&R.jsx(iA,{user:l,recordings:u})]})]})]})},zv=document.getElementById("root");if(!zv)throw new Error("Could not find root element to mount to");const aA=S1.createRoot(zv);aA.render(R.jsx(m0.StrictMode,{children:R.jsx(sA,{})}));
