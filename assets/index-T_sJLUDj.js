import{j as T}from"./query-DbGqQj1D.js";import{r as rt,R as $y}from"./router-DeksoHlQ.js";import{r as $_,a as W_,g as t1}from"./vendor-B--z-fyW.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=a(u);fetch(u.href,h)}})();var ef={exports:{}},xl={},nf={exports:{}},af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function e1(){return jp||(jp=1,(function(l){function n(k,K){var X=k.length;k.push(K);t:for(;0<X;){var tt=X-1>>>1,ut=k[tt];if(0<u(ut,K))k[tt]=K,k[X]=ut,X=tt;else break t}}function a(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],X=k.pop();if(X!==K){k[0]=X;t:for(var tt=0,ut=k.length,_t=ut>>>1;tt<_t;){var Rt=2*(tt+1)-1,Tt=k[Rt],Pt=Rt+1,zt=k[Pt];if(0>u(Tt,X))Pt<ut&&0>u(zt,Tt)?(k[tt]=zt,k[Pt]=X,tt=Pt):(k[tt]=Tt,k[Rt]=X,tt=Rt);else if(Pt<ut&&0>u(zt,X))k[tt]=zt,k[Pt]=X,tt=Pt;else break t}}return K}function u(k,K){var X=k.sortIndex-K.sortIndex;return X!==0?X:k.id-K.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();l.unstable_now=function(){return d.now()-y}}var _=[],E=[],C=1,N=null,j=3,Q=!1,$=!1,et=!1,W=!1,Et=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function nt(k){for(var K=a(E);K!==null;){if(K.callback===null)r(E);else if(K.startTime<=k)r(E),K.sortIndex=K.expirationTime,n(_,K);else break;K=a(E)}}function ft(k){if(et=!1,nt(k),!$)if(a(_)!==null)$=!0,ct||(ct=!0,O());else{var K=a(E);K!==null&&st(ft,K.startTime-k)}}var ct=!1,w=-1,S=5,x=-1;function I(){return W?!0:!(l.unstable_now()-x<S)}function D(){if(W=!1,ct){var k=l.unstable_now();x=k;var K=!0;try{t:{$=!1,et&&(et=!1,at(w),w=-1),Q=!0;var X=j;try{e:{for(nt(k),N=a(_);N!==null&&!(N.expirationTime>k&&I());){var tt=N.callback;if(typeof tt=="function"){N.callback=null,j=N.priorityLevel;var ut=tt(N.expirationTime<=k);if(k=l.unstable_now(),typeof ut=="function"){N.callback=ut,nt(k),K=!0;break e}N===a(_)&&r(_),nt(k)}else r(_);N=a(_)}if(N!==null)K=!0;else{var _t=a(E);_t!==null&&st(ft,_t.startTime-k),K=!1}}break t}finally{N=null,j=X,Q=!1}K=void 0}}finally{K?O():ct=!1}}}var O;if(typeof mt=="function")O=function(){mt(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,it=A.port2;A.port1.onmessage=D,O=function(){it.postMessage(null)}}else O=function(){Et(D,0)};function st(k,K){w=Et(function(){k(l.unstable_now())},K)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(k){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var X=j;j=K;try{return k()}finally{j=X}},l.unstable_requestPaint=function(){W=!0},l.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var X=j;j=k;try{return K()}finally{j=X}},l.unstable_scheduleCallback=function(k,K,X){var tt=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?tt+X:tt):X=tt,k){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=X+ut,k={id:C++,callback:K,priorityLevel:k,startTime:X,expirationTime:ut,sortIndex:-1},X>tt?(k.sortIndex=X,n(E,k),a(_)===null&&k===a(E)&&(et?(at(w),w=-1):et=!0,st(ft,X-tt))):(k.sortIndex=ut,n(_,k),$||Q||($=!0,ct||(ct=!0,O()))),k},l.unstable_shouldYield=I,l.unstable_wrapCallback=function(k){var K=j;return function(){var X=j;j=K;try{return k.apply(this,arguments)}finally{j=X}}}})(af)),af}var zp;function n1(){return zp||(zp=1,nf.exports=e1()),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function i1(){if(Up)return xl;Up=1;var l=n1(),n=$_(),a=W_();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function E(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,s=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return _(c),t;if(f===s)return _(c),e;f=f.sibling}throw Error(r(188))}if(i.return!==s.return)i=c,s=f;else{for(var g=!1,v=c.child;v;){if(v===i){g=!0,i=c,s=f;break}if(v===s){g=!0,s=c,i=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===i){g=!0,i=f,s=c;break}if(v===s){g=!0,s=f,i=c;break}v=v.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function C(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=C(t),e!==null)return e;t=t.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Et=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case Et:return"Profiler";case W:return"StrictMode";case ft:return"Suspense";case ct:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case mt:return t.displayName||"Context";case at:return(t._context.displayName||"Context")+".Consumer";case nt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return e=t.displayName||null,e!==null?e:it(t.type)||"Memo";case S:e=t._payload,t=t._init;try{return it(t(e))}catch{}}return null}var st=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},tt=[],ut=-1;function _t(t){return{current:t}}function Rt(t){0>ut||(t.current=tt[ut],tt[ut]=null,ut--)}function Tt(t,e){ut++,tt[ut]=t.current,t.current=e}var Pt=_t(null),zt=_t(null),Ot=_t(null),Ct=_t(null);function ue(t,e){switch(Tt(Ot,e),Tt(zt,t),Tt(Pt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ap(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ap(e),t=sp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Rt(Pt),Tt(Pt,t)}function pn(){Rt(Pt),Rt(zt),Rt(Ot)}function Na(t){t.memoizedState!==null&&Tt(Ct,t);var e=Pt.current,i=sp(e,t.type);e!==i&&(Tt(zt,t),Tt(Pt,i))}function ds(t){zt.current===t&&(Rt(Pt),Rt(zt)),Ct.current===t&&(Rt(Ct),El._currentValue=X)}var ms,gs;function Hn(t){if(ms===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ms=e&&e[1]||"",gs=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+t+gs}var Er=!1;function Da(t,e){if(!t||Er)return"";Er=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(H){var B=H}Reflect.construct(t,[],F)}else{try{F.call()}catch(H){B=H}t.call(F.prototype)}}else{try{throw Error()}catch(H){B=H}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var R=g.split(`
`),L=v.split(`
`);for(c=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(s===R.length||c===L.length)for(s=R.length-1,c=L.length-1;1<=s&&0<=c&&R[s]!==L[c];)c--;for(;1<=s&&0<=c;s--,c--)if(R[s]!==L[c]){if(s!==1||c!==1)do if(s--,c--,0>c||R[s]!==L[c]){var P=`
`+R[s].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=s&&0<=c);break}}}finally{Er=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Hn(i):""}function Tr(t,e){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return t.child!==e&&e!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return Hn("Activity");default:return""}}function Sr(t){try{var e="",i=null;do e+=Tr(t,i),i=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var pe=Object.prototype.hasOwnProperty,Ce=l.unstable_scheduleCallback,Ui=l.unstable_cancelCallback,ic=l.unstable_shouldYield,Kl=l.unstable_requestPaint,Ye=l.unstable_now,Va=l.unstable_getCurrentPriorityLevel,Ar=l.unstable_ImmediatePriority,xr=l.unstable_UserBlockingPriority,Li=l.unstable_NormalPriority,ac=l.unstable_LowPriority,Xl=l.unstable_IdlePriority,Zl=l.log,Jl=l.unstable_setDisableYieldValue,Dn=null,ze=null;function yn(t){if(typeof Zl=="function"&&Jl(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Dn,t)}catch{}}var ce=Math.clz32?Math.clz32:Wl,$l=Math.log,ps=Math.LN2;function Wl(t){return t>>>=0,t===0?32:31-($l(t)/ps|0)|0}var Pn=256,Ia=262144,ye=4194304;function Gn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qn(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=s&134217727;return v!==0?(s=v&~f,s!==0?c=Gn(s):(g&=v,g!==0?c=Gn(g):i||(i=v&~t,i!==0&&(c=Gn(i))))):(v=s&~f,v!==0?c=Gn(v):g!==0?c=Gn(g):i||(i=s&~t,i!==0&&(c=Gn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function Vn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function sc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Fn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Oa(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rc(t,e,i,s,c,f){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var v=t.entanglements,R=t.expirationTimes,L=t.hiddenUpdates;for(i=g&~i;0<i;){var P=31-ce(i),F=1<<P;v[P]=0,R[P]=-1;var B=L[P];if(B!==null)for(L[P]=null,P=0;P<B.length;P++){var H=B[P];H!==null&&(H.lane&=-536870913)}i&=~F}s!==0&&Ma(t,s,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function Ma(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-ce(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&261930}function wr(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-ce(i),c=1<<s;c&e|t[s]&e&&(t[s]|=e),i&=~c}}function Rr(t,e){var i=e&-e;return i=(i&42)!==0?1:ja(i),(i&(t.suspendedLanes|e))!==0?0:i}function ja(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eo(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function In(t,e){var i=K.p;try{return K.p=t,e()}finally{K.p=i}}var On=Math.random().toString(36).slice(2),ve="__reactFiber$"+On,Ie="__reactProps$"+On,Yn="__reactContainer$"+On,ys="__reactEvents$"+On,lc="__reactListeners$"+On,no="__reactHandles$"+On,io="__reactResources$"+On,Kn="__reactMarker$"+On;function vs(t){delete t[ve],delete t[Ie],delete t[ys],delete t[lc],delete t[no]}function Xn(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Yn]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=fp(t);t!==null;){if(i=t[ve])return i;t=fp(t)}return e}t=i,i=t.parentNode}return null}function vn(t){if(t=t[ve]||t[Yn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ln(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Zn(t){var e=t[io];return e||(e=t[io]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _e(t){t[Kn]=!0}var Cr=new Set,Nr={};function Jn(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(Nr[t]=e,t=0;t<e.length;t++)Cr.add(e[t])}var Dr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vr={},Ir={};function ao(t){return pe.call(Ir,t)?!0:pe.call(Vr,t)?!1:Dr.test(t)?Ir[t]=!0:(Vr[t]=!0,!1)}function _s(t,e,i){if(ao(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function on(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function be(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Or(t,e,i){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ft(t){if(!t._valueTracker){var e=Bi(t)?"checked":"value";t._valueTracker=Or(t,e,""+t[e])}}function za(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=Bi(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function Wn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ua=/[\n"\\]/g;function $e(t){return t.replace(Ua,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bs(t,e,i,s,c,f,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Oe(e)):t.value!==""+Oe(e)&&(t.value=""+Oe(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?Mr(t,g,Oe(e)):i!=null?Mr(t,g,Oe(i)):s!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Oe(v):t.removeAttribute("name")}function so(t,e,i,s,c,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Ft(t);return}i=i!=null?""+Oe(i):"",e=e!=null?""+Oe(e):i,v||e===t.value||(t.value=e),t.defaultValue=e}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=v?t.checked:!!s,t.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function Mr(t,e,i){e==="number"&&Wn(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ki(t,e,i,s){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&s&&(t[i].defaultSelected=!0)}else{for(i=""+Oe(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,s&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function ro(t,e,i){if(e!=null&&(e=""+Oe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Oe(i):""}function qi(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(r(92));if(st(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=Oe(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s),Ft(t)}function We(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jr(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||lo.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function zr(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var c in e)s=e[c],e.hasOwnProperty(c)&&i[c]!==s&&jr(t,c,s)}else for(var f in e)e.hasOwnProperty(f)&&jr(t,f,e[f])}function Es(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(t){return Hi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mn(){}var Ur=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,ti=null;function La(t){var e=vn(t);if(e&&(t=e.stateNode)){var i=t[Ie]||null;t:switch(t=e.stateNode,e.type){case"input":if(bs(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+$e(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var c=s[Ie]||null;if(!c)throw Error(r(90));bs(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&za(s)}break t;case"textarea":ro(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ki(t,!!i.multiple,e,!1)}}}var Ss=!1;function Gi(t,e,i){if(Ss)return t(e,i);Ss=!0;try{var s=t(e);return s}finally{if(Ss=!1,(Pi!==null||ti!==null)&&(nu(),Pi&&(e=Pi,t=ti,ti=Pi=null,La(e),t)))for(e=0;e<t.length;e++)La(t[e])}}function jn(t,e){var i=t.stateNode;if(i===null)return null;var s=i[Ie]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(bn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Ba=!1}var ei=null,Lr=null,ka=null;function Br(){if(ka)return ka;var t,e=Lr,i=e.length,s,c="value"in ei?ei.value:ei.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var g=i-t;for(s=1;s<=g&&e[i-s]===c[f-s];s++);return ka=c.slice(t,1<s?1-s:void 0)}function qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yi(){return!0}function zn(){return!1}function Ue(t){function e(i,s,c,f,g){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(i=t[v],this[v]=i?i(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?yi:zn,this.isPropagationStopped=zn,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),e}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=Ue(vi),Qi=N({},vi,{view:0,detail:0}),kr=Ue(Qi),Fi,As,ii,xs=N({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(Fi=t.screenX-ii.screenX,As=t.screenY-ii.screenY):As=Fi=0,ii=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:As}}),qr=Ue(xs),Ha=N({},xs,{dataTransfer:0}),uo=Ue(Ha),co=N({},Qi,{relatedTarget:0}),Pa=Ue(co),Hr=N({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=Ue(Hr),ws=N({},vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fo=Ue(ws),mo=N({},vi,{data:0}),ai=Ue(mo),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yo[t])?!!e[t]:!1}function Yi(){return vo}var Ke=N({},Qi,{key:function(t){if(t.key){var e=go[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_o=Ue(Ke),bo=N({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_i=Ue(bo),o=N({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),m=Ue(o),p=N({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ue(p),z=N({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ue(z),Z=N({},vi,{newState:0,oldState:0}),At=Ue(Z),he=[9,13,27,32],Gt=bn&&"CompositionEvent"in window,ne=null;bn&&"documentMode"in document&&(ne=document.documentMode);var En=bn&&"TextEvent"in window&&!ne,si=bn&&(!Gt||ne&&8<ne&&11>=ne),Un=" ",Ln=!1;function Ga(t,e){switch(t){case"keyup":return he.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function Tv(t,e){switch(t){case"compositionend":return Rs(e);case"keypress":return e.which!==32?null:(Ln=!0,Un);case"textInput":return t=e.data,t===Un&&Ln?null:t;default:return null}}function Sv(t,e){if(Cs)return t==="compositionend"||!Gt&&Ga(t,e)?(t=Br(),ka=Lr=ei=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return si&&e.locale!=="ko"?null:e.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Av[t.type]:e==="textarea"}function pd(t,e,i,s){Pi?ti?ti.push(s):ti=[s]:Pi=s,e=uu(e,"onChange"),0<e.length&&(i=new ni("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var Pr=null,Gr=null;function xv(t){$g(t,0)}function Eo(t){var e=ln(t);if(za(e))return t}function yd(t,e){if(t==="change")return e}var vd=!1;if(bn){var oc;if(bn){var uc="oninput"in document;if(!uc){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),uc=typeof _d.oninput=="function"}oc=uc}else oc=!1;vd=oc&&(!document.documentMode||9<document.documentMode)}function bd(){Pr&&(Pr.detachEvent("onpropertychange",Ed),Gr=Pr=null)}function Ed(t){if(t.propertyName==="value"&&Eo(Gr)){var e=[];pd(e,Gr,t,_n(t)),Gi(xv,e)}}function wv(t,e,i){t==="focusin"?(bd(),Pr=e,Gr=i,Pr.attachEvent("onpropertychange",Ed)):t==="focusout"&&bd()}function Rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(Gr)}function Cv(t,e){if(t==="click")return Eo(e)}function Nv(t,e){if(t==="input"||t==="change")return Eo(e)}function Dv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:Dv;function Qr(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!pe.call(e,c)||!un(t[c],e[c]))return!1}return!0}function Td(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,e){var i=Td(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Td(i)}}function Ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Wn(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Wn(t.document)}return e}function cc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Vv=bn&&"documentMode"in document&&11>=document.documentMode,Ns=null,hc=null,Fr=null,fc=!1;function wd(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fc||Ns==null||Ns!==Wn(s)||(s=Ns,"selectionStart"in s&&cc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fr&&Qr(Fr,s)||(Fr=s,s=uu(hc,"onSelect"),0<s.length&&(e=new ni("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Ns)))}function Qa(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ds={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},dc={},Rd={};bn&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Fa(t){if(dc[t])return dc[t];if(!Ds[t])return t;var e=Ds[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Rd)return dc[t]=e[i];return t}var Cd=Fa("animationend"),Nd=Fa("animationiteration"),Dd=Fa("animationstart"),Iv=Fa("transitionrun"),Ov=Fa("transitionstart"),Mv=Fa("transitioncancel"),Vd=Fa("transitionend"),Id=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function Bn(t,e){Id.set(t,e),Jn(e,[t])}var To=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tn=[],Vs=0,gc=0;function So(){for(var t=Vs,e=gc=Vs=0;e<t;){var i=Tn[e];Tn[e++]=null;var s=Tn[e];Tn[e++]=null;var c=Tn[e];Tn[e++]=null;var f=Tn[e];if(Tn[e++]=null,s!==null&&c!==null){var g=s.pending;g===null?c.next=c:(c.next=g.next,g.next=c),s.pending=c}f!==0&&Od(i,c,f)}}function Ao(t,e,i,s){Tn[Vs++]=t,Tn[Vs++]=e,Tn[Vs++]=i,Tn[Vs++]=s,gc|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function pc(t,e,i,s){return Ao(t,e,i,s),xo(t)}function Ya(t,e){return Ao(t,null,null,e),xo(t)}function Od(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,s=f.alternate,s!==null&&(s.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-ce(i),t=f.hiddenUpdates,s=t[c],s===null?t[c]=[e]:s.push(e),e.lane=i|536870912),f):null}function xo(t){if(50<ml)throw ml=0,xh=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Is={};function jv(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,i,s){return new jv(t,e,i,s)}function yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,e){var i=t.alternate;return i===null?(i=cn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Md(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function wo(t,e,i,s,c,f){var g=0;if(s=t,typeof t=="function")yc(t)&&(g=1);else if(typeof t=="string")g=k_(t,i,Pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=cn(31,i,e,c),t.elementType=x,t.lanes=f,t;case et:return Ka(i.children,c,f,e);case W:g=8,c|=24;break;case Et:return t=cn(12,i,e,c|2),t.elementType=Et,t.lanes=f,t;case ft:return t=cn(13,i,e,c),t.elementType=ft,t.lanes=f,t;case ct:return t=cn(19,i,e,c),t.elementType=ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case at:g=9;break t;case nt:g=11;break t;case w:g=14;break t;case S:g=16,s=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),s=null}return e=cn(g,i,e,c),e.elementType=t,e.type=s,e.lanes=f,e}function Ka(t,e,i,s){return t=cn(7,t,s,e),t.lanes=i,t}function vc(t,e,i){return t=cn(6,t,null,e),t.lanes=i,t}function jd(t){var e=cn(18,null,null,0);return e.stateNode=t,e}function _c(t,e,i){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var zd=new WeakMap;function Sn(t,e){if(typeof t=="object"&&t!==null){var i=zd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Sr(e)},zd.set(t,e),e)}return{value:t,source:e,stack:Sr(e)}}var Os=[],Ms=0,Ro=null,Yr=0,An=[],xn=0,Ki=null,ri=1,li="";function Ei(t,e){Os[Ms++]=Yr,Os[Ms++]=Ro,Ro=t,Yr=e}function Ud(t,e,i){An[xn++]=ri,An[xn++]=li,An[xn++]=Ki,Ki=t;var s=ri;t=li;var c=32-ce(s)-1;s&=~(1<<c),i+=1;var f=32-ce(e)+c;if(30<f){var g=c-c%5;f=(s&(1<<g)-1).toString(32),s>>=g,c-=g,ri=1<<32-ce(e)+c|i<<c|s,li=f+t}else ri=1<<f|i<<c|s,li=t}function bc(t){t.return!==null&&(Ei(t,1),Ud(t,1,0))}function Ec(t){for(;t===Ro;)Ro=Os[--Ms],Os[Ms]=null,Yr=Os[--Ms],Os[Ms]=null;for(;t===Ki;)Ki=An[--xn],An[xn]=null,li=An[--xn],An[xn]=null,ri=An[--xn],An[xn]=null}function Ld(t,e){An[xn++]=ri,An[xn++]=li,An[xn++]=Ki,ri=e.id,li=e.overflow,Ki=t}var Le=null,te=null,Mt=!1,Xi=null,wn=!1,Tc=Error(r(519));function Zi(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kr(Sn(e,t)),Tc}function Bd(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[ve]=t,e[Ie]=s,i){case"dialog":Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":case"embed":Dt("load",e);break;case"video":case"audio":for(i=0;i<pl.length;i++)Dt(pl[i],e);break;case"source":Dt("error",e);break;case"img":case"image":case"link":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"input":Dt("invalid",e),so(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Dt("invalid",e);break;case"textarea":Dt("invalid",e),qi(e,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||np(e.textContent,i)?(s.popover!=null&&(Dt("beforetoggle",e),Dt("toggle",e)),s.onScroll!=null&&Dt("scroll",e),s.onScrollEnd!=null&&Dt("scrollend",e),s.onClick!=null&&(e.onclick=Mn),e=!0):e=!1,e||Zi(t,!0)}function kd(t){for(Le=t.return;Le;)switch(Le.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Le=Le.return}}function js(t){if(t!==Le)return!1;if(!Mt)return kd(t),Mt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||kh(t.type,t.memoizedProps)),i=!i),i&&te&&Zi(t),kd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));te=hp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));te=hp(t)}else e===27?(e=te,ca(t.type)?(t=Qh,Qh=null,te=t):te=e):te=Le?Cn(t.stateNode.nextSibling):null;return!0}function Xa(){te=Le=null,Mt=!1}function Sc(){var t=Xi;return t!==null&&(an===null?an=t:an.push.apply(an,t),Xi=null),t}function Kr(t){Xi===null?Xi=[t]:Xi.push(t)}var Ac=_t(null),Za=null,Ti=null;function Ji(t,e,i){Tt(Ac,e._currentValue),e._currentValue=i}function Si(t){t._currentValue=Ac.current,Rt(Ac)}function xc(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function wc(t,e,i,s){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=c;for(var R=0;R<e.length;R++)if(v.context===e[R]){f.lanes|=i,v=f.alternate,v!==null&&(v.lanes|=i),xc(f.return,i,t),s||(g=null);break t}f=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),xc(g,i,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function zs(t,e,i,s){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=c.type;un(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===Ct.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}c=c.return}t!==null&&wc(e,t,i,s),e.flags|=262144}function Co(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ja(t){Za=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return qd(Za,t)}function No(t,e){return Za===null&&Ja(t),qd(t,e)}function qd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Ti===null){if(t===null)throw Error(r(308));Ti=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ti=Ti.next=e;return i}var zv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Uv=l.unstable_scheduleCallback,Lv=l.unstable_NormalPriority,Ee={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new zv,data:new Map,refCount:0}}function Xr(t){t.refCount--,t.refCount===0&&Uv(Lv,function(){t.controller.abort()})}var Zr=null,Cc=0,Us=0,Ls=null;function Bv(t,e){if(Zr===null){var i=Zr=[];Cc=0,Us=Vh(),Ls={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Cc++,e.then(Hd,Hd),e}function Hd(){if(--Cc===0&&Zr!==null){Ls!==null&&(Ls.status="fulfilled");var t=Zr;Zr=null,Us=0,Ls=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function kv(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(s.status="rejected",s.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),s}var Pd=k.S;k.S=function(t,e){wg=Ye(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Bv(t,e),Pd!==null&&Pd(t,e)};var $a=_t(null);function Nc(){var t=$a.current;return t!==null?t:Wt.pooledCache}function Do(t,e){e===null?Tt($a,$a.current):Tt($a,e.pool)}function Gd(){var t=Nc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Bs=Error(r(460)),Dc=Error(r(474)),Vo=Error(r(542)),Io={then:function(){}};function Qd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Mn,Mn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Kd(t),t;default:if(typeof e.status=="string")e.then(Mn,Mn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=s}},function(s){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Kd(t),t}throw ts=e,Bs}}function Wa(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ts=i,Bs):i}}var ts=null;function Yd(){if(ts===null)throw Error(r(459));var t=ts;return ts=null,t}function Kd(t){if(t===Bs||t===Vo)throw Error(r(483))}var ks=null,Jr=0;function Oo(t){var e=Jr;return Jr+=1,ks===null&&(ks=[]),Fd(ks,t,e)}function $r(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Mo(t,e){throw e.$$typeof===j?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Xd(t){function e(M,V){if(t){var U=M.deletions;U===null?(M.deletions=[V],M.flags|=16):U.push(V)}}function i(M,V){if(!t)return null;for(;V!==null;)e(M,V),V=V.sibling;return null}function s(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=bi(M,V),M.index=0,M.sibling=null,M}function f(M,V,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<V?(M.flags|=67108866,V):U):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function v(M,V,U,G){return V===null||V.tag!==6?(V=vc(U,M.mode,G),V.return=M,V):(V=c(V,U),V.return=M,V)}function R(M,V,U,G){var gt=U.type;return gt===et?P(M,V,U.props.children,G,U.key):V!==null&&(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&Wa(gt)===V.type)?(V=c(V,U.props),$r(V,U),V.return=M,V):(V=wo(U.type,U.key,U.props,null,M.mode,G),$r(V,U),V.return=M,V)}function L(M,V,U,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=_c(U,M.mode,G),V.return=M,V):(V=c(V,U.children||[]),V.return=M,V)}function P(M,V,U,G,gt){return V===null||V.tag!==7?(V=Ka(U,M.mode,G,gt),V.return=M,V):(V=c(V,U),V.return=M,V)}function F(M,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vc(""+V,M.mode,U),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Q:return U=wo(V.type,V.key,V.props,null,M.mode,U),$r(U,V),U.return=M,U;case $:return V=_c(V,M.mode,U),V.return=M,V;case S:return V=Wa(V),F(M,V,U)}if(st(V)||O(V))return V=Ka(V,M.mode,U,null),V.return=M,V;if(typeof V.then=="function")return F(M,Oo(V),U);if(V.$$typeof===mt)return F(M,No(M,V),U);Mo(M,V)}return null}function B(M,V,U,G){var gt=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return gt!==null?null:v(M,V,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return U.key===gt?R(M,V,U,G):null;case $:return U.key===gt?L(M,V,U,G):null;case S:return U=Wa(U),B(M,V,U,G)}if(st(U)||O(U))return gt!==null?null:P(M,V,U,G,null);if(typeof U.then=="function")return B(M,V,Oo(U),G);if(U.$$typeof===mt)return B(M,V,No(M,U),G);Mo(M,U)}return null}function H(M,V,U,G,gt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(U)||null,v(V,M,""+G,gt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return M=M.get(G.key===null?U:G.key)||null,R(V,M,G,gt);case $:return M=M.get(G.key===null?U:G.key)||null,L(V,M,G,gt);case S:return G=Wa(G),H(M,V,U,G,gt)}if(st(G)||O(G))return M=M.get(U)||null,P(V,M,G,gt,null);if(typeof G.then=="function")return H(M,V,U,Oo(G),gt);if(G.$$typeof===mt)return H(M,V,U,No(V,G),gt);Mo(V,G)}return null}function ot(M,V,U,G){for(var gt=null,qt=null,ht=V,wt=V=0,It=null;ht!==null&&wt<U.length;wt++){ht.index>wt?(It=ht,ht=null):It=ht.sibling;var Ht=B(M,ht,U[wt],G);if(Ht===null){ht===null&&(ht=It);break}t&&ht&&Ht.alternate===null&&e(M,ht),V=f(Ht,V,wt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht,ht=It}if(wt===U.length)return i(M,ht),Mt&&Ei(M,wt),gt;if(ht===null){for(;wt<U.length;wt++)ht=F(M,U[wt],G),ht!==null&&(V=f(ht,V,wt),qt===null?gt=ht:qt.sibling=ht,qt=ht);return Mt&&Ei(M,wt),gt}for(ht=s(ht);wt<U.length;wt++)It=H(ht,M,wt,U[wt],G),It!==null&&(t&&It.alternate!==null&&ht.delete(It.key===null?wt:It.key),V=f(It,V,wt),qt===null?gt=It:qt.sibling=It,qt=It);return t&&ht.forEach(function(ga){return e(M,ga)}),Mt&&Ei(M,wt),gt}function yt(M,V,U,G){if(U==null)throw Error(r(151));for(var gt=null,qt=null,ht=V,wt=V=0,It=null,Ht=U.next();ht!==null&&!Ht.done;wt++,Ht=U.next()){ht.index>wt?(It=ht,ht=null):It=ht.sibling;var ga=B(M,ht,Ht.value,G);if(ga===null){ht===null&&(ht=It);break}t&&ht&&ga.alternate===null&&e(M,ht),V=f(ga,V,wt),qt===null?gt=ga:qt.sibling=ga,qt=ga,ht=It}if(Ht.done)return i(M,ht),Mt&&Ei(M,wt),gt;if(ht===null){for(;!Ht.done;wt++,Ht=U.next())Ht=F(M,Ht.value,G),Ht!==null&&(V=f(Ht,V,wt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht);return Mt&&Ei(M,wt),gt}for(ht=s(ht);!Ht.done;wt++,Ht=U.next())Ht=H(ht,M,wt,Ht.value,G),Ht!==null&&(t&&Ht.alternate!==null&&ht.delete(Ht.key===null?wt:Ht.key),V=f(Ht,V,wt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht);return t&&ht.forEach(function(J_){return e(M,J_)}),Mt&&Ei(M,wt),gt}function $t(M,V,U,G){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:t:{for(var gt=U.key;V!==null;){if(V.key===gt){if(gt=U.type,gt===et){if(V.tag===7){i(M,V.sibling),G=c(V,U.props.children),G.return=M,M=G;break t}}else if(V.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&Wa(gt)===V.type){i(M,V.sibling),G=c(V,U.props),$r(G,U),G.return=M,M=G;break t}i(M,V);break}else e(M,V);V=V.sibling}U.type===et?(G=Ka(U.props.children,M.mode,G,U.key),G.return=M,M=G):(G=wo(U.type,U.key,U.props,null,M.mode,G),$r(G,U),G.return=M,M=G)}return g(M);case $:t:{for(gt=U.key;V!==null;){if(V.key===gt)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){i(M,V.sibling),G=c(V,U.children||[]),G.return=M,M=G;break t}else{i(M,V);break}else e(M,V);V=V.sibling}G=_c(U,M.mode,G),G.return=M,M=G}return g(M);case S:return U=Wa(U),$t(M,V,U,G)}if(st(U))return ot(M,V,U,G);if(O(U)){if(gt=O(U),typeof gt!="function")throw Error(r(150));return U=gt.call(U),yt(M,V,U,G)}if(typeof U.then=="function")return $t(M,V,Oo(U),G);if(U.$$typeof===mt)return $t(M,V,No(M,U),G);Mo(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(i(M,V.sibling),G=c(V,U),G.return=M,M=G):(i(M,V),G=vc(U,M.mode,G),G.return=M,M=G),g(M)):i(M,V)}return function(M,V,U,G){try{Jr=0;var gt=$t(M,V,U,G);return ks=null,gt}catch(ht){if(ht===Bs||ht===Vo)throw ht;var qt=cn(29,ht,null,M.mode);return qt.lanes=G,qt.return=M,qt}finally{}}}var es=Xd(!0),Zd=Xd(!1),$i=!1;function Vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Qt&2)!==0){var c=s.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),s.pending=e,e=xo(t),Od(t,null,i),e}return Ao(t,s,e,i),xo(t)}function Wr(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,wr(t,i)}}function Oc(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Mc=!1;function tl(){if(Mc){var t=Ls;if(t!==null)throw t}}function el(t,e,i,s){Mc=!1;var c=t.updateQueue;$i=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var R=v,L=R.next;R.next=null,g===null?f=L:g.next=L,g=R;var P=t.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=L:v.next=L,P.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;g=0,P=L=R=null,v=f;do{var B=v.lane&-536870913,H=B!==v.lane;if(H?(Vt&B)===B:(s&B)===B){B!==0&&B===Us&&(Mc=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ot=t,yt=v;B=e;var $t=i;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){F=ot.call($t,F,B);break t}F=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,B=typeof ot=="function"?ot.call($t,F,B):ot,B==null)break t;F=N({},F,B);break t;case 2:$i=!0}}B=v.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(L=P=H,R=F):P=P.next=H,g|=B;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;H=v,v=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);P===null&&(R=F),c.baseState=R,c.firstBaseUpdate=L,c.lastBaseUpdate=P,f===null&&(c.shared.lanes=0),sa|=g,t.lanes=g,t.memoizedState=F}}function Jd(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function $d(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Jd(i[t],e)}var qs=_t(null),jo=_t(0);function Wd(t,e){t=Ii,Tt(jo,t),Tt(qs,e),Ii=t|e.baseLanes}function jc(){Tt(jo,Ii),Tt(qs,qs.current)}function zc(){Ii=jo.current,Rt(qs),Rt(jo)}var hn=_t(null),Rn=null;function ea(t){var e=t.alternate;Tt(fe,fe.current&1),Tt(hn,t),Rn===null&&(e===null||qs.current!==null||e.memoizedState!==null)&&(Rn=t)}function Uc(t){Tt(fe,fe.current),Tt(hn,t),Rn===null&&(Rn=t)}function tm(t){t.tag===22?(Tt(fe,fe.current),Tt(hn,t),Rn===null&&(Rn=t)):na()}function na(){Tt(fe,fe.current),Tt(hn,hn.current)}function fn(t){Rt(hn),Rn===t&&(Rn=null),Rt(fe)}var fe=_t(0);function zo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ph(i)||Gh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ai=0,xt=null,Zt=null,Te=null,Uo=!1,Hs=!1,ns=!1,Lo=0,nl=0,Ps=null,qv=0;function re(){throw Error(r(321))}function Lc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!un(t[i],e[i]))return!1;return!0}function Bc(t,e,i,s,c,f){return Ai=f,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?Um:th,ns=!1,f=i(s,c),ns=!1,Hs&&(f=nm(e,i,s,c)),em(t),f}function em(t){k.H=sl;var e=Zt!==null&&Zt.next!==null;if(Ai=0,Te=Zt=xt=null,Uo=!1,nl=0,Ps=null,e)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Co(t)&&(Se=!0))}function nm(t,e,i,s){xt=t;var c=0;do{if(Hs&&(Ps=null),nl=0,Hs=!1,25<=c)throw Error(r(301));if(c+=1,Te=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=Lm,f=e(i,s)}while(Hs);return f}function Hv(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?il(e):e,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(xt.flags|=1024),e}function kc(){var t=Lo!==0;return Lo=0,t}function qc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Hc(t){if(Uo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Uo=!1}Ai=0,Te=Zt=xt=null,Hs=!1,nl=Lo=0,Ps=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?xt.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Zt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=Te===null?xt.memoizedState:Te.next;if(e!==null)Te=e,Zt=t;else{if(t===null)throw xt.alternate===null?Error(r(467)):Error(r(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Te===null?xt.memoizedState=Te=t:Te=Te.next=t}return Te}function Bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var e=nl;return nl+=1,Ps===null&&(Ps=[]),t=Fd(Ps,t,e),e=xt,(Te===null?e.memoizedState:Te.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?Um:th),t}function ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===mt)return Be(t)}throw Error(r(438,String(t)))}function Pc(t){var e=null,i=xt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=xt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Bo(),xt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=I;return e.index++,i}function xi(t,e){return typeof e=="function"?e(t):e}function qo(t){var e=de();return Gc(e,Zt,t)}function Gc(t,e,i){var s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=t.baseQueue,f=s.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}e.baseQueue=c=f,s.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var v=g=null,R=null,L=e,P=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(Vt&F)===F:(Ai&F)===F){var B=L.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===Us&&(P=!0);else if((Ai&B)===B){L=L.next,B===Us&&(P=!0);continue}else F={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(v=R=F,g=f):R=R.next=F,xt.lanes|=B,sa|=B;F=L.action,ns&&i(f,F),f=L.hasEagerState?L.eagerState:i(f,F)}else B={lane:F,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(v=R=B,g=f):R=R.next=B,xt.lanes|=F,sa|=F;L=L.next}while(L!==null&&L!==e);if(R===null?g=f:R.next=v,!un(f,t.memoizedState)&&(Se=!0,P&&(i=Ls,i!==null)))throw i;t.memoizedState=f,t.baseState=g,t.baseQueue=R,s.lastRenderedState=f}return c===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Qc(t){var e=de(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var s=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);un(f,e.memoizedState)||(Se=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,s]}function im(t,e,i){var s=xt,c=de(),f=Mt;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!un((Zt||c).memoizedState,i);if(g&&(c.memoizedState=i,Se=!0),c=c.queue,Kc(rm.bind(null,s,c,t),[t]),c.getSnapshot!==e||g||Te!==null&&Te.memoizedState.tag&1){if(s.flags|=2048,Gs(9,{destroy:void 0},sm.bind(null,s,c,i,e),null),Wt===null)throw Error(r(349));f||(Ai&127)!==0||am(s,e,i)}return i}function am(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=xt.updateQueue,e===null?(e=Bo(),xt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function sm(t,e,i,s){e.value=i,e.getSnapshot=s,lm(e)&&om(t)}function rm(t,e,i){return i(function(){lm(e)&&om(t)})}function lm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!un(t,i)}catch{return!0}}function om(t){var e=Ya(t,2);e!==null&&sn(e,t,2)}function Fc(t){var e=Xe();if(typeof t=="function"){var i=t;if(t=i(),ns){yn(!0);try{i()}finally{yn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},e}function um(t,e,i,s){return t.baseState=i,Gc(t,Zt,typeof s=="function"?s:xi)}function Pv(t,e,i,s,c){if(Go(t))throw Error(r(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};k.T!==null?i(!0):f.isTransition=!1,s(f),i=e.pending,i===null?(f.next=e.pending=f,cm(e,f)):(f.next=i.next,e.pending=i.next=f)}}function cm(t,e){var i=e.action,s=e.payload,c=t.state;if(e.isTransition){var f=k.T,g={};k.T=g;try{var v=i(c,s),R=k.S;R!==null&&R(g,v),hm(t,e,v)}catch(L){Yc(t,e,L)}finally{f!==null&&g.types!==null&&(f.types=g.types),k.T=f}}else try{f=i(c,s),hm(t,e,f)}catch(L){Yc(t,e,L)}}function hm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){fm(t,e,s)},function(s){return Yc(t,e,s)}):fm(t,e,i)}function fm(t,e,i){e.status="fulfilled",e.value=i,dm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,cm(t,i)))}function Yc(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,dm(e),e=e.next;while(e!==s)}t.action=null}function dm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function mm(t,e){return e}function gm(t,e){if(Mt){var i=Wt.formState;if(i!==null){t:{var s=xt;if(Mt){if(te){e:{for(var c=te,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Cn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=Cn(c.nextSibling),s=c.data==="F!";break t}}Zi(s)}s=!1}s&&(e=i[0])}}return i=Xe(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:e},i.queue=s,i=Mm.bind(null,xt,s),s.dispatch=i,s=Fc(!1),f=Wc.bind(null,xt,!1,s.queue),s=Xe(),c={state:e,dispatch:null,action:t,pending:null},s.queue=c,i=Pv.bind(null,xt,c,f,i),c.dispatch=i,s.memoizedState=t,[e,i,!1]}function pm(t){var e=de();return ym(e,Zt,t)}function ym(t,e,i){if(e=Gc(t,e,mm)[0],t=qo(xi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=il(e)}catch(g){throw g===Bs?Vo:g}else s=e;e=de();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(xt.flags|=2048,Gs(9,{destroy:void 0},Gv.bind(null,c,i),null)),[s,f,t]}function Gv(t,e){t.action=e}function vm(t){var e=de(),i=Zt;if(i!==null)return ym(e,i,t);de(),e=e.memoizedState,i=de();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function Gs(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=xt.updateQueue,e===null&&(e=Bo(),xt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function _m(){return de().memoizedState}function Ho(t,e,i,s){var c=Xe();xt.flags|=t,c.memoizedState=Gs(1|e,{destroy:void 0},i,s===void 0?null:s)}function Po(t,e,i,s){var c=de();s=s===void 0?null:s;var f=c.memoizedState.inst;Zt!==null&&s!==null&&Lc(s,Zt.memoizedState.deps)?c.memoizedState=Gs(e,f,i,s):(xt.flags|=t,c.memoizedState=Gs(1|e,f,i,s))}function bm(t,e){Ho(8390656,8,t,e)}function Kc(t,e){Po(2048,8,t,e)}function Qv(t){xt.flags|=4;var e=xt.updateQueue;if(e===null)e=Bo(),xt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Em(t){var e=de().memoizedState;return Qv({ref:e,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Tm(t,e){return Po(4,2,t,e)}function Sm(t,e){return Po(4,4,t,e)}function Am(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xm(t,e,i){i=i!=null?i.concat([t]):null,Po(4,4,Am.bind(null,e,t),i)}function Xc(){}function wm(t,e){var i=de();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&Lc(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Rm(t,e){var i=de();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&Lc(e,s[1]))return s[0];if(s=t(),ns){yn(!0);try{t()}finally{yn(!1)}}return i.memoizedState=[s,e],s}function Zc(t,e,i){return i===void 0||(Ai&1073741824)!==0&&(Vt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Cg(),xt.lanes|=t,sa|=t,i)}function Cm(t,e,i,s){return un(i,e)?i:qs.current!==null?(t=Zc(t,i,s),un(t,e)||(Se=!0),t):(Ai&42)===0||(Ai&1073741824)!==0&&(Vt&261930)===0?(Se=!0,t.memoizedState=i):(t=Cg(),xt.lanes|=t,sa|=t,e)}function Nm(t,e,i,s,c){var f=K.p;K.p=f!==0&&8>f?f:8;var g=k.T,v={};k.T=v,Wc(t,!1,e,i);try{var R=c(),L=k.S;if(L!==null&&L(v,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var P=kv(R,s);al(t,e,P,gn(t))}else al(t,e,s,gn(t))}catch(F){al(t,e,{then:function(){},status:"rejected",reason:F},gn())}finally{K.p=f,g!==null&&v.types!==null&&(g.types=v.types),k.T=g}}function Fv(){}function Jc(t,e,i,s){if(t.tag!==5)throw Error(r(476));var c=Dm(t).queue;Nm(t,c,e,X,i===null?Fv:function(){return Vm(t),i(s)})}function Dm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:X},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Vm(t){var e=Dm(t);e.next===null&&(e=t.alternate.memoizedState),al(t,e.next.queue,{},gn())}function $c(){return Be(El)}function Im(){return de().memoizedState}function Om(){return de().memoizedState}function Yv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=gn();t=Wi(i);var s=ta(e,t,i);s!==null&&(sn(s,e,i),Wr(s,e,i)),e={cache:Rc()},t.payload=e;return}e=e.return}}function Kv(t,e,i){var s=gn();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Go(t)?jm(e,i):(i=pc(t,e,i,s),i!==null&&(sn(i,t,s),zm(i,e,s)))}function Mm(t,e,i){var s=gn();al(t,e,i,s)}function al(t,e,i,s){var c={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Go(t))jm(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,v=f(g,i);if(c.hasEagerState=!0,c.eagerState=v,un(v,g))return Ao(t,e,c,0),Wt===null&&So(),!1}catch{}finally{}if(i=pc(t,e,c,s),i!==null)return sn(i,t,s),zm(i,e,s),!0}return!1}function Wc(t,e,i,s){if(s={lane:2,revertLane:Vh(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Go(t)){if(e)throw Error(r(479))}else e=pc(t,i,s,2),e!==null&&sn(e,t,2)}function Go(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function jm(t,e){Hs=Uo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function zm(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,wr(t,i)}}var sl={readContext:Be,use:ko,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};sl.useEffectEvent=re;var Um={readContext:Be,use:ko,useCallback:function(t,e){return Xe().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:bm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Ho(4194308,4,Am.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Ho(4194308,4,t,e)},useInsertionEffect:function(t,e){Ho(4,2,t,e)},useMemo:function(t,e){var i=Xe();e=e===void 0?null:e;var s=t();if(ns){yn(!0);try{t()}finally{yn(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=Xe();if(i!==void 0){var c=i(e);if(ns){yn(!0);try{i(e)}finally{yn(!1)}}}else c=e;return s.memoizedState=s.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},s.queue=t,t=t.dispatch=Kv.bind(null,xt,t),[s.memoizedState,t]},useRef:function(t){var e=Xe();return t={current:t},e.memoizedState=t},useState:function(t){t=Fc(t);var e=t.queue,i=Mm.bind(null,xt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Xc,useDeferredValue:function(t,e){var i=Xe();return Zc(i,t,e)},useTransition:function(){var t=Fc(!1);return t=Nm.bind(null,xt,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=xt,c=Xe();if(Mt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),Wt===null)throw Error(r(349));(Vt&127)!==0||am(s,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,bm(rm.bind(null,s,f,t),[t]),s.flags|=2048,Gs(9,{destroy:void 0},sm.bind(null,s,f,i,e),null),i},useId:function(){var t=Xe(),e=Wt.identifierPrefix;if(Mt){var i=li,s=ri;i=(s&~(1<<32-ce(s)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Lo++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=qv++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:$c,useFormState:gm,useActionState:gm,useOptimistic:function(t){var e=Xe();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Wc.bind(null,xt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Pc,useCacheRefresh:function(){return Xe().memoizedState=Yv.bind(null,xt)},useEffectEvent:function(t){var e=Xe(),i={impl:t};return e.memoizedState=i,function(){if((Qt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},th={readContext:Be,use:ko,useCallback:wm,useContext:Be,useEffect:Kc,useImperativeHandle:xm,useInsertionEffect:Tm,useLayoutEffect:Sm,useMemo:Rm,useReducer:qo,useRef:_m,useState:function(){return qo(xi)},useDebugValue:Xc,useDeferredValue:function(t,e){var i=de();return Cm(i,Zt.memoizedState,t,e)},useTransition:function(){var t=qo(xi)[0],e=de().memoizedState;return[typeof t=="boolean"?t:il(t),e]},useSyncExternalStore:im,useId:Im,useHostTransitionStatus:$c,useFormState:pm,useActionState:pm,useOptimistic:function(t,e){var i=de();return um(i,Zt,t,e)},useMemoCache:Pc,useCacheRefresh:Om};th.useEffectEvent=Em;var Lm={readContext:Be,use:ko,useCallback:wm,useContext:Be,useEffect:Kc,useImperativeHandle:xm,useInsertionEffect:Tm,useLayoutEffect:Sm,useMemo:Rm,useReducer:Qc,useRef:_m,useState:function(){return Qc(xi)},useDebugValue:Xc,useDeferredValue:function(t,e){var i=de();return Zt===null?Zc(i,t,e):Cm(i,Zt.memoizedState,t,e)},useTransition:function(){var t=Qc(xi)[0],e=de().memoizedState;return[typeof t=="boolean"?t:il(t),e]},useSyncExternalStore:im,useId:Im,useHostTransitionStatus:$c,useFormState:vm,useActionState:vm,useOptimistic:function(t,e){var i=de();return Zt!==null?um(i,Zt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Om};Lm.useEffectEvent=Em;function eh(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:N({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var nh={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=gn(),c=Wi(s);c.payload=e,i!=null&&(c.callback=i),e=ta(t,c,s),e!==null&&(sn(e,t,s),Wr(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=gn(),c=Wi(s);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=ta(t,c,s),e!==null&&(sn(e,t,s),Wr(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=gn(),s=Wi(i);s.tag=2,e!=null&&(s.callback=e),e=ta(t,s,i),e!==null&&(sn(e,t,i),Wr(e,t,i))}};function Bm(t,e,i,s,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,f,g):e.prototype&&e.prototype.isPureReactComponent?!Qr(i,s)||!Qr(c,f):!0}function km(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function is(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=N({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}function qm(t){To(t)}function Hm(t){console.error(t)}function Pm(t){To(t)}function Qo(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Gm(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ih(t,e,i){return i=Wi(i),i.tag=3,i.payload={element:null},i.callback=function(){Qo(t,e)},i}function Qm(t){return t=Wi(t),t.tag=3,t}function Fm(t,e,i,s){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;t.payload=function(){return c(f)},t.callback=function(){Gm(e,i,s)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gm(e,i,s),typeof c!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Xv(t,e,i,s,c){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&zs(e,i,c,!0),i=hn.current,i!==null){switch(i.tag){case 31:case 13:return Rn===null?iu():i.alternate===null&&le===0&&(le=3),i.flags&=-257,i.flags|=65536,i.lanes=c,s===Io?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),Ch(t,s,c)),!1;case 22:return i.flags|=65536,s===Io?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),Ch(t,s,c)),!1}throw Error(r(435,i.tag))}return Ch(t,s,c),iu(),!1}if(Mt)return e=hn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,s!==Tc&&(t=Error(r(422),{cause:s}),Kr(Sn(t,i)))):(s!==Tc&&(e=Error(r(423),{cause:s}),Kr(Sn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,s=Sn(s,i),c=ih(t.stateNode,s,c),Oc(t,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:s});if(f=Sn(f,i),dl===null?dl=[f]:dl.push(f),le!==4&&(le=2),e===null)return!0;s=Sn(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=ih(i.stateNode,s,t),Oc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ra===null||!ra.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Qm(c),Fm(c,t,i,s),Oc(i,c),!1}i=i.return}while(i!==null);return!1}var ah=Error(r(461)),Se=!1;function ke(t,e,i,s){e.child=t===null?Zd(e,null,i,s):es(e,t.child,i,s)}function Ym(t,e,i,s,c){i=i.render;var f=e.ref;if("ref"in s){var g={};for(var v in s)v!=="ref"&&(g[v]=s[v])}else g=s;return Ja(e),s=Bc(t,e,i,g,f,c),v=kc(),t!==null&&!Se?(qc(t,e,c),wi(t,e,c)):(Mt&&v&&bc(e),e.flags|=1,ke(t,e,s,c),e.child)}function Km(t,e,i,s,c){if(t===null){var f=i.type;return typeof f=="function"&&!yc(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,Xm(t,e,f,s,c)):(t=wo(i.type,null,s,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!fh(t,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Qr,i(g,s)&&t.ref===e.ref)return wi(t,e,c)}return e.flags|=1,t=bi(f,s),t.ref=e.ref,t.return=e,e.child=t}function Xm(t,e,i,s,c){if(t!==null){var f=t.memoizedProps;if(Qr(f,s)&&t.ref===e.ref)if(Se=!1,e.pendingProps=s=f,fh(t,c))(t.flags&131072)!==0&&(Se=!0);else return e.lanes=t.lanes,wi(t,e,c)}return sh(t,e,i,s,c)}function Zm(t,e,i,s){var c=s.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(s=e.child=t.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~f}else s=0,e.child=null;return Jm(t,e,f,i,s)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Do(e,f!==null?f.cachePool:null),f!==null?Wd(e,f):jc(),tm(e);else return s=e.lanes=536870912,Jm(t,e,f!==null?f.baseLanes|i:i,i,s)}else f!==null?(Do(e,f.cachePool),Wd(e,f),na(),e.memoizedState=null):(t!==null&&Do(e,null),jc(),na());return ke(t,e,c,i),e.child}function rl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Jm(t,e,i,s,c){var f=Nc();return f=f===null?null:{parent:Ee._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&Do(e,null),jc(),tm(e),t!==null&&zs(t,e,s,!0),e.childLanes=c,null}function Fo(t,e){return e=Ko({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function $m(t,e,i){return es(e,t.child,null,i),t=Fo(e,e.pendingProps),t.flags|=2,fn(e),e.memoizedState=null,t}function Zv(t,e,i){var s=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Mt){if(s.mode==="hidden")return t=Fo(e,s),e.lanes=536870912,rl(null,t);if(Uc(e),(t=te)?(t=cp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:ri,overflow:li}:null,retryLane:536870912,hydrationErrors:null},i=jd(t),i.return=e,e.child=i,Le=e,te=null)):t=null,t===null)throw Zi(e);return e.lanes=536870912,null}return Fo(e,s)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Uc(e),c)if(e.flags&256)e.flags&=-257,e=$m(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(Se||zs(t,e,i,!1),c=(i&t.childLanes)!==0,Se||c){if(s=Wt,s!==null&&(g=Rr(s,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ya(t,g),sn(s,t,g),ah;iu(),e=$m(t,e,i)}else t=f.treeContext,te=Cn(g.nextSibling),Le=e,Mt=!0,Xi=null,wn=!1,t!==null&&Ld(e,t),e=Fo(e,s),e.flags|=4096;return e}return t=bi(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yo(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function sh(t,e,i,s,c){return Ja(e),i=Bc(t,e,i,s,void 0,c),s=kc(),t!==null&&!Se?(qc(t,e,c),wi(t,e,c)):(Mt&&s&&bc(e),e.flags|=1,ke(t,e,i,c),e.child)}function Wm(t,e,i,s,c,f){return Ja(e),e.updateQueue=null,i=nm(e,s,i,c),em(t),s=kc(),t!==null&&!Se?(qc(t,e,f),wi(t,e,f)):(Mt&&s&&bc(e),e.flags|=1,ke(t,e,i,f),e.child)}function tg(t,e,i,s,c){if(Ja(e),e.stateNode===null){var f=Is,g=i.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new i(s,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nh,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=s,f.state=e.memoizedState,f.refs={},Vc(e),g=i.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Is,f.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(eh(e,i,g,s),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&nh.enqueueReplaceState(f,f.state,null),el(e,s,f,c),tl(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){f=e.stateNode;var v=e.memoizedProps,R=is(i,v);f.props=R;var L=f.context,P=i.contextType;g=Is,typeof P=="object"&&P!==null&&(g=Be(P));var F=i.getDerivedStateFromProps;P=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=e.pendingProps!==v,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||L!==g)&&km(e,f,s,g),$i=!1;var B=e.memoizedState;f.state=B,el(e,s,f,c),tl(),L=e.memoizedState,v||B!==L||$i?(typeof F=="function"&&(eh(e,i,F,s),L=e.memoizedState),(R=$i||Bm(e,i,R,s,B,L,g))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=L),f.props=s,f.state=L,f.context=g,s=R):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{f=e.stateNode,Ic(t,e),g=e.memoizedProps,P=is(i,g),f.props=P,F=e.pendingProps,B=f.context,L=i.contextType,R=Is,typeof L=="object"&&L!==null&&(R=Be(L)),v=i.getDerivedStateFromProps,(L=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||B!==R)&&km(e,f,s,R),$i=!1,B=e.memoizedState,f.state=B,el(e,s,f,c),tl();var H=e.memoizedState;g!==F||B!==H||$i||t!==null&&t.dependencies!==null&&Co(t.dependencies)?(typeof v=="function"&&(eh(e,i,v,s),H=e.memoizedState),(P=$i||Bm(e,i,P,s,B,H,R)||t!==null&&t.dependencies!==null&&Co(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,H,R)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=H),f.props=s,f.state=H,f.context=R,s=P):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),s=!1)}return f=s,Yo(t,e),s=(e.flags&128)!==0,f||s?(f=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&s?(e.child=es(e,t.child,null,c),e.child=es(e,null,i,c)):ke(t,e,i,c),e.memoizedState=f.state,t=e.child):t=wi(t,e,c),t}function eg(t,e,i,s){return Xa(),e.flags|=256,ke(t,e,i,s),e.child}var rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lh(t){return{baseLanes:t,cachePool:Gd()}}function oh(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=mn),t}function ng(t,e,i){var s=e.pendingProps,c=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(Mt){if(c?ea(e):na(),(t=te)?(t=cp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:ri,overflow:li}:null,retryLane:536870912,hydrationErrors:null},i=jd(t),i.return=e,e.child=i,Le=e,te=null)):t=null,t===null)throw Zi(e);return Gh(t)?e.lanes=32:e.lanes=536870912,null}var v=s.children;return s=s.fallback,c?(na(),c=e.mode,v=Ko({mode:"hidden",children:v},c),s=Ka(s,c,i,null),v.return=e,s.return=e,v.sibling=s,e.child=v,s=e.child,s.memoizedState=lh(i),s.childLanes=oh(t,g,i),e.memoizedState=rh,rl(null,s)):(ea(e),uh(e,v))}var R=t.memoizedState;if(R!==null&&(v=R.dehydrated,v!==null)){if(f)e.flags&256?(ea(e),e.flags&=-257,e=ch(t,e,i)):e.memoizedState!==null?(na(),e.child=t.child,e.flags|=128,e=null):(na(),v=s.fallback,c=e.mode,s=Ko({mode:"visible",children:s.children},c),v=Ka(v,c,i,null),v.flags|=2,s.return=e,v.return=e,s.sibling=v,e.child=s,es(e,t.child,null,i),s=e.child,s.memoizedState=lh(i),s.childLanes=oh(t,g,i),e.memoizedState=rh,e=rl(null,s));else if(ea(e),Gh(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var L=g.dgst;g=L,s=Error(r(419)),s.stack="",s.digest=g,Kr({value:s,source:null,stack:null}),e=ch(t,e,i)}else if(Se||zs(t,e,i,!1),g=(i&t.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(s=Rr(g,i),s!==0&&s!==R.retryLane))throw R.retryLane=s,Ya(t,s),sn(g,t,s),ah;Ph(v)||iu(),e=ch(t,e,i)}else Ph(v)?(e.flags|=192,e.child=t.child,e=null):(t=R.treeContext,te=Cn(v.nextSibling),Le=e,Mt=!0,Xi=null,wn=!1,t!==null&&Ld(e,t),e=uh(e,s.children),e.flags|=4096);return e}return c?(na(),v=s.fallback,c=e.mode,R=t.child,L=R.sibling,s=bi(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,L!==null?v=bi(L,v):(v=Ka(v,c,i,null),v.flags|=2),v.return=e,s.return=e,s.sibling=v,e.child=s,rl(null,s),s=e.child,v=t.child.memoizedState,v===null?v=lh(i):(c=v.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Gd(),v={baseLanes:v.baseLanes|i,cachePool:c}),s.memoizedState=v,s.childLanes=oh(t,g,i),e.memoizedState=rh,rl(t.child,s)):(ea(e),i=t.child,t=i.sibling,i=bi(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function uh(t,e){return e=Ko({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ko(t,e){return t=cn(22,t,null,e),t.lanes=0,t}function ch(t,e,i){return es(e,t.child,null,i),t=uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ig(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),xc(t.return,e,i)}function hh(t,e,i,s,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function ag(t,e,i){var s=e.pendingProps,c=s.revealOrder,f=s.tail;s=s.children;var g=fe.current,v=(g&2)!==0;if(v?(g=g&1|2,e.flags|=128):g&=1,Tt(fe,g),ke(t,e,s,i),s=Mt?Yr:0,!v&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ig(t,i,e);else if(t.tag===19)ig(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&zo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),hh(e,!1,c,i,f,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&zo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}hh(e,!0,i,null,f,s);break;case"together":hh(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function wi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),sa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(zs(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=bi(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=bi(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function fh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Co(t)))}function Jv(t,e,i){switch(e.tag){case 3:ue(e,e.stateNode.containerInfo),Ji(e,Ee,t.memoizedState.cache),Xa();break;case 27:case 5:Na(e);break;case 4:ue(e,e.stateNode.containerInfo);break;case 10:Ji(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Uc(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ea(e),e.flags|=128,null):(i&e.child.childLanes)!==0?ng(t,e,i):(ea(e),t=wi(t,e,i),t!==null?t.sibling:null);ea(e);break;case 19:var c=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(zs(t,e,i,!1),s=(i&e.childLanes)!==0),c){if(s)return ag(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Tt(fe,fe.current),s)break;return null;case 22:return e.lanes=0,Zm(t,e,i,e.pendingProps);case 24:Ji(e,Ee,t.memoizedState.cache)}return wi(t,e,i)}function sg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Se=!0;else{if(!fh(t,i)&&(e.flags&128)===0)return Se=!1,Jv(t,e,i);Se=(t.flags&131072)!==0}else Se=!1,Mt&&(e.flags&1048576)!==0&&Ud(e,Yr,e.index);switch(e.lanes=0,e.tag){case 16:t:{var s=e.pendingProps;if(t=Wa(e.elementType),e.type=t,typeof t=="function")yc(t)?(s=is(t,s),e.tag=1,e=tg(null,e,t,s,i)):(e.tag=0,e=sh(null,e,t,s,i));else{if(t!=null){var c=t.$$typeof;if(c===nt){e.tag=11,e=Ym(null,e,t,s,i);break t}else if(c===w){e.tag=14,e=Km(null,e,t,s,i);break t}}throw e=it(t)||t,Error(r(306,e,""))}}return e;case 0:return sh(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,c=is(s,e.pendingProps),tg(t,e,s,c,i);case 3:t:{if(ue(e,e.stateNode.containerInfo),t===null)throw Error(r(387));s=e.pendingProps;var f=e.memoizedState;c=f.element,Ic(t,e),el(e,s,null,i);var g=e.memoizedState;if(s=g.cache,Ji(e,Ee,s),s!==f.cache&&wc(e,[Ee],i,!0),tl(),s=g.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=eg(t,e,s,i);break t}else if(s!==c){c=Sn(Error(r(424)),e),Kr(c),e=eg(t,e,s,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(te=Cn(t.firstChild),Le=e,Mt=!0,Xi=null,wn=!0,i=Zd(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Xa(),s===c){e=wi(t,e,i);break t}ke(t,e,s,i)}e=e.child}return e;case 26:return Yo(t,e),t===null?(i=pp(e.type,null,e.pendingProps,null))?e.memoizedState=i:Mt||(i=e.type,t=e.pendingProps,s=cu(Ot.current).createElement(i),s[ve]=e,s[Ie]=t,qe(s,i,t),_e(s),e.stateNode=s):e.memoizedState=pp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Na(e),t===null&&Mt&&(s=e.stateNode=dp(e.type,e.pendingProps,Ot.current),Le=e,wn=!0,c=te,ca(e.type)?(Qh=c,te=Cn(s.firstChild)):te=c),ke(t,e,e.pendingProps.children,i),Yo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Mt&&((c=s=te)&&(s=R_(s,e.type,e.pendingProps,wn),s!==null?(e.stateNode=s,Le=e,te=Cn(s.firstChild),wn=!1,c=!0):c=!1),c||Zi(e)),Na(e),c=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,s=f.children,kh(c,f)?s=null:g!==null&&kh(c,g)&&(e.flags|=32),e.memoizedState!==null&&(c=Bc(t,e,Hv,null,null,i),El._currentValue=c),Yo(t,e),ke(t,e,s,i),e.child;case 6:return t===null&&Mt&&((t=i=te)&&(i=C_(i,e.pendingProps,wn),i!==null?(e.stateNode=i,Le=e,te=null,t=!0):t=!1),t||Zi(e)),null;case 13:return ng(t,e,i);case 4:return ue(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=es(e,null,s,i):ke(t,e,s,i),e.child;case 11:return Ym(t,e,e.type,e.pendingProps,i);case 7:return ke(t,e,e.pendingProps,i),e.child;case 8:return ke(t,e,e.pendingProps.children,i),e.child;case 12:return ke(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,Ji(e,e.type,s.value),ke(t,e,s.children,i),e.child;case 9:return c=e.type._context,s=e.pendingProps.children,Ja(e),c=Be(c),s=s(c),e.flags|=1,ke(t,e,s,i),e.child;case 14:return Km(t,e,e.type,e.pendingProps,i);case 15:return Xm(t,e,e.type,e.pendingProps,i);case 19:return ag(t,e,i);case 31:return Zv(t,e,i);case 22:return Zm(t,e,i,e.pendingProps);case 24:return Ja(e),s=Be(Ee),t===null?(c=Nc(),c===null&&(c=Wt,f=Rc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:s,cache:c},Vc(e),Ji(e,Ee,c)):((t.lanes&i)!==0&&(Ic(t,e),el(e,null,null,i),tl()),c=t.memoizedState,f=e.memoizedState,c.parent!==s?(c={parent:s,cache:s},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Ji(e,Ee,s)):(s=f.cache,Ji(e,Ee,s),s!==c.cache&&wc(e,[Ee],i,!0))),ke(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ri(t){t.flags|=4}function dh(t,e,i,s,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ig())t.flags|=8192;else throw ts=Io,Dc}else t.flags&=-16777217}function rg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ep(e))if(Ig())t.flags|=8192;else throw ts=Io,Dc}function Xo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?to():536870912,t.lanes|=e,Ks|=e)}function ll(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function $v(t,e,i){var s=e.pendingProps;switch(Ec(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(e),null;case 1:return ee(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Si(Ee),pn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(js(e)?Ri(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Sc())),ee(e),null;case 26:var c=e.type,f=e.memoizedState;return t===null?(Ri(e),f!==null?(ee(e),rg(e,f)):(ee(e),dh(e,c,null,s,i))):f?f!==t.memoizedState?(Ri(e),ee(e),rg(e,f)):(ee(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ri(e),ee(e),dh(e,c,t,s,i)),null;case 27:if(ds(e),i=Ot.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ri(e);else{if(!s){if(e.stateNode===null)throw Error(r(166));return ee(e),null}t=Pt.current,js(e)?Bd(e):(t=dp(c,s,i),e.stateNode=t,Ri(e))}return ee(e),null;case 5:if(ds(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ri(e);else{if(!s){if(e.stateNode===null)throw Error(r(166));return ee(e),null}if(f=Pt.current,js(e))Bd(e);else{var g=cu(Ot.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?g.createElement(c,{is:s.is}):g.createElement(c)}}f[ve]=e,f[Ie]=s;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=f;t:switch(qe(f,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ri(e)}}return ee(e),dh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ri(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(r(166));if(t=Ot.current,js(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,c=Le,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||np(t.nodeValue,i)),t||Zi(e,!0)}else t=cu(t).createTextNode(s),t[ve]=e,e.stateNode=t}return ee(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(s=js(e),i!==null){if(t===null){if(!s)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ve]=e}else Xa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ee(e),t=!1}else i=Sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(fn(e),e):(fn(e),null);if((e.flags&128)!==0)throw Error(r(558))}return ee(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=js(e),s!==null&&s.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ve]=e}else Xa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ee(e),c=!1}else c=Sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(fn(e),e):(fn(e),null)}return fn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=s!==null,t=t!==null&&t.memoizedState!==null,i&&(s=e.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Xo(e,e.updateQueue),ee(e),null);case 4:return pn(),t===null&&jh(e.stateNode.containerInfo),ee(e),null;case 10:return Si(e.type),ee(e),null;case 19:if(Rt(fe),s=e.memoizedState,s===null)return ee(e),null;if(c=(e.flags&128)!==0,f=s.rendering,f===null)if(c)ll(s,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=zo(t),f!==null){for(e.flags|=128,ll(s,!1),t=f.updateQueue,e.updateQueue=t,Xo(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Md(i,t),i=i.sibling;return Tt(fe,fe.current&1|2),Mt&&Ei(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ye()>tu&&(e.flags|=128,c=!0,ll(s,!1),e.lanes=4194304)}else{if(!c)if(t=zo(f),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,Xo(e,t),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!Mt)return ee(e),null}else 2*Ye()-s.renderingStartTime>tu&&i!==536870912&&(e.flags|=128,c=!0,ll(s,!1),e.lanes=4194304);s.isBackwards?(f.sibling=e.child,e.child=f):(t=s.last,t!==null?t.sibling=f:e.child=f,s.last=f)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,i=fe.current,Tt(fe,c?i&1|2:i&1),Mt&&Ei(e,s.treeForkCount),t):(ee(e),null);case 22:case 23:return fn(e),zc(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(ee(e),e.subtreeFlags&6&&(e.flags|=8192)):ee(e),i=e.updateQueue,i!==null&&Xo(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&Rt($a),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Si(Ee),ee(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Wv(t,e){switch(Ec(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Si(Ee),pn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ds(e),null;case 31:if(e.memoizedState!==null){if(fn(e),e.alternate===null)throw Error(r(340));Xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(fn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));Xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(fe),null;case 4:return pn(),null;case 10:return Si(e.type),null;case 22:case 23:return fn(e),zc(),t!==null&&Rt($a),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Si(Ee),null;case 25:return null;default:return null}}function lg(t,e){switch(Ec(e),e.tag){case 3:Si(Ee),pn();break;case 26:case 27:case 5:ds(e);break;case 4:pn();break;case 31:e.memoizedState!==null&&fn(e);break;case 13:fn(e);break;case 19:Rt(fe);break;case 10:Si(e.type);break;case 22:case 23:fn(e),zc(),t!==null&&Rt($a);break;case 24:Si(Ee)}}function ol(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var c=s.next;i=c;do{if((i.tag&t)===t){s=void 0;var f=i.create,g=i.inst;s=f(),g.destroy=s}i=i.next}while(i!==c)}}catch(v){Kt(e,e.return,v)}}function ia(t,e,i){try{var s=e.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&t)===t){var g=s.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=e;var R=i,L=v;try{L()}catch(P){Kt(c,R,P)}}}s=s.next}while(s!==f)}}catch(P){Kt(e,e.return,P)}}function og(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{$d(e,i)}catch(s){Kt(t,t.return,s)}}}function ug(t,e,i){i.props=is(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Kt(t,e,s)}}function ul(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(c){Kt(t,e,c)}}function oi(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(c){Kt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Kt(t,e,c)}else i.current=null}function cg(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(c){Kt(t,t.return,c)}}function mh(t,e,i){try{var s=t.stateNode;E_(s,t.type,i,e),s[Ie]=e}catch(c){Kt(t,t.return,c)}}function hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ca(t.type)||t.tag===4}function gh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ph(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Mn));else if(s!==4&&(s===27&&ca(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(ph(t,e,i),t=t.sibling;t!==null;)ph(t,e,i),t=t.sibling}function Zo(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&ca(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Zo(t,e,i),t=t.sibling;t!==null;)Zo(t,e,i),t=t.sibling}function fg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);qe(e,s,i),e[ve]=t,e[Ie]=i}catch(f){Kt(t,t.return,f)}}var Ci=!1,Ae=!1,yh=!1,dg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function t_(t,e){if(t=t.containerInfo,Lh=yu,t=xd(t),cc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var g=0,v=-1,R=-1,L=0,P=0,F=t,B=null;e:for(;;){for(var H;F!==i||c!==0&&F.nodeType!==3||(v=g+c),F!==f||s!==0&&F.nodeType!==3||(R=g+s),F.nodeType===3&&(g+=F.nodeValue.length),(H=F.firstChild)!==null;)B=F,F=H;for(;;){if(F===t)break e;if(B===i&&++L===c&&(v=g),B===f&&++P===s&&(R=g),(H=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=H}i=v===-1||R===-1?null:{start:v,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Bh={focusedElem:t,selectionRange:i},yu=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){switch(e=Me,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)c=t[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,s=i.stateNode;try{var ot=is(i.type,c);t=s.getSnapshotBeforeUpdate(ot,f),s.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Kt(i,i.return,yt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Hh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function mg(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Di(t,i),s&4&&ol(5,i);break;case 1:if(Di(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){Kt(i,i.return,g)}else{var c=is(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(i,i.return,g)}}s&64&&og(i),s&512&&ul(i,i.return);break;case 3:if(Di(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{$d(t,e)}catch(g){Kt(i,i.return,g)}}break;case 27:e===null&&s&4&&fg(i);case 26:case 5:Di(t,i),e===null&&s&4&&cg(i),s&512&&ul(i,i.return);break;case 12:Di(t,i);break;case 31:Di(t,i),s&4&&yg(t,i);break;case 13:Di(t,i),s&4&&vg(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=u_.bind(null,i),N_(t,i))));break;case 22:if(s=i.memoizedState!==null||Ci,!s){e=e!==null&&e.memoizedState!==null||Ae,c=Ci;var f=Ae;Ci=s,(Ae=e)&&!f?Vi(t,i,(i.subtreeFlags&8772)!==0):Di(t,i),Ci=c,Ae=f}break;case 30:break;default:Di(t,i)}}function gg(t){var e=t.alternate;e!==null&&(t.alternate=null,gg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&vs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,tn=!1;function Ni(t,e,i){for(i=i.child;i!==null;)pg(t,e,i),i=i.sibling}function pg(t,e,i){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Dn,i)}catch{}switch(i.tag){case 26:Ae||oi(i,e),Ni(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ae||oi(i,e);var s=ie,c=tn;ca(i.type)&&(ie=i.stateNode,tn=!1),Ni(t,e,i),vl(i.stateNode),ie=s,tn=c;break;case 5:Ae||oi(i,e);case 6:if(s=ie,c=tn,ie=null,Ni(t,e,i),ie=s,tn=c,ie!==null)if(tn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(i.stateNode)}catch(f){Kt(i,e,f)}else try{ie.removeChild(i.stateNode)}catch(f){Kt(i,e,f)}break;case 18:ie!==null&&(tn?(t=ie,op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),nr(t)):op(ie,i.stateNode));break;case 4:s=ie,c=tn,ie=i.stateNode.containerInfo,tn=!0,Ni(t,e,i),ie=s,tn=c;break;case 0:case 11:case 14:case 15:ia(2,i,e),Ae||ia(4,i,e),Ni(t,e,i);break;case 1:Ae||(oi(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&ug(i,e,s)),Ni(t,e,i);break;case 21:Ni(t,e,i);break;case 22:Ae=(s=Ae)||i.memoizedState!==null,Ni(t,e,i),Ae=s;break;default:Ni(t,e,i)}}function yg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nr(t)}catch(i){Kt(e,e.return,i)}}}function vg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nr(t)}catch(i){Kt(e,e.return,i)}}function e_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new dg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new dg),e;default:throw Error(r(435,t.tag))}}function Jo(t,e){var i=e_(t);e.forEach(function(s){if(!i.has(s)){i.add(s);var c=c_.bind(null,t,s);s.then(c,c)}})}function en(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s],f=t,g=e,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(ca(v.type)){ie=v.stateNode,tn=!1;break t}break;case 5:ie=v.stateNode,tn=!1;break t;case 3:case 4:ie=v.stateNode.containerInfo,tn=!0;break t}v=v.return}if(ie===null)throw Error(r(160));pg(f,g,c),ie=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)_g(e,t),e=e.sibling}var kn=null;function _g(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(e,t),nn(t),s&4&&(ia(3,t,t.return),ol(3,t),ia(5,t,t.return));break;case 1:en(e,t),nn(t),s&512&&(Ae||i===null||oi(i,i.return)),s&64&&Ci&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var c=kn;if(en(e,t),nn(t),s&512&&(Ae||i===null||oi(i,i.return)),s&4){var f=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Kn]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,s,i),f[ve]=t,_e(f),s=f;break t;case"link":var g=_p("link","href",c).get(s+(i.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(v,1);break e}}f=c.createElement(s),qe(f,s,i),c.head.appendChild(f);break;case"meta":if(g=_p("meta","content",c).get(s+(i.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(v,1);break e}}f=c.createElement(s),qe(f,s,i),c.head.appendChild(f);break;default:throw Error(r(468,s))}f[ve]=t,_e(f),s=f}t.stateNode=s}else bp(c,t.type,t.stateNode);else t.stateNode=vp(c,s,t.memoizedProps);else f!==s?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,s===null?bp(c,t.type,t.stateNode):vp(c,s,t.memoizedProps)):s===null&&t.stateNode!==null&&mh(t,t.memoizedProps,i.memoizedProps)}break;case 27:en(e,t),nn(t),s&512&&(Ae||i===null||oi(i,i.return)),i!==null&&s&4&&mh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(en(e,t),nn(t),s&512&&(Ae||i===null||oi(i,i.return)),t.flags&32){c=t.stateNode;try{We(c,"")}catch(ot){Kt(t,t.return,ot)}}s&4&&t.stateNode!=null&&(c=t.memoizedProps,mh(t,c,i!==null?i.memoizedProps:c)),s&1024&&(yh=!0);break;case 6:if(en(e,t),nn(t),s&4){if(t.stateNode===null)throw Error(r(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(ot){Kt(t,t.return,ot)}}break;case 3:if(du=null,c=kn,kn=hu(e.containerInfo),en(e,t),kn=c,nn(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{nr(e.containerInfo)}catch(ot){Kt(t,t.return,ot)}yh&&(yh=!1,bg(t));break;case 4:s=kn,kn=hu(t.stateNode.containerInfo),en(e,t),nn(t),kn=s;break;case 12:en(e,t),nn(t);break;case 31:en(e,t),nn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Jo(t,s)));break;case 13:en(e,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Wo=Ye()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Jo(t,s)));break;case 22:c=t.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,L=Ci,P=Ae;if(Ci=L||c,Ae=P||R,en(e,t),Ae=P,Ci=L,nn(t),s&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||R||Ci||Ae||as(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){R=i=e;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=R.stateNode;var F=R.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;v.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Kt(R,R.return,ot)}}}else if(e.tag===6){if(i===null){R=e;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(ot){Kt(R,R.return,ot)}}}else if(e.tag===18){if(i===null){R=e;try{var H=R.stateNode;c?up(H,!0):up(R.stateNode,!1)}catch(ot){Kt(R,R.return,ot)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Jo(t,i))));break;case 19:en(e,t),nn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Jo(t,s)));break;case 30:break;case 21:break;default:en(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(hg(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var c=i.stateNode,f=gh(t);Zo(t,f,c);break;case 5:var g=i.stateNode;i.flags&32&&(We(g,""),i.flags&=-33);var v=gh(t);Zo(t,v,g);break;case 3:case 4:var R=i.stateNode.containerInfo,L=gh(t);ph(t,L,R);break;default:throw Error(r(161))}}catch(P){Kt(t,t.return,P)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;bg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Di(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)mg(t,e.alternate,e),e=e.sibling}function as(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ia(4,e,e.return),as(e);break;case 1:oi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&ug(e,e.return,i),as(e);break;case 27:vl(e.stateNode);case 26:case 5:oi(e,e.return),as(e);break;case 22:e.memoizedState===null&&as(e);break;case 30:as(e);break;default:as(e)}t=t.sibling}}function Vi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,c=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Vi(c,f,i),ol(4,f);break;case 1:if(Vi(c,f,i),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Kt(s,s.return,L)}if(s=f,c=s.updateQueue,c!==null){var v=s.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Jd(R[c],v)}catch(L){Kt(s,s.return,L)}}i&&g&64&&og(f),ul(f,f.return);break;case 27:fg(f);case 26:case 5:Vi(c,f,i),i&&s===null&&g&4&&cg(f),ul(f,f.return);break;case 12:Vi(c,f,i);break;case 31:Vi(c,f,i),i&&g&4&&yg(c,f);break;case 13:Vi(c,f,i),i&&g&4&&vg(c,f);break;case 22:f.memoizedState===null&&Vi(c,f,i),ul(f,f.return);break;case 30:break;default:Vi(c,f,i)}e=e.sibling}}function vh(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Xr(i))}function _h(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Xr(t))}function qn(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eg(t,e,i,s),e=e.sibling}function Eg(t,e,i,s){var c=e.flags;switch(e.tag){case 0:case 11:case 15:qn(t,e,i,s),c&2048&&ol(9,e);break;case 1:qn(t,e,i,s);break;case 3:qn(t,e,i,s),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Xr(t)));break;case 12:if(c&2048){qn(t,e,i,s),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(e,e.return,R)}}else qn(t,e,i,s);break;case 31:qn(t,e,i,s);break;case 13:qn(t,e,i,s);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?qn(t,e,i,s):cl(t,e):f._visibility&2?qn(t,e,i,s):(f._visibility|=2,Qs(t,e,i,s,(e.subtreeFlags&10256)!==0||!1)),c&2048&&vh(g,e);break;case 24:qn(t,e,i,s),c&2048&&_h(e.alternate,e);break;default:qn(t,e,i,s)}}function Qs(t,e,i,s,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,g=e,v=i,R=s,L=g.flags;switch(g.tag){case 0:case 11:case 15:Qs(f,g,v,R,c),ol(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?Qs(f,g,v,R,c):cl(f,g):(P._visibility|=2,Qs(f,g,v,R,c)),c&&L&2048&&vh(g.alternate,g);break;case 24:Qs(f,g,v,R,c),c&&L&2048&&_h(g.alternate,g);break;default:Qs(f,g,v,R,c)}e=e.sibling}}function cl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,c=s.flags;switch(s.tag){case 22:cl(i,s),c&2048&&vh(s.alternate,s);break;case 24:cl(i,s),c&2048&&_h(s.alternate,s);break;default:cl(i,s)}e=e.sibling}}var hl=8192;function Fs(t,e,i){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Tg(t,e,i),t=t.sibling}function Tg(t,e,i){switch(t.tag){case 26:Fs(t,e,i),t.flags&hl&&t.memoizedState!==null&&q_(i,kn,t.memoizedState,t.memoizedProps);break;case 5:Fs(t,e,i);break;case 3:case 4:var s=kn;kn=hu(t.stateNode.containerInfo),Fs(t,e,i),kn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=hl,hl=16777216,Fs(t,e,i),hl=s):Fs(t,e,i));break;default:Fs(t,e,i)}}function Sg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function fl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];Me=s,xg(s,t)}Sg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ag(t),t=t.sibling}function Ag(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&ia(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,$o(t)):fl(t);break;default:fl(t)}}function $o(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];Me=s,xg(s,t)}Sg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ia(8,e,e.return),$o(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,$o(e));break;default:$o(e)}t=t.sibling}}function xg(t,e){for(;Me!==null;){var i=Me;switch(i.tag){case 0:case 11:case 15:ia(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Xr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Me=s;else t:for(i=t;Me!==null;){s=Me;var c=s.sibling,f=s.return;if(gg(s),s===i){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}var n_={getCacheForType:function(t){var e=Be(Ee),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Be(Ee).controller.signal}},i_=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Wt=null,Nt=null,Vt=0,Yt=0,dn=null,aa=!1,Ys=!1,bh=!1,Ii=0,le=0,sa=0,ss=0,Eh=0,mn=0,Ks=0,dl=null,an=null,Th=!1,Wo=0,wg=0,tu=1/0,eu=null,ra=null,Ne=0,la=null,Xs=null,Oi=0,Sh=0,Ah=null,Rg=null,ml=0,xh=null;function gn(){return(Qt&2)!==0&&Vt!==0?Vt&-Vt:k.T!==null?Vh():eo()}function Cg(){if(mn===0)if((Vt&536870912)===0||Mt){var t=Ia;Ia<<=1,(Ia&3932160)===0&&(Ia=262144),mn=t}else mn=536870912;return t=hn.current,t!==null&&(t.flags|=32),mn}function sn(t,e,i){(t===Wt&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Zs(t,0),oa(t,Vt,mn,!1)),Oa(t,i),((Qt&2)===0||t!==Wt)&&(t===Wt&&((Qt&2)===0&&(ss|=i),le===4&&oa(t,Vt,mn,!1)),ui(t))}function Ng(t,e,i){if((Qt&6)!==0)throw Error(r(327));var s=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Vn(t,e),c=s?r_(t,e):Rh(t,e,!0),f=s;do{if(c===0){Ys&&!s&&oa(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!a_(i)){c=Rh(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var v=t;c=dl;var R=v.current.memoizedState.isDehydrated;if(R&&(Zs(v,g).flags|=256),g=Rh(v,g,!1),g!==2){if(bh&&!R){v.errorRecoveryDisabledLanes|=f,ss|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Zs(t,0),oa(t,e,0,!0);break}t:{switch(s=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:oa(s,e,mn,!aa);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=Wo+300-Ye(),10<c)){if(oa(s,e,mn,!aa),Qn(s,0,!0)!==0)break t;Oi=e,s.timeoutHandle=rp(Dg.bind(null,s,i,an,eu,Th,e,mn,ss,Ks,aa,f,"Throttled",-0,0),c);break t}Dg(s,i,an,eu,Th,e,mn,ss,Ks,aa,f,null,-0,0)}}break}while(!0);ui(t)}function Dg(t,e,i,s,c,f,g,v,R,L,P,F,B,H){if(t.timeoutHandle=-1,F=e.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Tg(e,f,F);var ot=(f&62914560)===f?Wo-Ye():(f&4194048)===f?wg-Ye():0;if(ot=H_(F,ot),ot!==null){Oi=f,t.cancelPendingCommit=ot(Lg.bind(null,t,e,f,i,s,c,g,v,R,P,F,null,B,H)),oa(t,f,g,!L);return}}Lg(t,e,f,i,s,c,g,v,R)}function a_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var c=i[s],f=c.getSnapshot;c=c.value;try{if(!un(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oa(t,e,i,s){e&=~Eh,e&=~ss,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var c=e;0<c;){var f=31-ce(c),g=1<<f;s[f]=-1,c&=~g}i!==0&&Ma(t,i,e)}function nu(){return(Qt&6)===0?(gl(0),!1):!0}function wh(){if(Nt!==null){if(Yt===0)var t=Nt.return;else t=Nt,Ti=Za=null,Hc(t),ks=null,Jr=0,t=Nt;for(;t!==null;)lg(t.alternate,t),t=t.return;Nt=null}}function Zs(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,A_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Oi=0,wh(),Wt=t,Nt=i=bi(t.current,null),Vt=e,Yt=0,dn=null,aa=!1,Ys=Vn(t,e),bh=!1,Ks=mn=Eh=ss=sa=le=0,an=dl=null,Th=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var c=31-ce(s),f=1<<c;e|=t[c],s&=~f}return Ii=e,So(),i}function Vg(t,e){xt=null,k.H=sl,e===Bs||e===Vo?(e=Yd(),Yt=3):e===Dc?(e=Yd(),Yt=4):Yt=e===ah?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,dn=e,Nt===null&&(le=1,Qo(t,Sn(e,t.current)))}function Ig(){var t=hn.current;return t===null?!0:(Vt&4194048)===Vt?Rn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?t===Rn:!1}function Og(){var t=k.H;return k.H=sl,t===null?sl:t}function Mg(){var t=k.A;return k.A=n_,t}function iu(){le=4,aa||(Vt&4194048)!==Vt&&hn.current!==null||(Ys=!0),(sa&134217727)===0&&(ss&134217727)===0||Wt===null||oa(Wt,Vt,mn,!1)}function Rh(t,e,i){var s=Qt;Qt|=2;var c=Og(),f=Mg();(Wt!==t||Vt!==e)&&(eu=null,Zs(t,e)),e=!1;var g=le;t:do try{if(Yt!==0&&Nt!==null){var v=Nt,R=dn;switch(Yt){case 8:wh(),g=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(e=!0);var L=Yt;if(Yt=0,dn=null,Js(t,v,R,L),i&&Ys){g=0;break t}break;default:L=Yt,Yt=0,dn=null,Js(t,v,R,L)}}s_(),g=le;break}catch(P){Vg(t,P)}while(!0);return e&&t.shellSuspendCounter++,Ti=Za=null,Qt=s,k.H=c,k.A=f,Nt===null&&(Wt=null,Vt=0,So()),g}function s_(){for(;Nt!==null;)jg(Nt)}function r_(t,e){var i=Qt;Qt|=2;var s=Og(),c=Mg();Wt!==t||Vt!==e?(eu=null,tu=Ye()+500,Zs(t,e)):Ys=Vn(t,e);t:do try{if(Yt!==0&&Nt!==null){e=Nt;var f=dn;e:switch(Yt){case 1:Yt=0,dn=null,Js(t,e,f,1);break;case 2:case 9:if(Qd(f)){Yt=0,dn=null,zg(e);break}e=function(){Yt!==2&&Yt!==9||Wt!==t||(Yt=7),ui(t)},f.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Qd(f)?(Yt=0,dn=null,zg(e)):(Yt=0,dn=null,Js(t,e,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var v=Nt;if(g?Ep(g):v.stateNode.complete){Yt=0,dn=null;var R=v.sibling;if(R!==null)Nt=R;else{var L=v.return;L!==null?(Nt=L,au(L)):Nt=null}break e}}Yt=0,dn=null,Js(t,e,f,5);break;case 6:Yt=0,dn=null,Js(t,e,f,6);break;case 8:wh(),le=6;break t;default:throw Error(r(462))}}l_();break}catch(P){Vg(t,P)}while(!0);return Ti=Za=null,k.H=s,k.A=c,Qt=i,Nt!==null?0:(Wt=null,Vt=0,So(),le)}function l_(){for(;Nt!==null&&!ic();)jg(Nt)}function jg(t){var e=sg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?au(t):Nt=e}function zg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Wm(i,e,e.pendingProps,e.type,void 0,Vt);break;case 11:e=Wm(i,e,e.pendingProps,e.type.render,e.ref,Vt);break;case 5:Hc(e);default:lg(i,e),e=Nt=Md(e,Ii),e=sg(i,e,Ii)}t.memoizedProps=t.pendingProps,e===null?au(t):Nt=e}function Js(t,e,i,s){Ti=Za=null,Hc(e),ks=null,Jr=0;var c=e.return;try{if(Xv(t,c,e,i,Vt)){le=1,Qo(t,Sn(i,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;le=1,Qo(t,Sn(i,t.current)),Nt=null;return}e.flags&32768?(Mt||s===1?t=!0:Ys||(Vt&536870912)!==0?t=!1:(aa=t=!0,(s===2||s===9||s===3||s===6)&&(s=hn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ug(e,t)):au(e)}function au(t){var e=t;do{if((e.flags&32768)!==0){Ug(e,aa);return}t=e.return;var i=$v(e.alternate,e,Ii);if(i!==null){Nt=i;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);le===0&&(le=5)}function Ug(t,e){do{var i=Wv(t.alternate,t);if(i!==null){i.flags&=32767,Nt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=i}while(t!==null);le=6,Nt=null}function Lg(t,e,i,s,c,f,g,v,R){t.cancelPendingCommit=null;do su();while(Ne!==0);if((Qt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(f=e.lanes|e.childLanes,f|=gc,rc(t,i,f,g,v,R),t===Wt&&(Nt=Wt=null,Vt=0),Xs=e,la=t,Oi=i,Sh=f,Ah=c,Rg=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h_(Li,function(){return Pg(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,c=K.p,K.p=2,g=Qt,Qt|=4;try{t_(t,e,i)}finally{Qt=g,K.p=c,k.T=s}}Ne=1,Bg(),kg(),qg()}}function Bg(){if(Ne===1){Ne=0;var t=la,e=Xs,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var s=K.p;K.p=2;var c=Qt;Qt|=4;try{_g(e,t);var f=Bh,g=xd(t.containerInfo),v=f.focusedElem,R=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&Ad(v.ownerDocument.documentElement,v)){if(R!==null&&cc(v)){var L=R.start,P=R.end;if(P===void 0&&(P=L),"selectionStart"in v)v.selectionStart=L,v.selectionEnd=Math.min(P,v.value.length);else{var F=v.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=v.textContent.length,yt=Math.min(R.start,ot),$t=R.end===void 0?yt:Math.min(R.end,ot);!H.extend&&yt>$t&&(g=$t,$t=yt,yt=g);var M=Sd(v,yt),V=Sd(v,$t);if(M&&V&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var U=F.createRange();U.setStart(M.node,M.offset),H.removeAllRanges(),yt>$t?(H.addRange(U),H.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),H.addRange(U))}}}}for(F=[],H=v;H=H.parentNode;)H.nodeType===1&&F.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<F.length;v++){var G=F[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}yu=!!Lh,Bh=Lh=null}finally{Qt=c,K.p=s,k.T=i}}t.current=e,Ne=2}}function kg(){if(Ne===2){Ne=0;var t=la,e=Xs,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var s=K.p;K.p=2;var c=Qt;Qt|=4;try{mg(t,e.alternate,e)}finally{Qt=c,K.p=s,k.T=i}}Ne=3}}function qg(){if(Ne===4||Ne===3){Ne=0,Kl();var t=la,e=Xs,i=Oi,s=Rg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ne=5:(Ne=0,Xs=la=null,Hg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ra=null),pi(i),e=e.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Dn,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=k.T,c=K.p,K.p=2,k.T=null;try{for(var f=t.onRecoverableError,g=0;g<s.length;g++){var v=s[g];f(v.value,{componentStack:v.stack})}}finally{k.T=e,K.p=c}}(Oi&3)!==0&&su(),ui(t),c=t.pendingLanes,(i&261930)!==0&&(c&42)!==0?t===xh?ml++:(ml=0,xh=t):ml=0,gl(0)}}function Hg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Xr(e)))}function su(){return Bg(),kg(),qg(),Pg()}function Pg(){if(Ne!==5)return!1;var t=la,e=Sh;Sh=0;var i=pi(Oi),s=k.T,c=K.p;try{K.p=32>i?32:i,k.T=null,i=Ah,Ah=null;var f=la,g=Oi;if(Ne=0,Xs=la=null,Oi=0,(Qt&6)!==0)throw Error(r(331));var v=Qt;if(Qt|=4,Ag(f.current),Eg(f,f.current,g,i),Qt=v,gl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Dn,f)}catch{}return!0}finally{K.p=c,k.T=s,Hg(t,e)}}function Gg(t,e,i){e=Sn(i,e),e=ih(t.stateNode,e,2),t=ta(t,e,2),t!==null&&(Oa(t,2),ui(t))}function Kt(t,e,i){if(t.tag===3)Gg(t,t,i);else for(;e!==null;){if(e.tag===3){Gg(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ra===null||!ra.has(s))){t=Sn(i,t),i=Qm(2),s=ta(e,i,2),s!==null&&(Fm(i,s,e,t),Oa(s,2),ui(s));break}}e=e.return}}function Ch(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new i_;var c=new Set;s.set(e,c)}else c=s.get(e),c===void 0&&(c=new Set,s.set(e,c));c.has(i)||(bh=!0,c.add(i),t=o_.bind(null,t,e,i),e.then(t,t))}function o_(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Wt===t&&(Vt&i)===i&&(le===4||le===3&&(Vt&62914560)===Vt&&300>Ye()-Wo?(Qt&2)===0&&Zs(t,0):Eh|=i,Ks===Vt&&(Ks=0)),ui(t)}function Qg(t,e){e===0&&(e=to()),t=Ya(t,e),t!==null&&(Oa(t,e),ui(t))}function u_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Qg(t,i)}function c_(t,e){var i=0;switch(t.tag){case 31:case 13:var s=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(e),Qg(t,i)}function h_(t,e){return Ce(t,e)}var ru=null,$s=null,Nh=!1,lu=!1,Dh=!1,ua=0;function ui(t){t!==$s&&t.next===null&&($s===null?ru=$s=t:$s=$s.next=t),lu=!0,Nh||(Nh=!0,d_())}function gl(t,e){if(!Dh&&lu){Dh=!0;do for(var i=!1,s=ru;s!==null;){if(t!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var g=s.suspendedLanes,v=s.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Xg(s,f))}else f=Vt,f=Qn(s,s===Wt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Vn(s,f)||(i=!0,Xg(s,f));s=s.next}while(i);Dh=!1}}function f_(){Fg()}function Fg(){lu=Nh=!1;var t=0;ua!==0&&S_()&&(t=ua);for(var e=Ye(),i=null,s=ru;s!==null;){var c=s.next,f=Yg(s,e);f===0?(s.next=null,i===null?ru=c:i.next=c,c===null&&($s=i)):(i=s,(t!==0||(f&3)!==0)&&(lu=!0)),s=c}Ne!==0&&Ne!==5||gl(t),ua!==0&&(ua=0)}function Yg(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),v=1<<g,R=c[g];R===-1?((v&i)===0||(v&s)!==0)&&(c[g]=sc(v,e)):R<=e&&(t.expiredLanes|=v),f&=~v}if(e=Wt,i=Vt,i=Qn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Ui(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Vn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&Ui(s),pi(i)){case 2:case 8:i=xr;break;case 32:i=Li;break;case 268435456:i=Xl;break;default:i=Li}return s=Kg.bind(null,t),i=Ce(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&Ui(s),t.callbackPriority=2,t.callbackNode=null,2}function Kg(t,e){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(su()&&t.callbackNode!==i)return null;var s=Vt;return s=Qn(t,t===Wt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Ng(t,s,e),Yg(t,Ye()),t.callbackNode!=null&&t.callbackNode===i?Kg.bind(null,t):null)}function Xg(t,e){if(su())return null;Ng(t,e,!0)}function d_(){x_(function(){(Qt&6)!==0?Ce(Ar,f_):Fg()})}function Vh(){if(ua===0){var t=Us;t===0&&(t=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),ua=t}return ua}function Zg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ts(""+t)}function Jg(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function m_(t,e,i,s,c){if(e==="submit"&&i&&i.stateNode===c){var f=Zg((c[Ie]||null).action),g=s.submitter;g&&(e=(e=g[Ie]||null)?Zg(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var v=new ni("action","action",null,s,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ua!==0){var R=g?Jg(c,g):new FormData(c);Jc(i,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(v.preventDefault(),R=g?Jg(c,g):new FormData(c),Jc(i,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Ih=0;Ih<mc.length;Ih++){var Oh=mc[Ih],g_=Oh.toLowerCase(),p_=Oh[0].toUpperCase()+Oh.slice(1);Bn(g_,"on"+p_)}Bn(Cd,"onAnimationEnd"),Bn(Nd,"onAnimationIteration"),Bn(Dd,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Iv,"onTransitionRun"),Bn(Ov,"onTransitionStart"),Bn(Mv,"onTransitionCancel"),Bn(Vd,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function $g(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],c=s.event;s=s.listeners;t:{var f=void 0;if(e)for(var g=s.length-1;0<=g;g--){var v=s[g],R=v.instance,L=v.currentTarget;if(v=v.listener,R!==f&&c.isPropagationStopped())break t;f=v,c.currentTarget=L;try{f(c)}catch(P){To(P)}c.currentTarget=null,f=R}else for(g=0;g<s.length;g++){if(v=s[g],R=v.instance,L=v.currentTarget,v=v.listener,R!==f&&c.isPropagationStopped())break t;f=v,c.currentTarget=L;try{f(c)}catch(P){To(P)}c.currentTarget=null,f=R}}}}function Dt(t,e){var i=e[ys];i===void 0&&(i=e[ys]=new Set);var s=t+"__bubble";i.has(s)||(Wg(e,t,2,!1),i.add(s))}function Mh(t,e,i){var s=0;e&&(s|=4),Wg(i,t,s,e)}var ou="_reactListening"+Math.random().toString(36).slice(2);function jh(t){if(!t[ou]){t[ou]=!0,Cr.forEach(function(i){i!=="selectionchange"&&(y_.has(i)||Mh(i,!1,t),Mh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ou]||(e[ou]=!0,Mh("selectionchange",!1,e))}}function Wg(t,e,i,s){switch(Cp(e)){case 2:var c=Q_;break;case 8:c=F_;break;default:c=Zh}i=c.bind(null,e,i,t),c=void 0,!Ba||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),s?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function zh(t,e,i,s,c){var f=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var v=s.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=s.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=Xn(v),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){s=f=g;continue t}v=v.parentNode}}s=s.return}Gi(function(){var L=f,P=_n(i),F=[];t:{var B=Id.get(t);if(B!==void 0){var H=ni,ot=t;switch(t){case"keypress":if(qa(i)===0)break t;case"keydown":case"keyup":H=_o;break;case"focusin":ot="focus",H=Pa;break;case"focusout":ot="blur",H=Pa;break;case"beforeblur":case"afterblur":H=Pa;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Cd:case Nd:case Dd:H=ho;break;case Vd:H=b;break;case"scroll":case"scrollend":H=kr;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=_i;break;case"toggle":case"beforetoggle":H=At}var yt=(e&4)!==0,$t=!yt&&(t==="scroll"||t==="scrollend"),M=yt?B!==null?B+"Capture":null:B;yt=[];for(var V=L,U;V!==null;){var G=V;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||M===null||(G=jn(V,M),G!=null&&yt.push(yl(V,G,U))),$t)break;V=V.return}0<yt.length&&(B=new H(B,ot,null,i,P),F.push({event:B,listeners:yt}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&i!==Ur&&(ot=i.relatedTarget||i.fromElement)&&(Xn(ot)||ot[Yn]))break t;if((H||B)&&(B=P.window===P?P:(B=P.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=i.relatedTarget||i.toElement,H=L,ot=ot?Xn(ot):null,ot!==null&&($t=h(ot),yt=ot.tag,ot!==$t||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(H=null,ot=L),H!==ot)){if(yt=qr,G="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=_i,G="onPointerLeave",M="onPointerEnter",V="pointer"),$t=H==null?B:ln(H),U=ot==null?B:ln(ot),B=new yt(G,V+"leave",H,i,P),B.target=$t,B.relatedTarget=U,G=null,Xn(P)===L&&(yt=new yt(M,V+"enter",ot,i,P),yt.target=U,yt.relatedTarget=$t,G=yt),$t=G,H&&ot)e:{for(yt=v_,M=H,V=ot,U=0,G=M;G;G=yt(G))U++;G=0;for(var gt=V;gt;gt=yt(gt))G++;for(;0<U-G;)M=yt(M),U--;for(;0<G-U;)V=yt(V),G--;for(;U--;){if(M===V||V!==null&&M===V.alternate){yt=M;break e}M=yt(M),V=yt(V)}yt=null}else yt=null;H!==null&&tp(F,B,H,yt,!1),ot!==null&&$t!==null&&tp(F,$t,ot,yt,!0)}}t:{if(B=L?ln(L):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qt=yd;else if(gd(B))if(vd)qt=Nv;else{qt=Rv;var ht=wv}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&Es(L.elementType)&&(qt=yd):qt=Cv;if(qt&&(qt=qt(t,L))){pd(F,qt,i,P);break t}ht&&ht(t,B,L),t==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Mr(B,"number",B.value)}switch(ht=L?ln(L):window,t){case"focusin":(gd(ht)||ht.contentEditable==="true")&&(Ns=ht,hc=L,Fr=null);break;case"focusout":Fr=hc=Ns=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,wd(F,i,P);break;case"selectionchange":if(Vv)break;case"keydown":case"keyup":wd(F,i,P)}var wt;if(Gt)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Cs?Ga(t,i)&&(It="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(It="onCompositionStart");It&&(si&&i.locale!=="ko"&&(Cs||It!=="onCompositionStart"?It==="onCompositionEnd"&&Cs&&(wt=Br()):(ei=P,Lr="value"in ei?ei.value:ei.textContent,Cs=!0)),ht=uu(L,It),0<ht.length&&(It=new ai(It,t,null,i,P),F.push({event:It,listeners:ht}),wt?It.data=wt:(wt=Rs(i),wt!==null&&(It.data=wt)))),(wt=En?Tv(t,i):Sv(t,i))&&(It=uu(L,"onBeforeInput"),0<It.length&&(ht=new ai("onBeforeInput","beforeinput",null,i,P),F.push({event:ht,listeners:It}),ht.data=wt)),m_(F,t,L,i,P)}$g(F,e)})}function yl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function uu(t,e){for(var i=e+"Capture",s=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,i),c!=null&&s.unshift(yl(t,c,f)),c=jn(t,e),c!=null&&s.push(yl(t,c,f))),t.tag===3)return s;t=t.return}return[]}function v_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tp(t,e,i,s,c){for(var f=e._reactName,g=[];i!==null&&i!==s;){var v=i,R=v.alternate,L=v.stateNode;if(v=v.tag,R!==null&&R===s)break;v!==5&&v!==26&&v!==27||L===null||(R=L,c?(L=jn(i,f),L!=null&&g.unshift(yl(i,L,R))):c||(L=jn(i,f),L!=null&&g.push(yl(i,L,R)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var __=/\r\n?/g,b_=/\u0000|\uFFFD/g;function ep(t){return(typeof t=="string"?t:""+t).replace(__,`
`).replace(b_,"")}function np(t,e){return e=ep(e),ep(t)===e}function Jt(t,e,i,s,c,f){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||We(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&We(t,""+s);break;case"className":on(t,"class",s);break;case"tabIndex":on(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":on(t,i,s);break;case"style":zr(t,s,f);break;case"data":if(e!=="object"){on(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Ts(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&Jt(t,e,"name",c.name,c,null),Jt(t,e,"formEncType",c.formEncType,c,null),Jt(t,e,"formMethod",c.formMethod,c,null),Jt(t,e,"formTarget",c.formTarget,c,null)):(Jt(t,e,"encType",c.encType,c,null),Jt(t,e,"method",c.method,c,null),Jt(t,e,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Ts(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=Mn);break;case"onScroll":s!=null&&Dt("scroll",t);break;case"onScrollEnd":s!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=Ts(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),_s(t,"popover",s);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":_s(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=oo.get(i)||i,_s(t,i,s))}}function Uh(t,e,i,s,c,f){switch(i){case"style":zr(t,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof s=="string"?We(t,s):(typeof s=="number"||typeof s=="bigint")&&We(t,""+s);break;case"onScroll":s!=null&&Dt("scroll",t);break;case"onScrollEnd":s!=null&&Dt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[Ie]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,c);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):_s(t,i,s)}}}function qe(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var s=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Jt(t,e,f,g,i,null)}}c&&Jt(t,e,"srcSet",i.srcSet,i,null),s&&Jt(t,e,"src",i.src,i,null);return;case"input":Dt("invalid",t);var v=f=g=c=null,R=null,L=null;for(s in i)if(i.hasOwnProperty(s)){var P=i[s];if(P!=null)switch(s){case"name":c=P;break;case"type":g=P;break;case"checked":R=P;break;case"defaultChecked":L=P;break;case"value":f=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:Jt(t,e,s,P,i,null)}}so(t,f,v,R,L,g,c,!1);return;case"select":Dt("invalid",t),s=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(v=i[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":s=v;default:Jt(t,e,c,v,i,null)}e=f,i=g,t.multiple=!!s,e!=null?ki(t,!!s,e,!1):i!=null&&ki(t,!!s,i,!0);return;case"textarea":Dt("invalid",t),f=c=s=null;for(g in i)if(i.hasOwnProperty(g)&&(v=i[g],v!=null))switch(g){case"value":s=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Jt(t,e,g,v,i,null)}qi(t,s,c,f);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(s=i[R],s!=null))switch(R){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Jt(t,e,R,s,i,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(s=0;s<pl.length;s++)Dt(pl[s],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in i)if(i.hasOwnProperty(L)&&(s=i[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Jt(t,e,L,s,i,null)}return;default:if(Es(e)){for(P in i)i.hasOwnProperty(P)&&(s=i[P],s!==void 0&&Uh(t,e,P,s,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(s=i[v],s!=null&&Jt(t,e,v,s,i,null))}function E_(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,v=null,R=null,L=null,P=null;for(H in i){var F=i[H];if(i.hasOwnProperty(H)&&F!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=F;default:s.hasOwnProperty(H)||Jt(t,e,H,null,s,F)}}for(var B in s){var H=s[B];if(F=i[B],s.hasOwnProperty(B)&&(H!=null||F!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":L=H;break;case"defaultChecked":P=H;break;case"value":g=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,e));break;default:H!==F&&Jt(t,e,B,H,s,F)}}bs(t,g,v,R,L,P,f,c);return;case"select":H=g=v=B=null;for(f in i)if(R=i[f],i.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:s.hasOwnProperty(f)||Jt(t,e,f,null,s,R)}for(c in s)if(f=s[c],R=i[c],s.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==R&&Jt(t,e,c,f,s,R)}e=v,i=g,s=H,B!=null?ki(t,!!i,B,!1):!!s!=!!i&&(e!=null?ki(t,!!i,e,!0):ki(t,!!i,i?[]:"",!1));return;case"textarea":H=B=null;for(v in i)if(c=i[v],i.hasOwnProperty(v)&&c!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Jt(t,e,v,null,s,c)}for(g in s)if(c=s[g],f=i[g],s.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Jt(t,e,g,c,s,f)}ro(t,B,H);return;case"option":for(var ot in i)if(B=i[ot],i.hasOwnProperty(ot)&&B!=null&&!s.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Jt(t,e,ot,null,s,B)}for(R in s)if(B=s[R],H=i[R],s.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Jt(t,e,R,B,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in i)B=i[yt],i.hasOwnProperty(yt)&&B!=null&&!s.hasOwnProperty(yt)&&Jt(t,e,yt,null,s,B);for(L in s)if(B=s[L],H=i[L],s.hasOwnProperty(L)&&B!==H&&(B!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,e));break;default:Jt(t,e,L,B,s,H)}return;default:if(Es(e)){for(var $t in i)B=i[$t],i.hasOwnProperty($t)&&B!==void 0&&!s.hasOwnProperty($t)&&Uh(t,e,$t,void 0,s,B);for(P in s)B=s[P],H=i[P],!s.hasOwnProperty(P)||B===H||B===void 0&&H===void 0||Uh(t,e,P,B,s,H);return}}for(var M in i)B=i[M],i.hasOwnProperty(M)&&B!=null&&!s.hasOwnProperty(M)&&Jt(t,e,M,null,s,B);for(F in s)B=s[F],H=i[F],!s.hasOwnProperty(F)||B===H||B==null&&H==null||Jt(t,e,F,B,s,H)}function ip(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var c=i[s],f=c.transferSize,g=c.initiatorType,v=c.duration;if(f&&v&&ip(g)){for(g=0,v=c.responseEnd,s+=1;s<i.length;s++){var R=i[s],L=R.startTime;if(L>v)break;var P=R.transferSize,F=R.initiatorType;P&&ip(F)&&(R=R.responseEnd,g+=P*(R<v?1:(v-L)/(R-L)))}if(--s,e+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lh=null,Bh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function ap(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qh=null;function S_(){var t=window.event;return t&&t.type==="popstate"?t===qh?!1:(qh=t,!0):(qh=null,!1)}var rp=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(t){return lp.resolve(null).then(t).catch(w_)}:rp;function w_(t){setTimeout(function(){throw t})}function ca(t){return t==="head"}function op(t,e){var i=e,s=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(s===0){t.removeChild(c),nr(e);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")vl(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,vl(i);for(var f=i.firstChild;f;){var g=f.nextSibling,v=f.nodeName;f[Kn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&vl(t.ownerDocument.body);i=c}while(i);nr(e)}function up(t,e){var i=t;t=0;do{var s=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=s}while(i)}function Hh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Hh(i),vs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function R_(t,e,i,s){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Kn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function C_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cn(t.nextSibling),t===null))return null;return t}function cp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Cn(t.nextSibling),t===null))return null;return t}function Ph(t){return t.data==="$?"||t.data==="$~"}function Gh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function N_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Qh=null;function hp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Cn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function fp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function dp(t,e,i){switch(e=cu(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);vs(t)}var Nn=new Map,mp=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=K.d;K.d={f:D_,r:V_,D:I_,C:O_,L:M_,m:j_,X:U_,S:z_,M:L_};function D_(){var t=Mi.f(),e=nu();return t||e}function V_(t){var e=vn(t);e!==null&&e.tag===5&&e.type==="form"?Vm(e):Mi.r(t)}var Ws=typeof document>"u"?null:document;function gp(t,e,i){var s=Ws;if(s&&typeof e=="string"&&e){var c=$e(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),mp.has(c)||(mp.add(c),t={rel:t,crossOrigin:i,href:e},s.querySelector(c)===null&&(e=s.createElement("link"),qe(e,"link",t),_e(e),s.head.appendChild(e)))}}function I_(t){Mi.D(t),gp("dns-prefetch",t,null)}function O_(t,e){Mi.C(t,e),gp("preconnect",t,e)}function M_(t,e,i){Mi.L(t,e,i);var s=Ws;if(s&&t&&e){var c='link[rel="preload"][as="'+$e(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+$e(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+$e(i.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var f=c;switch(e){case"style":f=tr(t);break;case"script":f=er(t)}Nn.has(f)||(t=N({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Nn.set(f,t),s.querySelector(c)!==null||e==="style"&&s.querySelector(_l(f))||e==="script"&&s.querySelector(bl(f))||(e=s.createElement("link"),qe(e,"link",t),_e(e),s.head.appendChild(e)))}}function j_(t,e){Mi.m(t,e);var i=Ws;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+$e(s)+'"][href="'+$e(t)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=er(t)}if(!Nn.has(f)&&(t=N({rel:"modulepreload",href:t},e),Nn.set(f,t),i.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(bl(f)))return}s=i.createElement("link"),qe(s,"link",t),_e(s),i.head.appendChild(s)}}}function z_(t,e,i){Mi.S(t,e,i);var s=Ws;if(s&&t){var c=Zn(s).hoistableStyles,f=tr(t);e=e||"default";var g=c.get(f);if(!g){var v={loading:0,preload:null};if(g=s.querySelector(_l(f)))v.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Nn.get(f))&&Fh(t,i);var R=g=s.createElement("link");_e(R),qe(R,"link",t),R._p=new Promise(function(L,P){R.onload=L,R.onerror=P}),R.addEventListener("load",function(){v.loading|=1}),R.addEventListener("error",function(){v.loading|=2}),v.loading|=4,fu(g,e,s)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(f,g)}}}function U_(t,e){Mi.X(t,e);var i=Ws;if(i&&t){var s=Zn(i).hoistableScripts,c=er(t),f=s.get(c);f||(f=i.querySelector(bl(c)),f||(t=N({src:t,async:!0},e),(e=Nn.get(c))&&Yh(t,e),f=i.createElement("script"),_e(f),qe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function L_(t,e){Mi.M(t,e);var i=Ws;if(i&&t){var s=Zn(i).hoistableScripts,c=er(t),f=s.get(c);f||(f=i.querySelector(bl(c)),f||(t=N({src:t,async:!0,type:"module"},e),(e=Nn.get(c))&&Yh(t,e),f=i.createElement("script"),_e(f),qe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function pp(t,e,i,s){var c=(c=Ot.current)?hu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=tr(i.href),i=Zn(c).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=tr(i.href);var f=Zn(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(_l(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Nn.set(t,i),f||B_(c,t,i,g.state))),e&&s===null)throw Error(r(528,""));return g}if(e&&s!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=er(i),i=Zn(c).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function tr(t){return'href="'+$e(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function yp(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function B_(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),qe(e,"link",i),_e(e),t.head.appendChild(e))}function er(t){return'[src="'+$e(t)+'"]'}function bl(t){return"script[async]"+t}function vp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+$e(i.href)+'"]');if(s)return e.instance=s,_e(s),s;var c=N({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),_e(s),qe(s,"style",c),fu(s,i.precedence,t),e.instance=s;case"stylesheet":c=tr(i.href);var f=t.querySelector(_l(c));if(f)return e.state.loading|=4,e.instance=f,_e(f),f;s=yp(i),(c=Nn.get(c))&&Fh(s,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(v,R){g.onload=v,g.onerror=R}),qe(f,"link",s),e.state.loading|=4,fu(f,i.precedence,t),e.instance=f;case"script":return f=er(i.src),(c=t.querySelector(bl(f)))?(e.instance=c,_e(c),c):(s=i,(c=Nn.get(f))&&(s=N({},i),Yh(s,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),qe(c,"link",s),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,fu(s,i.precedence,t));return e.instance}function fu(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,g=0;g<s.length;g++){var v=s[g];if(v.dataset.precedence===e)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Fh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Yh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var du=null;function _p(t,e,i){if(du===null){var s=new Map,c=du=new Map;c.set(i,s)}else c=du,s=c.get(i),s||(s=new Map,c.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[Kn]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var v=s.get(g);v?v.push(f):s.set(g,[f])}}return s}function bp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function k_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ep(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function q_(t,e,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=tr(s.href),f=e.querySelector(_l(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,_e(f);return}f=e.ownerDocument||e,s=yp(s),(c=Nn.get(c))&&Fh(s,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(v,R){g.onload=v,g.onerror=R}),qe(f,"link",s),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=mu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Kh=0;function H_(t,e){return t.stylesheets&&t.count===0&&pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var s=setTimeout(function(){if(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&Kh===0&&(Kh=62500*T_());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Kh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gu=null;function pu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gu=new Map,e.forEach(P_,t),gu=null,mu.call(t))}function P_(t,e){if(!(e.state.loading&4)){var i=gu.get(t);if(i)var s=i.get(null);else{i=new Map,gu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),s=g)}s&&i.set(null,s)}c=e.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||s,f===s&&i.set(null,c),i.set(g,c),this.count++,s=mu.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var El={$$typeof:mt,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function G_(t,e,i,s,c,f,g,v,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Tp(t,e,i,s,c,f,g,v,R,L,P,F){return t=new G_(t,e,i,g,R,L,P,F,v),e=1,f===!0&&(e|=24),f=cn(3,null,null,e),t.current=f,f.stateNode=t,e=Rc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:s,isDehydrated:i,cache:e},Vc(f),t}function Sp(t){return t?(t=Is,t):Is}function Ap(t,e,i,s,c,f){c=Sp(c),s.context===null?s.context=c:s.pendingContext=c,s=Wi(e),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=ta(t,s,e),i!==null&&(sn(i,t,e),Wr(i,t,e))}function xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Xh(t,e){xp(t,e),(t=t.alternate)&&xp(t,e)}function wp(t){if(t.tag===13||t.tag===31){var e=Ya(t,67108864);e!==null&&sn(e,t,67108864),Xh(t,67108864)}}function Rp(t){if(t.tag===13||t.tag===31){var e=gn();e=ja(e);var i=Ya(t,e);i!==null&&sn(i,t,e),Xh(t,e)}}var yu=!0;function Q_(t,e,i,s){var c=k.T;k.T=null;var f=K.p;try{K.p=2,Zh(t,e,i,s)}finally{K.p=f,k.T=c}}function F_(t,e,i,s){var c=k.T;k.T=null;var f=K.p;try{K.p=8,Zh(t,e,i,s)}finally{K.p=f,k.T=c}}function Zh(t,e,i,s){if(yu){var c=Jh(s);if(c===null)zh(t,e,s,vu,i),Np(t,s);else if(K_(c,t,e,i,s))s.stopPropagation();else if(Np(t,s),e&4&&-1<Y_.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Gn(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var R=1<<31-ce(g);v.entanglements[1]|=R,g&=~R}ui(f),(Qt&6)===0&&(tu=Ye()+500,gl(0))}}break;case 31:case 13:v=Ya(f,2),v!==null&&sn(v,f,2),nu(),Xh(f,2)}if(f=Jh(s),f===null&&zh(t,e,s,vu,i),f===c)break;c=f}c!==null&&s.stopPropagation()}else zh(t,e,s,null,i)}}function Jh(t){return t=_n(t),$h(t)}var vu=null;function $h(t){if(vu=null,t=Xn(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===31){if(t=y(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return vu=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Va()){case Ar:return 2;case xr:return 8;case Li:case ac:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var Wh=!1,ha=null,fa=null,da=null,Tl=new Map,Sl=new Map,ma=[],Y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(t,e){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function Al(t,e,i,s,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},e!==null&&(e=vn(e),e!==null&&wp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function K_(t,e,i,s,c){switch(e){case"focusin":return ha=Al(ha,t,e,i,s,c),!0;case"dragenter":return fa=Al(fa,t,e,i,s,c),!0;case"mouseover":return da=Al(da,t,e,i,s,c),!0;case"pointerover":var f=c.pointerId;return Tl.set(f,Al(Tl.get(f)||null,t,e,i,s,c)),!0;case"gotpointercapture":return f=c.pointerId,Sl.set(f,Al(Sl.get(f)||null,t,e,i,s,c)),!0}return!1}function Dp(t){var e=Xn(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,In(t.priority,function(){Rp(i)});return}}else if(e===31){if(e=y(i),e!==null){t.blockedOn=e,In(t.priority,function(){Rp(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Jh(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);Ur=s,i.target.dispatchEvent(s),Ur=null}else return e=vn(i),e!==null&&wp(e),t.blockedOn=i,!1;e.shift()}return!0}function Vp(t,e,i){_u(t)&&i.delete(e)}function X_(){Wh=!1,ha!==null&&_u(ha)&&(ha=null),fa!==null&&_u(fa)&&(fa=null),da!==null&&_u(da)&&(da=null),Tl.forEach(Vp),Sl.forEach(Vp)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Wh||(Wh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,X_)))}var Eu=null;function Ip(t){Eu!==t&&(Eu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Eu===t&&(Eu=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],c=t[e+2];if(typeof s!="function"){if($h(s||i)===null)continue;break}var f=vn(i);f!==null&&(t.splice(e,3),e-=3,Jc(f,{pending:!0,data:c,method:i.method,action:s},s,c))}}))}function nr(t){function e(R){return bu(R,t)}ha!==null&&bu(ha,t),fa!==null&&bu(fa,t),da!==null&&bu(da,t),Tl.forEach(e),Sl.forEach(e);for(var i=0;i<ma.length;i++){var s=ma[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ma.length&&(i=ma[0],i.blockedOn===null);)Dp(i),i.blockedOn===null&&ma.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],g=c[Ie]||null;if(typeof f=="function")g||Ip(i);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ie]||null)v=g.formAction;else if($h(c)!==null)continue}else v=g.action;typeof v=="function"?i[s+1]=v:(i.splice(s,3),s-=3),Ip(i)}}}function Op(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function tf(t){this._internalRoot=t}Tu.prototype.render=tf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,s=gn();Ap(i,s,t,e,null,null)},Tu.prototype.unmount=tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ap(t.current,2,null,t,null,null),nu(),e[Yn]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=eo();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ma.length&&e!==0&&e<ma[i].priority;i++);ma.splice(i,0,t),i===0&&Dp(t)}};var Mp=n.version;if(Mp!=="19.2.3")throw Error(r(527,Mp,"19.2.3"));K.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=E(e),t=t!==null?C(t):null,t=t===null?null:t.stateNode,t};var Z_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Dn=Su.inject(Z_),ze=Su}catch{}}return xl.createRoot=function(t,e){if(!u(t))throw Error(r(299));var i=!1,s="",c=qm,f=Hm,g=Pm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Tp(t,1,!1,null,null,i,s,null,c,f,g,Op),t[Yn]=e.current,jh(t),new tf(e)},xl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(r(299));var s=!1,c="",f=qm,g=Hm,v=Pm,R=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),e=Tp(t,1,!0,e,i??null,s,c,R,f,g,v,Op),e.context=Sp(null),i=e.current,s=gn(),s=ja(s),c=Wi(s),c.callback=null,ta(i,c,s),i=s,e.current.lanes=i,Oa(e,i),ui(e),t[Yn]=e.current,jh(t),new Tu(e)},xl.version="19.2.3",xl}var Lp;function a1(){if(Lp)return ef.exports;Lp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),ef.exports=i1(),ef.exports}var s1=a1();const r1=t1(s1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,r)=>r?r.toUpperCase():a.toLowerCase()),Bp=l=>{const n=o1(l);return n.charAt(0).toUpperCase()+n.slice(1)},Wy=(...l)=>l.filter((n,a,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===a).join(" ").trim(),u1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=rt.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:u="",children:h,iconNode:d,...y},_)=>rt.createElement("svg",{ref:_,...c1,width:n,height:n,stroke:l,strokeWidth:r?Number(a)*24/Number(n):a,className:Wy("lucide",u),...!h&&!u1(y)&&{"aria-hidden":"true"},...y},[...d.map(([E,C])=>rt.createElement(E,C)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(l,n)=>{const a=rt.forwardRef(({className:r,...u},h)=>rt.createElement(h1,{ref:h,iconNode:n,className:Wy(`lucide-${l1(Bp(l))}`,`lucide-${l}`,r),...u}));return a.displayName=Bp(l),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],t0=oe("arrow-right",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Nu=oe("camera",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],e0=oe("circle-alert",m1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p1=oe("circle-check-big",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],v1=oe("cloud-upload",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],b1=oe("coffee",_1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kp=oe("download",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],S1=oe("eye-off",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x1=oe("eye",A1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],R1=oe("lock-open",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qp=oe("lock",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],D1=oe("menu",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Hp=oe("mic-off",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],qf=oe("mic",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],M1=oe("play",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],n0=oe("refresh-cw",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],U1=oe("settings-2",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],B1=oe("timer",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],q1=oe("triangle-alert",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pf=oe("video-off",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],G1=oe("video",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],F1=oe("x",Q1),Y1=()=>{};var Pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},K1=function(l){const n=[];let a=0,r=0;for(;a<l.length;){const u=l[a++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=l[a++];n[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=l[a++],d=l[a++],y=l[a++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const h=l[a++],d=l[a++];n[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return n.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const h=l[u],d=u+1<l.length,y=d?l[u+1]:0,_=u+2<l.length,E=_?l[u+2]:0,C=h>>2,N=(h&3)<<4|y>>4;let j=(y&15)<<2|E>>6,Q=E&63;_||(Q=64,d||(j=64)),r.push(a[C],a[N],a[j],a[Q])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(i0(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):K1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const h=a[l.charAt(u++)],y=u<l.length?a[l.charAt(u)]:0;++u;const E=u<l.length?a[l.charAt(u)]:64;++u;const N=u<l.length?a[l.charAt(u)]:64;if(++u,h==null||y==null||E==null||N==null)throw new X1;const j=h<<2|y>>4;if(r.push(j),E!==64){const Q=y<<4&240|E>>2;if(r.push(Q),N!==64){const $=E<<6&192|N;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(l){const n=i0(l);return a0.encodeByteArray(n,!0)},ju=function(l){return Z1(l).replace(/\./g,"")},J1=function(l){try{return a0.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=()=>$1().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof Pp>"u")return;const l=Pp.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},eb=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&J1(l[1]);return n&&JSON.parse(n)},Hf=()=>{try{return Y1()||W1()||tb()||eb()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},nb=l=>{var n,a;return(a=(n=Hf())==null?void 0:n.emulatorHosts)==null?void 0:a[l]},ib=l=>{const n=nb(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},s0=()=>{var l;return(l=Hf())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,h=l.sub||l.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...l};return[ju(JSON.stringify(a)),ju(JSON.stringify(d)),""].join(".")}const Dl={};function lb(){const l={prod:[],emulator:[]};for(const n of Object.keys(Dl))Dl[n]?l.emulator.push(n):l.prod.push(n);return l}function ob(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Gp=!1;function ub(l,n){if(typeof window>"u"||typeof document>"u"||!Pf(window.location.host)||Dl[l]===n||Dl[l]||Gp)return;Dl[l]=n;function a(j){return`__firebase__banner__${j}`}const r="__firebase__banner",h=lb().prod.length>0;function d(){const j=document.getElementById(r);j&&j.remove()}function y(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function _(j,Q){j.setAttribute("width","24"),j.setAttribute("id",Q),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function E(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{Gp=!0,d()},j}function C(j,Q){j.setAttribute("id",Q),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function N(){const j=ob(r),Q=a("text"),$=document.getElementById(Q)||document.createElement("span"),et=a("learnmore"),W=document.getElementById(et)||document.createElement("a"),Et=a("preprendIcon"),at=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const mt=j.element;y(mt),C(W,et);const nt=E();_(at,Et),mt.append(at,$,W,nt),document.body.appendChild(mt)}h?($.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){var n;const l=(n=Hf())==null?void 0:n.forceEnvironment;if(l==="node")return!0;if(l==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return!hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function db(){try{return typeof indexedDB=="object"}catch{return!1}}function mb(){return new Promise((l,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{var h;n(((h=u.error)==null?void 0:h.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="FirebaseError";class yr extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=gb,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r0.prototype.create)}}class r0{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},u=`${this.service}/${n}`,h=this.errors[n],d=h?pb(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new yr(u,y,r)}}function pb(l,n){return l.replace(yb,(a,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const yb=/\{\$([^}]+)}/g;function zu(l,n){if(l===n)return!0;const a=Object.keys(l),r=Object.keys(n);for(const u of a){if(!r.includes(u))return!1;const h=l[u],d=n[u];if(Qp(h)&&Qp(d)){if(!zu(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!a.includes(u))return!1;return!0}function Qp(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(l){return l&&l._delegate?l._delegate:l}class zl{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new ab;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Eb(n))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(n=rs){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=rs){return this.instances.has(n)}getOptions(n=rs){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(n,a){const r=this.normalizeInstanceIdentifier(a),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&n(h,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const u of r)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bb(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=rs){return this.component?this.component.multipleInstances?n:rs:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bb(l){return l===rs?void 0:l}function Eb(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new _b(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Lt||(Lt={}));const Sb={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Ab=Lt.INFO,xb={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},wb=(l,n,...a)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=xb[n];if(u)console[u](`[${r}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class l0{constructor(n){this.name=n,this._logLevel=Ab,this._logHandler=wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Lt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Sb[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...n),this._logHandler(this,Lt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...n),this._logHandler(this,Lt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...n),this._logHandler(this,Lt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...n),this._logHandler(this,Lt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...n),this._logHandler(this,Lt.ERROR,...n)}}const Rb=(l,n)=>n.some(a=>l instanceof a);let Fp,Yp;function Cb(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,yf=new WeakMap,u0=new WeakMap,sf=new WeakMap,Gf=new WeakMap;function Db(l){const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("success",h),l.removeEventListener("error",d)},h=()=>{a(va(l.result)),u()},d=()=>{r(l.error),u()};l.addEventListener("success",h),l.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&o0.set(a,l)}).catch(()=>{}),Gf.set(n,l),n}function Vb(l){if(yf.has(l))return;const n=new Promise((a,r)=>{const u=()=>{l.removeEventListener("complete",h),l.removeEventListener("error",d),l.removeEventListener("abort",d)},h=()=>{a(),u()},d=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",h),l.addEventListener("error",d),l.addEventListener("abort",d)});yf.set(l,n)}let vf={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return yf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||u0.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return va(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function Ib(l){vf=l(vf)}function Ob(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=l.call(rf(this),n,...a);return u0.set(r,n.sort?n.sort():[n]),va(r)}:Nb().includes(l)?function(...n){return l.apply(rf(this),n),va(o0.get(this))}:function(...n){return va(l.apply(rf(this),n))}}function Mb(l){return typeof l=="function"?Ob(l):(l instanceof IDBTransaction&&Vb(l),Rb(l,Cb())?new Proxy(l,vf):l)}function va(l){if(l instanceof IDBRequest)return Db(l);if(sf.has(l))return sf.get(l);const n=Mb(l);return n!==l&&(sf.set(l,n),Gf.set(n,l)),n}const rf=l=>Gf.get(l);function jb(l,n,{blocked:a,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(l,n),y=va(d);return r&&d.addEventListener("upgradeneeded",_=>{r(va(d.result),_.oldVersion,_.newVersion,va(d.transaction),_)}),a&&d.addEventListener("blocked",_=>a(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",E=>u(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const zb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],lf=new Map;function Kp(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(lf.get(n))return lf.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,u=Ub.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(u||zb.includes(a)))return;const h=async function(d,...y){const _=this.transaction(d,u?"readwrite":"readonly");let E=_.store;return r&&(E=E.index(y.shift())),(await Promise.all([E[a](...y),u&&_.done]))[0]};return lf.set(n,h),h}Ib(l=>({...l,get:(n,a,r)=>Kp(n,a)||l.get(n,a,r),has:(n,a)=>!!Kp(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Bb(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function Bb(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const _f="@firebase/app",Xp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new l0("@firebase/app"),kb="@firebase/app-compat",qb="@firebase/analytics-compat",Hb="@firebase/analytics",Pb="@firebase/app-check-compat",Gb="@firebase/app-check",Qb="@firebase/auth",Fb="@firebase/auth-compat",Yb="@firebase/database",Kb="@firebase/data-connect",Xb="@firebase/database-compat",Zb="@firebase/functions",Jb="@firebase/functions-compat",$b="@firebase/installations",Wb="@firebase/installations-compat",tE="@firebase/messaging",eE="@firebase/messaging-compat",nE="@firebase/performance",iE="@firebase/performance-compat",aE="@firebase/remote-config",sE="@firebase/remote-config-compat",rE="@firebase/storage",lE="@firebase/storage-compat",oE="@firebase/firestore",uE="@firebase/ai",cE="@firebase/firestore-compat",hE="firebase",fE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",dE={[_f]:"fire-core",[kb]:"fire-core-compat",[Hb]:"fire-analytics",[qb]:"fire-analytics-compat",[Gb]:"fire-app-check",[Pb]:"fire-app-check-compat",[Qb]:"fire-auth",[Fb]:"fire-auth-compat",[Yb]:"fire-rtdb",[Kb]:"fire-data-connect",[Xb]:"fire-rtdb-compat",[Zb]:"fire-fn",[Jb]:"fire-fn-compat",[$b]:"fire-iid",[Wb]:"fire-iid-compat",[tE]:"fire-fcm",[eE]:"fire-fcm-compat",[nE]:"fire-perf",[iE]:"fire-perf-compat",[aE]:"fire-rc",[sE]:"fire-rc-compat",[rE]:"fire-gcs",[lE]:"fire-gcs-compat",[oE]:"fire-fst",[cE]:"fire-fst-compat",[uE]:"fire-vertex","fire-js":"fire-js",[hE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,mE=new Map,Ef=new Map;function Zp(l,n){try{l.container.addComponent(n)}catch(a){ji.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Lu(l){const n=l.name;if(Ef.has(n))return ji.debug(`There were multiple attempts to register component ${n}.`),!1;Ef.set(n,l);for(const a of Uu.values())Zp(a,l);for(const a of mE.values())Zp(a,l);return!0}function gE(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function pE(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new r0("app","Firebase",yE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(n,a,r){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=fE;function c0(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const r={name:bf,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw _a.create("bad-app-name",{appName:String(u)});if(a||(a=s0()),!a)throw _a.create("no-options");const h=Uu.get(u);if(h){if(zu(a,h.options)&&zu(r,h.config))return h;throw _a.create("duplicate-app",{appName:u})}const d=new Tb(u);for(const _ of Ef.values())d.addComponent(_);const y=new vE(a,r,d);return Uu.set(u,y),y}function bE(l=bf){const n=Uu.get(l);if(!n&&l===bf&&s0())return c0();if(!n)throw _a.create("no-app",{appName:l});return n}function lr(l,n,a){let r=dE[l]??l;a&&(r+=`-${a}`);const u=r.match(/\s|\//),h=n.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${n}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}Lu(new zl(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebase-heartbeat-database",TE=1,Ul="firebase-heartbeat-store";let of=null;function h0(){return of||(of=jb(EE,TE,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Ul)}catch(a){console.warn(a)}}}}).catch(l=>{throw _a.create("idb-open",{originalErrorMessage:l.message})})),of}async function SE(l){try{const a=(await h0()).transaction(Ul),r=await a.objectStore(Ul).get(f0(l));return await a.done,r}catch(n){if(n instanceof yr)ji.warn(n.message);else{const a=_a.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});ji.warn(a.message)}}}async function Jp(l,n){try{const r=(await h0()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(n,f0(l)),await r.done}catch(a){if(a instanceof yr)ji.warn(a.message);else{const r=_a.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});ji.warn(r.message)}}}function f0(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=1024,xE=30;class wE{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new CE(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=$p();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>xE){const d=NE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=$p(),{heartbeatsToSend:r,unsentEntries:u}=RE(this._heartbeatsCache.heartbeats),h=ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(a){return ji.warn(a),""}}}function $p(){return new Date().toISOString().substring(0,10)}function RE(l,n=AE){const a=[];let r=l.slice();for(const u of l){const h=a.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Wp(a)>n){h.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),Wp(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class CE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return db()?mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await SE(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Wp(l){return ju(JSON.stringify({version:2,heartbeats:l})).length}function NE(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let r=1;r<l.length;r++)l[r].date<a&&(a=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(l){Lu(new zl("platform-logger",n=>new Lb(n),"PRIVATE")),Lu(new zl("heartbeat",n=>new wE(n),"PRIVATE")),lr(_f,Xp,l),lr(_f,Xp,"esm2020"),lr("fire-js","")}DE("");var VE="firebase",IE="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(VE,IE,"app");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,d0;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(w,S){function x(){}x.prototype=S.prototype,w.F=S.prototype,w.prototype=new x,w.prototype.constructor=w,w.D=function(I,D,O){for(var A=Array(arguments.length-2),it=2;it<arguments.length;it++)A[it-2]=arguments[it];return S.prototype[D].apply(I,A)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}n(r,a),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(w,S,x){x||(x=0);const I=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)I[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;D<16;++D)I[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=w.g[0],x=w.g[1],D=w.g[2];let O=w.g[3],A;A=S+(O^x&(D^O))+I[0]+3614090360&4294967295,S=x+(A<<7&4294967295|A>>>25),A=O+(D^S&(x^D))+I[1]+3905402710&4294967295,O=S+(A<<12&4294967295|A>>>20),A=D+(x^O&(S^x))+I[2]+606105819&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(S^D&(O^S))+I[3]+3250441966&4294967295,x=D+(A<<22&4294967295|A>>>10),A=S+(O^x&(D^O))+I[4]+4118548399&4294967295,S=x+(A<<7&4294967295|A>>>25),A=O+(D^S&(x^D))+I[5]+1200080426&4294967295,O=S+(A<<12&4294967295|A>>>20),A=D+(x^O&(S^x))+I[6]+2821735955&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(S^D&(O^S))+I[7]+4249261313&4294967295,x=D+(A<<22&4294967295|A>>>10),A=S+(O^x&(D^O))+I[8]+1770035416&4294967295,S=x+(A<<7&4294967295|A>>>25),A=O+(D^S&(x^D))+I[9]+2336552879&4294967295,O=S+(A<<12&4294967295|A>>>20),A=D+(x^O&(S^x))+I[10]+4294925233&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(S^D&(O^S))+I[11]+2304563134&4294967295,x=D+(A<<22&4294967295|A>>>10),A=S+(O^x&(D^O))+I[12]+1804603682&4294967295,S=x+(A<<7&4294967295|A>>>25),A=O+(D^S&(x^D))+I[13]+4254626195&4294967295,O=S+(A<<12&4294967295|A>>>20),A=D+(x^O&(S^x))+I[14]+2792965006&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(S^D&(O^S))+I[15]+1236535329&4294967295,x=D+(A<<22&4294967295|A>>>10),A=S+(D^O&(x^D))+I[1]+4129170786&4294967295,S=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(S^x))+I[6]+3225465664&4294967295,O=S+(A<<9&4294967295|A>>>23),A=D+(S^x&(O^S))+I[11]+643717713&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^S&(D^O))+I[0]+3921069994&4294967295,x=D+(A<<20&4294967295|A>>>12),A=S+(D^O&(x^D))+I[5]+3593408605&4294967295,S=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(S^x))+I[10]+38016083&4294967295,O=S+(A<<9&4294967295|A>>>23),A=D+(S^x&(O^S))+I[15]+3634488961&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^S&(D^O))+I[4]+3889429448&4294967295,x=D+(A<<20&4294967295|A>>>12),A=S+(D^O&(x^D))+I[9]+568446438&4294967295,S=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(S^x))+I[14]+3275163606&4294967295,O=S+(A<<9&4294967295|A>>>23),A=D+(S^x&(O^S))+I[3]+4107603335&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^S&(D^O))+I[8]+1163531501&4294967295,x=D+(A<<20&4294967295|A>>>12),A=S+(D^O&(x^D))+I[13]+2850285829&4294967295,S=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(S^x))+I[2]+4243563512&4294967295,O=S+(A<<9&4294967295|A>>>23),A=D+(S^x&(O^S))+I[7]+1735328473&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^S&(D^O))+I[12]+2368359562&4294967295,x=D+(A<<20&4294967295|A>>>12),A=S+(x^D^O)+I[5]+4294588738&4294967295,S=x+(A<<4&4294967295|A>>>28),A=O+(S^x^D)+I[8]+2272392833&4294967295,O=S+(A<<11&4294967295|A>>>21),A=D+(O^S^x)+I[11]+1839030562&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^S)+I[14]+4259657740&4294967295,x=D+(A<<23&4294967295|A>>>9),A=S+(x^D^O)+I[1]+2763975236&4294967295,S=x+(A<<4&4294967295|A>>>28),A=O+(S^x^D)+I[4]+1272893353&4294967295,O=S+(A<<11&4294967295|A>>>21),A=D+(O^S^x)+I[7]+4139469664&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^S)+I[10]+3200236656&4294967295,x=D+(A<<23&4294967295|A>>>9),A=S+(x^D^O)+I[13]+681279174&4294967295,S=x+(A<<4&4294967295|A>>>28),A=O+(S^x^D)+I[0]+3936430074&4294967295,O=S+(A<<11&4294967295|A>>>21),A=D+(O^S^x)+I[3]+3572445317&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^S)+I[6]+76029189&4294967295,x=D+(A<<23&4294967295|A>>>9),A=S+(x^D^O)+I[9]+3654602809&4294967295,S=x+(A<<4&4294967295|A>>>28),A=O+(S^x^D)+I[12]+3873151461&4294967295,O=S+(A<<11&4294967295|A>>>21),A=D+(O^S^x)+I[15]+530742520&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^S)+I[2]+3299628645&4294967295,x=D+(A<<23&4294967295|A>>>9),A=S+(D^(x|~O))+I[0]+4096336452&4294967295,S=x+(A<<6&4294967295|A>>>26),A=O+(x^(S|~D))+I[7]+1126891415&4294967295,O=S+(A<<10&4294967295|A>>>22),A=D+(S^(O|~x))+I[14]+2878612391&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~S))+I[5]+4237533241&4294967295,x=D+(A<<21&4294967295|A>>>11),A=S+(D^(x|~O))+I[12]+1700485571&4294967295,S=x+(A<<6&4294967295|A>>>26),A=O+(x^(S|~D))+I[3]+2399980690&4294967295,O=S+(A<<10&4294967295|A>>>22),A=D+(S^(O|~x))+I[10]+4293915773&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~S))+I[1]+2240044497&4294967295,x=D+(A<<21&4294967295|A>>>11),A=S+(D^(x|~O))+I[8]+1873313359&4294967295,S=x+(A<<6&4294967295|A>>>26),A=O+(x^(S|~D))+I[15]+4264355552&4294967295,O=S+(A<<10&4294967295|A>>>22),A=D+(S^(O|~x))+I[6]+2734768916&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~S))+I[13]+1309151649&4294967295,x=D+(A<<21&4294967295|A>>>11),A=S+(D^(x|~O))+I[4]+4149444226&4294967295,S=x+(A<<6&4294967295|A>>>26),A=O+(x^(S|~D))+I[11]+3174756917&4294967295,O=S+(A<<10&4294967295|A>>>22),A=D+(S^(O|~x))+I[2]+718787259&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~S))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+O&4294967295}r.prototype.v=function(w,S){S===void 0&&(S=w.length);const x=S-this.blockSize,I=this.C;let D=this.h,O=0;for(;O<S;){if(D==0)for(;O<=x;)u(this,w,O),O+=this.blockSize;if(typeof w=="string"){for(;O<S;)if(I[D++]=w.charCodeAt(O++),D==this.blockSize){u(this,I),D=0;break}}else for(;O<S;)if(I[D++]=w[O++],D==this.blockSize){u(this,I),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var x=w.length-8;x<w.length;++x)w[x]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,x=0;x<4;++x)for(let I=0;I<32;I+=8)w[S++]=this.g[x]>>>I&255;return w};function h(w,S){var x=y;return Object.prototype.hasOwnProperty.call(x,w)?x[w]:x[w]=S(w)}function d(w,S){this.h=S;const x=[];let I=!0;for(let D=w.length-1;D>=0;D--){const O=w[D]|0;I&&O==S||(x[D]=O,I=!1)}this.g=x}var y={};function _(w){return-128<=w&&w<128?h(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function E(w){if(isNaN(w)||!isFinite(w))return N;if(w<0)return W(E(-w));const S=[];let x=1;for(let I=0;w>=x;I++)S[I]=w/x|0,x*=4294967296;return new d(S,0)}function C(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return W(C(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=E(Math.pow(S,8));let I=N;for(let O=0;O<w.length;O+=8){var D=Math.min(8,w.length-O);const A=parseInt(w.substring(O,O+D),S);D<8?(D=E(Math.pow(S,D)),I=I.j(D).add(E(A))):(I=I.j(x),I=I.add(E(A)))}return I}var N=_(0),j=_(1),Q=_(16777216);l=d.prototype,l.m=function(){if(et(this))return-W(this).m();let w=0,S=1;for(let x=0;x<this.g.length;x++){const I=this.i(x);w+=(I>=0?I:4294967296+I)*S,S*=4294967296}return w},l.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if($(this))return"0";if(et(this))return"-"+W(this).toString(w);const S=E(Math.pow(w,6));var x=this;let I="";for(;;){const D=nt(x,S).g;x=Et(x,D.j(S));let O=((x.g.length>0?x.g[0]:x.h)>>>0).toString(w);if(x=D,$(x))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},l.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function $(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function et(w){return w.h==-1}l.l=function(w){return w=Et(this,w),et(w)?-1:$(w)?0:1};function W(w){const S=w.g.length,x=[];for(let I=0;I<S;I++)x[I]=~w.g[I];return new d(x,~w.h).add(j)}l.abs=function(){return et(this)?W(this):this},l.add=function(w){const S=Math.max(this.g.length,w.g.length),x=[];let I=0;for(let D=0;D<=S;D++){let O=I+(this.i(D)&65535)+(w.i(D)&65535),A=(O>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=A>>>16,O&=65535,A&=65535,x[D]=A<<16|O}return new d(x,x[x.length-1]&-2147483648?-1:0)};function Et(w,S){return w.add(W(S))}l.j=function(w){if($(this)||$(w))return N;if(et(this))return et(w)?W(this).j(W(w)):W(W(this).j(w));if(et(w))return W(this.j(W(w)));if(this.l(Q)<0&&w.l(Q)<0)return E(this.m()*w.m());const S=this.g.length+w.g.length,x=[];for(var I=0;I<2*S;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<w.g.length;D++){const O=this.i(I)>>>16,A=this.i(I)&65535,it=w.i(D)>>>16,st=w.i(D)&65535;x[2*I+2*D]+=A*st,at(x,2*I+2*D),x[2*I+2*D+1]+=O*st,at(x,2*I+2*D+1),x[2*I+2*D+1]+=A*it,at(x,2*I+2*D+1),x[2*I+2*D+2]+=O*it,at(x,2*I+2*D+2)}for(w=0;w<S;w++)x[w]=x[2*w+1]<<16|x[2*w];for(w=S;w<2*S;w++)x[w]=0;return new d(x,0)};function at(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function mt(w,S){this.g=w,this.h=S}function nt(w,S){if($(S))throw Error("division by zero");if($(w))return new mt(N,N);if(et(w))return S=nt(W(w),S),new mt(W(S.g),W(S.h));if(et(S))return S=nt(w,W(S)),new mt(W(S.g),S.h);if(w.g.length>30){if(et(w)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var x=j,I=S;I.l(w)<=0;)x=ft(x),I=ft(I);var D=ct(x,1),O=ct(I,1);for(I=ct(I,2),x=ct(x,2);!$(I);){var A=O.add(I);A.l(w)<=0&&(D=D.add(x),O=A),I=ct(I,1),x=ct(x,1)}return S=Et(w,D.j(S)),new mt(D,S)}for(D=N;w.l(S)>=0;){for(x=Math.max(1,Math.floor(w.m()/S.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=E(x),A=O.j(S);et(A)||A.l(w)>0;)x-=I,O=E(x),A=O.j(S);$(O)&&(O=j),D=D.add(O),w=Et(w,A)}return new mt(D,w)}l.B=function(w){return nt(this,w).h},l.and=function(w){const S=Math.max(this.g.length,w.g.length),x=[];for(let I=0;I<S;I++)x[I]=this.i(I)&w.i(I);return new d(x,this.h&w.h)},l.or=function(w){const S=Math.max(this.g.length,w.g.length),x=[];for(let I=0;I<S;I++)x[I]=this.i(I)|w.i(I);return new d(x,this.h|w.h)},l.xor=function(w){const S=Math.max(this.g.length,w.g.length),x=[];for(let I=0;I<S;I++)x[I]=this.i(I)^w.i(I);return new d(x,this.h^w.h)};function ft(w){const S=w.g.length+1,x=[];for(let I=0;I<S;I++)x[I]=w.i(I)<<1|w.i(I-1)>>>31;return new d(x,w.h)}function ct(w,S){const x=S>>5;S%=32;const I=w.g.length-x,D=[];for(let O=0;O<I;O++)D[O]=S>0?w.i(O+x)>>>S|w.i(O+x+1)<<32-S:w.i(O+x);return new d(D,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=C,ba=d}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m0,wl,g0,Du,Tf,p0,y0,v0;(function(){var l,n=Object.defineProperty;function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=a(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var b=0;b<o.length-1;b++){var z=o[b];if(!(z in p))break t;p=p[z]}o=o[o.length-1],b=p[o],m=m(b),m!=b&&m!=null&&n(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function _(o,m,p){return o.call.apply(o.bind,arguments)}function E(o,m,p){return E=_,E.apply(null,arguments)}function C(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function N(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(b,z,q){for(var Z=Array(arguments.length-2),At=2;At<arguments.length;At++)Z[At-2]=arguments[At];return m.prototype[z].apply(b,Z)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Q(o){const m=o.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=o[b];return p}return[]}function $(o,m){for(let b=1;b<arguments.length;b++){const z=arguments[b];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=o.length||0;const q=z.length||0;o.length=p+q;for(let Z=0;Z<q;Z++)o[p+Z]=z[Z]}else o.push(z)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(o){d.setTimeout(()=>{throw o},0)}function Et(){var o=w;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,p){const b=mt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new et(()=>new nt,o=>o.reset());class nt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ct=!1,w=new at,S=()=>{const o=Promise.resolve(void 0);ft=()=>{o.then(x)}};function x(){for(var o;o=Et();){try{o.h.call(o.g)}catch(p){W(p)}var m=mt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}ct=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function A(o){return/^[\s\xa0]*$/.test(o)}function it(o,m){D.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}N(it,D),it.prototype.init=function(o,m){const p=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),k=0;function K(o,m,p,b,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=z,this.key=++k,this.da=this.fa=!1}function X(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function tt(o,m,p){for(const b in o)m.call(p,o[b],b,o)}function ut(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function _t(o){const m={};for(const p in o)m[p]=o[p];return m}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(o,m){let p,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(p in b)o[p]=b[p];for(let q=0;q<Rt.length;q++)p=Rt[q],Object.prototype.hasOwnProperty.call(b,p)&&(o[p]=b[p])}}function Pt(o){this.src=o,this.g={},this.h=0}Pt.prototype.add=function(o,m,p,b,z){const q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);const Z=Ot(o,m,b,z);return Z>-1?(m=o[Z],p||(m.fa=!1)):(m=new K(m,this.src,q,!!b,z),m.fa=p,o.push(m)),m};function zt(o,m){const p=m.type;if(p in o.g){var b=o.g[p],z=Array.prototype.indexOf.call(b,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(b,z,1),q&&(X(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Ot(o,m,p,b){for(let z=0;z<o.length;++z){const q=o[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==b)return z}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),ue={};function pn(o,m,p,b,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)pn(o,m[q],p,b,z);return null}return p=Sr(p),o&&o[st]?o.J(m,p,y(b)?!!b.capture:!1,z):Na(o,m,p,!1,b,z)}function Na(o,m,p,b,z,q){if(!m)throw Error("Invalid event type");const Z=y(z)?!!z.capture:!!z;let At=Da(o);if(At||(o[Ct]=At=new Pt(o)),p=At.add(m,p,b,Z,q),p.proxy)return p;if(b=ds(),p.proxy=b,b.src=o,b.listener=p,o.addEventListener)O||(z=Z),z===void 0&&(z=!1),o.addEventListener(m.toString(),b,z);else if(o.attachEvent)o.attachEvent(Hn(m.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ds(){function o(p){return m.call(o.src,o.listener,p)}const m=Er;return o}function ms(o,m,p,b,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)ms(o,m[q],p,b,z);else b=y(b)?!!b.capture:!!b,p=Sr(p),o&&o[st]?(o=o.i,q=String(m).toString(),q in o.g&&(m=o.g[q],p=Ot(m,p,b,z),p>-1&&(X(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[q],o.h--)))):o&&(o=Da(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Ot(m,p,b,z)),(p=o>-1?m[o]:null)&&gs(p))}function gs(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[st])zt(m.i,o);else{var p=o.type,b=o.proxy;m.removeEventListener?m.removeEventListener(p,b,o.capture):m.detachEvent?m.detachEvent(Hn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Da(m))?(zt(p,o),p.h==0&&(p.src=null,m[Ct]=null)):X(o)}}}function Hn(o){return o in ue?ue[o]:ue[o]="on"+o}function Er(o,m){if(o.da)o=!0;else{m=new it(m,this);const p=o.listener,b=o.ha||o.src;o.fa&&gs(o),o=p.call(b,m)}return o}function Da(o){return o=o[Ct],o instanceof Pt?o:null}var Tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(o){return typeof o=="function"?o:(o[Tr]||(o[Tr]=function(m){return o.handleEvent(m)}),o[Tr])}function pe(){I.call(this),this.i=new Pt(this),this.M=this,this.G=null}N(pe,I),pe.prototype[st]=!0,pe.prototype.removeEventListener=function(o,m,p,b){ms(this,o,m,p,b)};function Ce(o,m){var p,b=o.G;if(b)for(p=[];b;b=b.G)p.push(b);if(o=o.M,b=m.type||m,typeof m=="string")m=new D(m,o);else if(m instanceof D)m.target=m.target||o;else{var z=m;m=new D(b,o),Tt(m,z)}z=!0;let q,Z;if(p)for(Z=p.length-1;Z>=0;Z--)q=m.g=p[Z],z=Ui(q,b,!0,m)&&z;if(q=m.g=o,z=Ui(q,b,!0,m)&&z,z=Ui(q,b,!1,m)&&z,p)for(Z=0;Z<p.length;Z++)q=m.g=p[Z],z=Ui(q,b,!1,m)&&z}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let b=0;b<p.length;b++)X(p[b]);delete o.g[m],o.h--}}this.G=null},pe.prototype.J=function(o,m,p,b){return this.i.add(String(o),m,!1,p,b)},pe.prototype.K=function(o,m,p,b){return this.i.add(String(o),m,!0,p,b)};function Ui(o,m,p,b){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const Z=m[q];if(Z&&!Z.da&&Z.capture==p){const At=Z.listener,he=Z.ha||Z.src;Z.fa&&zt(o.i,Z),z=At.call(he,b)!==!1&&z}}return z&&!b.defaultPrevented}function ic(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=E(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Kl(o){o.g=ic(()=>{o.g=null,o.i&&(o.i=!1,Kl(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ye extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(o){I.call(this),this.h=o,this.g={}}N(Va,I);var Ar=[];function xr(o){tt(o.g,function(m,p){this.g.hasOwnProperty(p)&&gs(m)},o),o.g={}}Va.prototype.N=function(){Va.Z.N.call(this),xr(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=d.JSON.stringify,ac=d.JSON.parse,Xl=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function Zl(){}function Jl(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}N(ze,D);function yn(){D.call(this,"c")}N(yn,D);var ce={},$l=null;function ps(){return $l=$l||new pe}ce.Ia="serverreachability";function Wl(o){D.call(this,ce.Ia,o)}N(Wl,D);function Pn(o){const m=ps();Ce(m,new Wl(m))}ce.STAT_EVENT="statevent";function Ia(o,m){D.call(this,ce.STAT_EVENT,o),this.stat=m}N(Ia,D);function ye(o){const m=ps();Ce(m,new Ia(m,o))}ce.Ja="timingevent";function Gn(o,m){D.call(this,ce.Ja,o),this.size=m}N(Gn,D);function Qn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function sc(o,m,p,b,z,q){o.info(function(){if(o.g)if(q){var Z="",At=q.split("&");for(let Gt=0;Gt<At.length;Gt++){var he=At[Gt].split("=");if(he.length>1){const ne=he[0];he=he[1];const En=ne.split("_");Z=En.length>=2&&En[1]=="type"?Z+(ne+"="+he+"&"):Z+(ne+"=redacted&")}}}else Z=null;else Z=q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+p+`
`+Z})}function to(o,m,p,b,z,q,Z){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+Z})}function Fn(o,m,p,b){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+rc(o,p)+(b?" "+b:"")})}function Oa(o,m){o.info(function(){return"TIMEOUT: "+m})}Vn.prototype.info=function(){};function rc(o,m){if(!o.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(o=0;o<q.length;o++)if(Array.isArray(q[o])){var p=q[o];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let Z=1;Z<b.length;Z++)b[Z]=""}}}}return Li(q)}catch{return m}}var Ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rr;function ja(){}N(ja,Zl),ja.prototype.g=function(){return new XMLHttpRequest},Rr=new ja;function pi(o){return encodeURIComponent(String(o))}function eo(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function In(o,m,p,b){this.j=o,this.i=m,this.l=p,this.S=b||1,this.V=new Va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var ve={},Ie={};function Yn(o,m,p){o.M=1,o.A=za(be(m)),o.u=p,o.R=!0,ys(o,null)}function ys(o,m){o.F=Date.now(),Kn(o),o.B=be(o.A);var p=o.B,b=o.S;Array.isArray(b)||(b=[String(b)]),Es(p.i,"t",b),o.C=0,p=o.j.L,o.h=new On,o.g=yo(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ye(E(o.Y,o,o.g),o.P)),m=o.V,p=o.g,b=o.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ar[0]=z.toString()),z=Ar);for(let q=0;q<z.length;q++){const Z=pn(p,z[q],b||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=o.J?_t(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Pn(),sc(o.i,o.v,o.B,o.l,o.S,o.u)}In.prototype.ba=function(o){o=o.target;const m=this.O;m&&zn(o)==3?m.j():this.Y(o)},In.prototype.Y=function(o){try{if(o==this.g)t:{const At=zn(this.g),he=this.g.ya(),Gt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Ue(this.g)))){this.K||At!=4||he==7||(he==8||Gt<=0?Pn(3):Pn(2)),Xn(this);var m=this.g.ca();this.X=m;var p=lc(this);if(this.o=m==200,to(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(b)){var q=b;break e}}q=null}if(o=q)Fn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zn(this,o);else{this.o=!1,this.m=3,ye(12),ln(this),vn(this);break t}}if(this.R){o=!0;let ne;for(;!this.K&&this.C<p.length;)if(ne=io(this,p),ne==Ie){At==4&&(this.m=4,ye(14),o=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(ne==ve){this.m=4,ye(15),Fn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Fn(this.i,this.l,ne,null),Zn(this,ne);if(no(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||p.length!=0||this.h.h||(this.m=1,ye(16),o=!1),this.o=this.o&&o,!o)Fn(this.i,this.l,p,"[Invalid Chunked Response]"),ln(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Hr(Z),Z.P=!0,ye(11))}}else Fn(this.i,this.l,p,null),Zn(this,p);At==4&&ln(this),this.o&&!this.K&&(At==4?fo(this.j,this):(this.o=!1,Kn(this)))}else vi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),ln(this),vn(this)}}}catch{}finally{}};function lc(o){if(!no(o))return o.g.la();const m=Ue(o.g);if(m==="")return"";let p="";const b=m.length,z=zn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return ln(o),vn(o),"";o.h.i=new d.TextDecoder}for(let q=0;q<b;q++)o.h.h=!0,p+=o.h.i.decode(m[q],{stream:!(z&&q==b-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function no(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function io(o,m){var p=o.C,b=m.indexOf(`
`,p);return b==-1?Ie:(p=Number(m.substring(p,b)),isNaN(p)?ve:(b+=1,b+p>m.length?Ie:(m=m.slice(b,b+p),o.C=b+p,m)))}In.prototype.cancel=function(){this.K=!0,ln(this)};function Kn(o){o.T=Date.now()+o.H,vs(o,o.H)}function vs(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Qn(E(o.aa,o),m)}function Xn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}In.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Oa(this.i,this.B),this.M!=2&&(Pn(),ye(17)),ln(this),this.m=2,vn(this)):vs(this,this.T-o)};function vn(o){o.j.I==0||o.K||fo(o.j,o)}function ln(o){Xn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,xr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function Zn(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||$n(p.h,o))){if(!o.L&&$n(p.h,o)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)ws(p),Fi(p);else break t;Pa(p),ye(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Qn(E(p.Va,p),6e3));Jn(p.h)<=1&&p.ta&&(p.ta=void 0)}else ai(p,11)}else if((o.L||p.g==o)&&ws(p),!A(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let Gt=z[m];const ne=Gt[0];if(!(ne<=p.K))if(p.K=ne,Gt=Gt[1],p.I==2)if(Gt[0]=="c"){p.M=Gt[1],p.ba=Gt[2];const En=Gt[3];En!=null&&(p.ka=En,p.j.info("VER="+p.ka));const si=Gt[4];si!=null&&(p.za=si,p.j.info("SVER="+p.za));const Un=Gt[5];Un!=null&&typeof Un=="number"&&Un>0&&(b=1.5*Un,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Ln=o.g;if(Ln){const Ga=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var q=b.h;q.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Dr(q,q.h),q.h=null))}if(b.G){const Rs=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Rs&&(b.wa=Rs,Ft(b.J,b.G,Rs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var Z=o;if(b.na=po(b,b.L?b.ba:null,b.W),Z.L){Vr(b.h,Z);var At=Z,he=b.O;he&&(At.H=he),At.D&&(Xn(At),Kn(At)),b.g=Z}else co(b);p.i.length>0&&ii(p)}else Gt[0]!="stop"&&Gt[0]!="close"||ai(p,7);else p.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?ai(p,7):kr(p):Gt[0]!="noop"&&p.l&&p.l.qa(Gt),p.A=0)}}Pn(4)}catch{}}var _e=class{constructor(o,m){this.g=o,this.map=m}};function Cr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Jn(o){return o.h?1:o.g?o.g.size:0}function $n(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Dr(o,m){o.g?o.g.add(m):o.h=m}function Vr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Cr.prototype.cancel=function(){if(this.i=Ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ir(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return Q(o.i)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _s(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const b=o[p].indexOf("=");let z,q=null;b>=0?(z=o[p].substring(0,b),q=o[p].substring(b+1)):z=o[p],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function on(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof on?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Bi(this,o.u),this.h=o.h,Or(this,oo(o.i)),this.m=o.m):o&&(m=String(o).match(ao))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=Wn(m[2]||""),this.g=Wn(m[3]||"",!0),Bi(this,m[4]),this.h=Wn(m[5]||"",!0),Or(this,m[6]||"",!0),this.m=Wn(m[7]||"")):(this.l=!1,this.i=new qi(null,this.l))}on.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ua(m,bs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ua(m,bs,!0),"@"),o.push(pi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ua(p,p.charAt(0)=="/"?Mr:so,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ua(p,ro)),o.join("")},on.prototype.resolve=function(o){const m=be(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var b=o.h;if(p)Bi(m,o.u);else if(p=!!o.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=m.h.lastIndexOf("/");z!=-1&&(b=m.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let Z=0;Z<z.length;){const At=z[Z++];At=="."?b&&Z==z.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&Z==z.length&&q.push("")):(q.push(At),b=!0)}b=q.join("/")}else b=z}return p?m.h=b:p=o.i.toString()!=="",p?Or(m,oo(o.i)):p=!!o.m,p&&(m.m=o.m),m};function be(o){return new on(o)}function Oe(o,m,p){o.j=p?Wn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Bi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Or(o,m,p){m instanceof qi?(o.i=m,Ts(o.i,o.l)):(p||(m=Ua(m,ki)),o.i=new qi(m,o.l))}function Ft(o,m,p){o.i.set(m,p)}function za(o){return Ft(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Wn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ua(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,$e),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function $e(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var bs=/[#\/\?@]/g,so=/[#\?:]/g,Mr=/[#\?]/g,ki=/[#\?@]/g,ro=/#/g;function qi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function We(o){o.g||(o.g=new Map,o.h=0,o.i&&_s(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}l=qi.prototype,l.add=function(o,m){We(this),this.i=null,o=Hi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function lo(o,m){We(o),m=Hi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function jr(o,m){return We(o),m=Hi(o,m),o.g.has(m)}l.forEach=function(o,m){We(this),this.g.forEach(function(p,b){p.forEach(function(z){o.call(m,z,b,this)},this)},this)};function zr(o,m){We(o);let p=[];if(typeof m=="string")jr(o,m)&&(p=p.concat(o.g.get(Hi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}l.set=function(o,m){return We(this),this.i=null,o=Hi(this,o),jr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},l.get=function(o,m){return o?(o=zr(this,o),o.length>0?String(o[0]):m):m};function Es(o,m,p){lo(o,m),p.length>0&&(o.i=null,o.g.set(Hi(o,m),Q(p)),o.h+=p.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const z=pi(p);p=zr(this,p);for(let q=0;q<p.length;q++){let Z=z;p[q]!==""&&(Z+="="+pi(p[q])),o.push(Z)}}return this.i=o.join("&")};function oo(o){const m=new qi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Hi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ts(o,m){m&&!o.j&&(We(o),o.i=null,o.g.forEach(function(p,b){const z=b.toLowerCase();b!=z&&(lo(this,b),Es(this,z,p))},o)),o.j=m}function Mn(o,m){const p=new Vn;if(d.Image){const b=new Image;b.onload=C(_n,p,"TestLoadImage: loaded",!0,m,b),b.onerror=C(_n,p,"TestLoadImage: error",!1,m,b),b.onabort=C(_n,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=C(_n,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else m(!1)}function Ur(o,m){const p=new Vn,b=new AbortController,z=setTimeout(()=>{b.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:b.signal}).then(q=>{clearTimeout(z),q.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(p)}catch{}}function Pi(){this.g=new Xl}function ti(o){this.i=o.Sb||null,this.h=o.ab||!1}N(ti,Zl),ti.prototype.g=function(){return new La(this.i,this.h)};function La(o,m){pe.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(La,pe),l=La.prototype,l.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,jn(this)},l.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},l.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ss(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ss(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}l.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gi(this):jn(this),this.readyState==3&&Ss(this)}},l.Oa=function(o){this.g&&(this.response=this.responseText=o,Gi(this))},l.Na=function(o){this.g&&(this.response=o,Gi(this))},l.ga=function(){this.g&&Gi(this)};function Gi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,jn(o)}l.setRequestHeader=function(o,m){this.A.append(o,m)},l.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function bn(o){let m="";return tt(o,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function Ba(o,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=bn(p),typeof o=="string"?p!=null&&pi(p):Ft(o,m,p))}function Xt(o){pe.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Xt,pe);var ei=/^https?$/i,Lr=["POST","PUT"];l=Xt.prototype,l.Fa=function(o){this.H=o},l.ea=function(o,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rr.g(),this.g.onreadystatechange=j(E(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){ka(this,q);return}if(o=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)p.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())p.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Lr,m,void 0)>=0)||b||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of p)this.g.setRequestHeader(q,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(q){ka(this,q)}};function ka(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Br(o),yi(o)}function Br(o){o.A||(o.A=!0,Ce(o,"complete"),Ce(o,"error"))}l.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ce(this,"complete"),Ce(this,"abort"),yi(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Xt.Z.N.call(this)},l.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},l.Xa=function(){qa(this)};function qa(o){if(o.h&&typeof h<"u"){if(o.v&&zn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ce(o,"readystatechange"),zn(o)==4){o.h=!1;try{const q=o.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=q===0){let Z=String(o.D).match(ao)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),b=!ei.test(Z?Z.toLowerCase():"")}p=b}if(p)Ce(o,"complete"),Ce(o,"success");else{o.o=6;try{var z=zn(o)>2?o.g.statusText:""}catch{z=""}o.l=z+" ["+o.ca()+"]",Br(o)}}finally{yi(o)}}}}function yi(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||Ce(o,"ready");try{p.onreadystatechange=null}catch{}}}l.isActive=function(){return!!this.g};function zn(o){return o.g?o.g.readyState:0}l.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},l.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ac(m)}};function Ue(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vi(o){const m={};o=(o.g&&zn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(A(o[b]))continue;var p=eo(o[b]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}ut(m,function(b){return b.join(", ")})}l.ya=function(){return this.o},l.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Qi(o){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ni("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ni("baseRetryDelayMs",5e3,o),this.Za=ni("retryDelaySeedMs",1e4,o),this.Ta=ni("forwardChannelMaxRetries",2,o),this.va=ni("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Cr(o&&o.concurrentRequestLimit),this.Ba=new Pi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}l=Qi.prototype,l.ka=8,l.I=1,l.connect=function(o,m,p,b){ye(0),this.W=o,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=po(this,null,this.W),ii(this)};function kr(o){if(As(o),o.I==3){var m=o.V++,p=be(o.J);if(Ft(p,"SID",o.M),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Ha(o,p),m=new In(o,o.j,m),m.M=2,m.A=za(be(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=yo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Kn(m)}go(o)}function Fi(o){o.g&&(Hr(o),o.g.cancel(),o.g=null)}function As(o){Fi(o),o.v&&(d.clearTimeout(o.v),o.v=null),ws(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function ii(o){if(!Nr(o.h)&&!o.m){o.m=!0;var m=o.Ea;ft||S(),ct||(ft(),ct=!0),w.add(m,o),o.D=0}}function xs(o,m){return Jn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Qn(E(o.Ea,o,m),mo(o,o.D)),o.D++,!0)}l.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const z=new In(this,this.j,o);let q=this.o;if(this.U&&(q?(q=_t(q),Tt(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=uo(this,z,m),p=be(this.J),Ft(p,"RID",o),Ft(p,"CVER",22),this.G&&Ft(p,"X-HTTP-Session-Id",this.G),Ha(this,p),q&&(this.R?m="headers="+pi(bn(q))+"&"+m:this.u&&Ba(p,this.u,q)),Dr(this.h,z),this.Ra&&Ft(p,"TYPE","init"),this.S?(Ft(p,"$req",m),Ft(p,"SID","null"),z.U=!0,Yn(z,p,null)):Yn(z,p,m),this.I=2}}else this.I==3&&(o?qr(this,o):this.i.length==0||Nr(this.h)||qr(this))};function qr(o,m){var p;m?p=m.l:p=o.V++;const b=be(o.J);Ft(b,"SID",o.M),Ft(b,"RID",p),Ft(b,"AID",o.K),Ha(o,b),o.u&&o.o&&Ba(b,o.u,o.o),p=new In(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=uo(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Dr(o.h,p),Yn(p,b,m)}function Ha(o,m){o.H&&tt(o.H,function(p,b){Ft(m,b,p)}),o.l&&tt({},function(p,b){Ft(m,b,p)})}function uo(o,m,p){p=Math.min(o.i.length,p);const b=o.l?E(o.l.Ka,o.l,o):null;t:{var z=o.i;let At=-1;for(;;){const he=["count="+p];At==-1?p>0?(At=z[0].g,he.push("ofs="+At)):At=0:he.push("ofs="+At);let Gt=!0;for(let ne=0;ne<p;ne++){var q=z[ne].g;const En=z[ne].map;if(q-=At,q<0)At=Math.max(0,z[ne].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var Z=En instanceof Map?En:Object.entries(En);for(const[si,Un]of Z){let Ln=Un;y(Un)&&(Ln=Li(Un)),he.push(q+si+"="+encodeURIComponent(Ln))}}catch(si){throw he.push(q+"type="+encodeURIComponent("_badmap")),si}}catch{b&&b(En)}}if(Gt){Z=he.join("&");break t}}Z=void 0}return o=o.i.splice(0,p),m.G=o,Z}function co(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;ft||S(),ct||(ft(),ct=!0),w.add(m,o),o.A=0}}function Pa(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Qn(E(o.Da,o),mo(o,o.A)),o.A++,!0)}l.Da=function(){if(this.v=null,ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Qn(E(this.Wa,this),o)}},l.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Fi(this),ho(this))};function Hr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function ho(o){o.g=new In(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=be(o.na);Ft(m,"RID","rpc"),Ft(m,"SID",o.M),Ft(m,"AID",o.K),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ft(m,"TO",o.ia),Ft(m,"TYPE","xmlhttp"),Ha(o,m),o.u&&o.o&&Ba(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=za(be(m)),p.u=null,p.R=!0,ys(p,o)}l.Va=function(){this.C!=null&&(this.C=null,Fi(this),Pa(this),ye(19))};function ws(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function fo(o,m){var p=null;if(o.g==m){ws(o),Hr(o),o.g=null;var b=2}else if($n(o.h,m))p=m.G,Vr(o.h,m),b=1;else return;if(o.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=o.D;b=ps(),Ce(b,new Gn(b,p)),ii(o)}else co(o);else if(z=m.m,z==3||z==0&&m.X>0||!(b==1&&xs(o,m)||b==2&&Pa(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),z){case 1:ai(o,5);break;case 4:ai(o,10);break;case 3:ai(o,6);break;default:ai(o,2)}}}function mo(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ai(o,m){if(o.j.info("Error code "+m),m==2){var p=E(o.bb,o),b=o.Ua;const z=!b;b=new on(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(b,"https"),za(b),z?Mn(b.toString(),p):Ur(b.toString(),p)}else ye(2);o.I=0,o.l&&o.l.pa(m),go(o),As(o)}l.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function go(o){if(o.I=0,o.ja=[],o.l){const m=Ir(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,Q(o.i),o.i.length=0),o.l.oa()}}function po(o,m,p){var b=p instanceof on?be(p):new on(p);if(b.g!="")m&&(b.g=m+"."+b.g),Bi(b,b.u);else{var z=d.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new on(null);b&&Oe(q,b),m&&(q.g=m),z&&Bi(q,z),p&&(q.h=p),b=q}return p=o.G,m=o.wa,p&&m&&Ft(b,p,m),Ft(b,"VER",o.ka),Ha(o,b),b}function yo(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Xt(new ti({ab:p})):new Xt(o.ma),m.Fa(o.L),m}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function vo(){}l=vo.prototype,l.ra=function(){},l.qa=function(){},l.pa=function(){},l.oa=function(){},l.isActive=function(){return!0},l.Ka=function(){};function Yi(){}Yi.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){pe.call(this),this.g=new Qi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!A(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new _i(this)}N(Ke,pe),Ke.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){kr(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Li(o),o=p);m.i.push(new _e(m.Ya++,o)),m.I==3&&ii(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,kr(this.g),delete this.g,Ke.Z.N.call(this)};function _o(o){ze.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}N(_o,ze);function bo(){yn.call(this),this.status=1}N(bo,yn);function _i(o){this.g=o}N(_i,vo),_i.prototype.ra=function(){Ce(this.g,"a")},_i.prototype.qa=function(o){Ce(this.g,new _o(o))},_i.prototype.pa=function(o){Ce(this.g,new bo)},_i.prototype.oa=function(){Ce(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,v0=function(){return new Yi},y0=function(){return ps()},p0=ce,Tf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Du=Ma,wr.COMPLETE="complete",g0=wr,Jl.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,wl=Jl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,m0=Xt}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const ey="@firebase/firestore",ny="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vr="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new l0("@firebase/firestore");function ir(){return hs.logLevel}function lt(l,...n){if(hs.logLevel<=Lt.DEBUG){const a=n.map(Qf);hs.debug(`Firestore (${vr}): ${l}`,...a)}}function zi(l,...n){if(hs.logLevel<=Lt.ERROR){const a=n.map(Qf);hs.error(`Firestore (${vr}): ${l}`,...a)}}function cr(l,...n){if(hs.logLevel<=Lt.WARN){const a=n.map(Qf);hs.warn(`Firestore (${vr}): ${l}`,...a)}}function Qf(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(l,n,a){let r="Unexpected state";typeof n=="string"?r=n:a=n,_0(l,r,a)}function _0(l,n,a){let r=`FIRESTORE (${vr}) INTERNAL ASSERTION FAILED: ${n} (ID: ${l.toString(16)})`;if(a!==void 0)try{r+=" CONTEXT: "+JSON.stringify(a)}catch{r+=" CONTEXT: "+a}throw zi(r),new Error(r)}function se(l,n,a,r){let u="Unexpected state";typeof a=="string"?u=a:r=a,l||_0(n,u,r)}function Bt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends yr{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class OE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(Qe.UNAUTHENTICATED)))}shutdown(){}}class ME{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class jE{constructor(n){this.t=n,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){se(this.o===void 0,42304);let r=this.i;const u=_=>this.i!==r?(r=this.i,a(_)):Promise.resolve();let h=new os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new os,n.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const _=h;n.enqueueRetryable((async()=>{await _.promise,await u(this.currentUser)}))},y=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new os)}}),0),d()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==n?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string",31837,{l:r}),new b0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return se(n===null||typeof n=="string",2055,{h:n}),new Qe(n)}}class zE{constructor(n,a,r){this.P=n,this.T=a,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UE{constructor(n,a,r){this.P=n,this.T=a,this.I=r}getToken(){return Promise.resolve(new zE(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LE{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pE(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){se(this.o===void 0,3512);const r=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>r(h)))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(se(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new iy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let r=0;r<l;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=BE(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<a&&(r+=n.charAt(u[h]%62))}return r}}function jt(l,n){return l<n?-1:l>n?1:0}function Sf(l,n){const a=Math.min(l.length,n.length);for(let r=0;r<a;r++){const u=l.charAt(r),h=n.charAt(r);if(u!==h)return uf(u)===uf(h)?jt(u,h):uf(u)?1:-1}return jt(l.length,n.length)}const kE=55296,qE=57343;function uf(l){const n=l.charCodeAt(0);return n>=kE&&n<=qE}function hr(l,n,a){return l.length===n.length&&l.every(((r,u)=>a(r,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="__name__";class ci{constructor(n,a,r){a===void 0?a=0:a>n.length&&St(637,{offset:a,range:n.length}),r===void 0?r=n.length-a:r>n.length-a&&St(1746,{length:r,range:n.length-a}),this.segments=n,this.offset=a,this.len=r}get length(){return this.len}isEqual(n){return ci.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof ci?n.forEach((r=>{a.push(r)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,r=this.limit();a<r;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const r=Math.min(n.length,a.length);for(let u=0;u<r;u++){const h=ci.compareSegments(n.get(u),a.get(u));if(h!==0)return h}return jt(n.length,a.length)}static compareSegments(n,a){const r=ci.isNumericId(n),u=ci.isNumericId(a);return r&&!u?-1:!r&&u?1:r&&u?ci.extractNumericId(n).compare(ci.extractNumericId(a)):Sf(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return ba.fromString(n.substring(4,n.length-2))}}class ae extends ci{construct(n,a,r){return new ae(n,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const r of n){if(r.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((u=>u.length>0)))}return new ae(a)}static emptyPath(){return new ae([])}}const HE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends ci{construct(n,a,r){return new Ze(n,a,r)}static isValidIdentifier(n){return HE.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ay}static keyField(){return new Ze([ay])}static fromServerFormat(n){const a=[];let r="",u=0;const h=()=>{if(r.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let d=!1;for(;u<n.length;){const y=n[u];if(y==="\\"){if(u+1===n.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const _=n[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=_,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ze(a)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(n){this.path=n}static fromPath(n){return new vt(ae.fromString(n))}static fromName(n){return new vt(ae.fromString(n).popFirst(5))}static empty(){return new vt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ae.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ae.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new vt(new ae(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(l,n,a){if(!a)throw new dt(J.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function GE(l,n,a,r){if(n===!0&&r===!0)throw new dt(J.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function sy(l){if(!vt.isDocumentKey(l))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function QE(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function FE(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=(function(r){return r.constructor?r.constructor.name:null})(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":St(12329,{type:typeof l})}function Af(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=FE(l);throw new dt(J.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(l,n){const a={typeString:l};return n&&(a.value=n),a}function Pl(l,n){if(!QE(l))throw new dt(J.INVALID_ARGUMENT,"JSON must be an object");let a;for(const r in n)if(n[r]){const u=n[r].typeString,h="value"in n[r]?{value:n[r].value}:void 0;if(!(r in l)){a=`JSON missing required field: '${r}'`;break}const d=l[r];if(u&&typeof d!==u){a=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){a=`Expected '${r}' field to equal '${h.value}'`;break}}if(a)throw new dt(J.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-62135596800,ly=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(n){return we.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),r=Math.floor((n-1e3*a)*ly);return new we(a,r)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<ry)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ly}_compareTo(n){return this.seconds===n.seconds?jt(this.nanoseconds,n.nanoseconds):jt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(Pl(n,we._jsonSchema))return new we(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-ry;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:Re("string",we._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(n){return new bt(n)}static min(){return new bt(new we(0,0))}static max(){return new bt(new we(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function YE(l,n){const a=l.toTimestamp().seconds,r=l.toTimestamp().nanoseconds+1,u=bt.fromTimestamp(r===1e9?new we(a+1,0):new we(a,r));return new Sa(u,vt.empty(),n)}function KE(l){return new Sa(l.readTime,l.key,Ll)}class Sa{constructor(n,a,r){this.readTime=n,this.documentKey=a,this.largestBatchId=r}static min(){return new Sa(bt.min(),vt.empty(),Ll)}static max(){return new Sa(bt.max(),vt.empty(),Ll)}}function XE(l,n){let a=l.readTime.compareTo(n.readTime);return a!==0?a:(a=vt.comparator(l.documentKey,n.documentKey),a!==0?a:jt(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(l){if(l.code!==J.FAILED_PRECONDITION||l.message!==ZE)throw l;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Y(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(a,h).next(r,u)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof Y?a:Y.resolve(a)}catch(a){return Y.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):Y.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):Y.reject(a)}static resolve(n){return new Y(((a,r)=>{a(n)}))}static reject(n){return new Y(((a,r)=>{r(n)}))}static waitFor(n){return new Y(((a,r)=>{let u=0,h=0,d=!1;n.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&a()}),(_=>r(_)))})),d=!0,h===u&&a()}))}static or(n){let a=Y.resolve(!1);for(const r of n)a=a.next((u=>u?Y.resolve(u):r()));return a}static forEach(n,a){const r=[];return n.forEach(((u,h)=>{r.push(a.call(this,u,h))})),this.waitFor(r)}static mapArray(n,a){return new Y(((r,u)=>{const h=n.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const E=_;a(n[E]).next((C=>{d[E]=C,++y,y===h&&r(d)}),(C=>u(C)))}}))}static doWhile(n,a){return new Y(((r,u)=>{const h=()=>{n()===!0?a().next((()=>{h()}),u):r()};h()}))}}function $E(l){const n=l.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function _r(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>a.writeSequenceNumber(r))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}Yu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-1;function Ku(l){return l==null}function xf(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="";function tT(l){let n="";for(let a=0;a<l.length;a++)n.length>0&&(n=oy(n)),n=eT(l.get(a),n);return oy(n)}function eT(l,n){let a=n;const r=l.length;for(let u=0;u<r;u++){const h=l.charAt(u);switch(h){case"\0":a+="";break;case E0:a+="";break;default:a+=h}}return a}function oy(l){return l+E0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function Gl(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function nT(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(n,a){this.comparator=n,this.root=a||He.EMPTY}insert(n,a){return new ge(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,He.BLACK,null,null))}remove(n){return new ge(this.comparator,this.root.remove(n,this.comparator).copy(null,null,He.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(n,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(n){let a=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(n,r.key);if(u===0)return a+r.left.size;u<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,r)=>(n(a,r),!1)))}toString(){const n=[];return this.inorderTraversal(((a,r)=>(n.push(`${a}:${r}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new xu(this.root,n,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new xu(this.root,n,this.comparator,!0)}}class xu{constructor(n,a,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=a?r(n.key,a):1,a&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class He{constructor(n,a,r,u,h){this.key=n,this.value=a,this.color=r??He.RED,this.left=u??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,r,u,h){return new He(n??this.key,a??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let u=this;const h=r(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,a,r),null):h===0?u.copy(null,a,null,null,null):u.copy(null,null,null,null,u.right.insert(n,a,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let r,u=this;if(a(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,a),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),a(n,u.key)===0){if(u.right.isEmpty())return He.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,a))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw St(27949);return n+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(n,a,r,u,h){return this}insert(n,a,r){return new He(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(n){this.comparator=n,this.data=new ge(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,r)=>(n(a),!1)))}forEachInRange(n,a){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,n[1])>=0)return;a(u.key)}}forEachWhile(n,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new cy(this.data.getIterator())}getIteratorFrom(n){return new cy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((r=>{a=a.add(r)})),a}isEqual(n){if(!(n instanceof Ve)||this.size!==n.size)return!1;const a=this.data.getIterator(),r=n.data.getIterator();for(;a.hasNext();){const u=a.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new Ve(this.comparator);return a.data=n,a}}class cy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(n){this.fields=n,n.sort(Ze.comparator)}static empty(){return new pa([])}unionWith(n){let a=new Ve(Ze.comparator);for(const r of this.fields)a=a.add(r);for(const r of n)a=a.add(r);return new pa(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return hr(this.fields,n.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new T0("Invalid base64 string: "+h):h}})(n);return new Pe(a)}static fromUint8Array(n){const a=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(n);return new Pe(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let u=0;u<a.length;u++)r[u]=a.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return jt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const iT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(l){if(se(!!l,39018),typeof l=="string"){let n=0;const a=iT.exec(l);if(se(!!a,46558,{timestamp:l}),a[1]){let u=a[1];u=(u+"000000000").substr(0,9),n=Number(u)}const r=new Date(l);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:me(l.seconds),nanos:me(l.nanos)}}function me(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function xa(l){return typeof l=="string"?Pe.fromBase64String(l):Pe.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="server_timestamp",A0="__type__",x0="__previous_value__",w0="__local_write_time__";function Yf(l){var a,r;return((r=(((a=l==null?void 0:l.mapValue)==null?void 0:a.fields)||{})[A0])==null?void 0:r.stringValue)===S0}function Xu(l){const n=l.mapValue.fields[x0];return Yf(n)?Xu(n):n}function Bl(l){const n=Aa(l.mapValue.fields[w0].timestampValue);return new we(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(n,a,r,u,h,d,y,_,E,C){this.databaseId=n,this.appId=a,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=E,this.isUsingEmulator=C}}const Bu="(default)";class kl{constructor(n,a){this.projectId=n,this.database=a||Bu}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Bu}isEqual(n){return n instanceof kl&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__type__",rT="__max__",wu={mapValue:{}},lT="__vector__",wf="value";function wa(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Yf(l)?4:uT(l)?9007199254740991:oT(l)?10:11:St(28295,{value:l})}function mi(l,n){if(l===n)return!0;const a=wa(l);if(a!==wa(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Bl(l).isEqual(Bl(n));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Aa(u.timestampValue),y=Aa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(l,n);case 5:return l.stringValue===n.stringValue;case 6:return(function(u,h){return xa(u.bytesValue).isEqual(xa(h.bytesValue))})(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return(function(u,h){return me(u.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(u.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(l,n);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return me(u.integerValue)===me(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=me(u.doubleValue),y=me(h.doubleValue);return d===y?xf(d)===xf(y):isNaN(d)&&isNaN(y)}return!1})(l,n);case 9:return hr(l.arrayValue.values||[],n.arrayValue.values||[],mi);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(uy(d)!==uy(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!mi(d[_],y[_])))return!1;return!0})(l,n);default:return St(52216,{left:l})}}function ql(l,n){return(l.values||[]).find((a=>mi(a,n)))!==void 0}function fr(l,n){if(l===n)return 0;const a=wa(l),r=wa(n);if(a!==r)return jt(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return jt(l.booleanValue,n.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),_=me(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(l,n);case 3:return hy(l.timestampValue,n.timestampValue);case 4:return hy(Bl(l),Bl(n));case 5:return Sf(l.stringValue,n.stringValue);case 6:return(function(h,d){const y=xa(h),_=xa(d);return y.compareTo(_)})(l.bytesValue,n.bytesValue);case 7:return(function(h,d){const y=h.split("/"),_=d.split("/");for(let E=0;E<y.length&&E<_.length;E++){const C=jt(y[E],_[E]);if(C!==0)return C}return jt(y.length,_.length)})(l.referenceValue,n.referenceValue);case 8:return(function(h,d){const y=jt(me(h.latitude),me(d.latitude));return y!==0?y:jt(me(h.longitude),me(d.longitude))})(l.geoPointValue,n.geoPointValue);case 9:return fy(l.arrayValue,n.arrayValue);case 10:return(function(h,d){var j,Q,$,et;const y=h.fields||{},_=d.fields||{},E=(j=y[wf])==null?void 0:j.arrayValue,C=(Q=_[wf])==null?void 0:Q.arrayValue,N=jt((($=E==null?void 0:E.values)==null?void 0:$.length)||0,((et=C==null?void 0:C.values)==null?void 0:et.length)||0);return N!==0?N:fy(E,C)})(l.mapValue,n.mapValue);case 11:return(function(h,d){if(h===wu.mapValue&&d===wu.mapValue)return 0;if(h===wu.mapValue)return 1;if(d===wu.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),E=d.fields||{},C=Object.keys(E);_.sort(),C.sort();for(let N=0;N<_.length&&N<C.length;++N){const j=Sf(_[N],C[N]);if(j!==0)return j;const Q=fr(y[_[N]],E[C[N]]);if(Q!==0)return Q}return jt(_.length,C.length)})(l.mapValue,n.mapValue);default:throw St(23264,{he:a})}}function hy(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return jt(l,n);const a=Aa(l),r=Aa(n),u=jt(a.seconds,r.seconds);return u!==0?u:jt(a.nanos,r.nanos)}function fy(l,n){const a=l.values||[],r=n.values||[];for(let u=0;u<a.length&&u<r.length;++u){const h=fr(a[u],r[u]);if(h)return h}return jt(a.length,r.length)}function dr(l){return Rf(l)}function Rf(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?(function(a){const r=Aa(a);return`time(${r.seconds},${r.nanos})`})(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?(function(a){return xa(a).toBase64()})(l.bytesValue):"referenceValue"in l?(function(a){return vt.fromName(a).toString()})(l.referenceValue):"geoPointValue"in l?(function(a){return`geo(${a.latitude},${a.longitude})`})(l.geoPointValue):"arrayValue"in l?(function(a){let r="[",u=!0;for(const h of a.values||[])u?u=!1:r+=",",r+=Rf(h);return r+"]"})(l.arrayValue):"mapValue"in l?(function(a){const r=Object.keys(a.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Rf(a.fields[d])}`;return u+"}"})(l.mapValue):St(61005,{value:l})}function Vu(l){switch(wa(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Xu(l);return n?16+Vu(n):16;case 5:return 2*l.stringValue.length;case 6:return xa(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+Vu(h)),0)})(l.arrayValue);case 10:case 11:return(function(r){let u=0;return Gl(r.fields,((h,d)=>{u+=h.length+Vu(d)})),u})(l.mapValue);default:throw St(13486,{value:l})}}function Cf(l){return!!l&&"integerValue"in l}function Kf(l){return!!l&&"arrayValue"in l}function dy(l){return!!l&&"nullValue"in l}function my(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function cf(l){return!!l&&"mapValue"in l}function oT(l){var a,r;return((r=(((a=l==null?void 0:l.mapValue)==null?void 0:a.fields)||{})[sT])==null?void 0:r.stringValue)===lT}function Vl(l){if(l.geoPointValue)return{geoPointValue:{...l.geoPointValue}};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:{...l.timestampValue}};if(l.mapValue){const n={mapValue:{fields:{}}};return Gl(l.mapValue.fields,((a,r)=>n.mapValue.fields[a]=Vl(r))),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Vl(l.arrayValue.values[a]);return n}return{...l}}function uT(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===rT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(n){this.value=n}static empty(){return new hi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let r=0;r<n.length-1;++r)if(a=(a.mapValue.fields||{})[n.get(r)],!cf(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Vl(a)}setAll(n){let a=Ze.emptyPath(),r={},u=[];n.forEach(((d,y)=>{if(!a.isImmediateParentOf(y)){const _=this.getFieldsMap(a);this.applyChanges(_,r,u),r={},u=[],a=y.popLast()}d?r[y.lastSegment()]=Vl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(a);this.applyChanges(h,r,u)}delete(n){const a=this.field(n.popLast());cf(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return mi(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<n.length;++r){let u=a.mapValue.fields[n.get(r)];cf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},a.mapValue.fields[n.get(r)]=u),a=u}return a.mapValue.fields}applyChanges(n,a,r){Gl(a,((u,h)=>n[u]=h));for(const u of r)delete n[u]}clone(){return new hi(Vl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(n,a,r,u,h,d,y){this.key=n,this.documentType=a,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(n){return new Fe(n,0,bt.min(),bt.min(),bt.min(),hi.empty(),0)}static newFoundDocument(n,a,r,u){return new Fe(n,1,a,bt.min(),r,u,0)}static newNoDocument(n,a){return new Fe(n,2,a,bt.min(),bt.min(),hi.empty(),0)}static newUnknownDocument(n,a){return new Fe(n,3,a,bt.min(),bt.min(),hi.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Fe&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(n,a){this.position=n,this.inclusive=a}}function gy(l,n,a){let r=0;for(let u=0;u<l.position.length;u++){const h=n[u],d=l.position[u];if(h.field.isKeyField()?r=vt.comparator(vt.fromName(d.referenceValue),a.key):r=fr(d,a.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function py(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!mi(l.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(n,a="asc"){this.field=n,this.dir=a}}function cT(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class De extends R0{constructor(n,a,r){super(),this.field=n,this.op=a,this.value=r}static create(n,a,r){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,r):new fT(n,a,r):a==="array-contains"?new gT(n,r):a==="in"?new pT(n,r):a==="not-in"?new yT(n,r):a==="array-contains-any"?new vT(n,r):new De(n,a,r)}static createKeyFieldInFilter(n,a,r){return a==="in"?new dT(n,r):new mT(n,r)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(fr(a,this.value)):a!==null&&wa(this.value)===wa(a)&&this.matchesComparison(fr(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends R0{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new gi(n,a)}matches(n){return C0(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C0(l){return l.op==="and"}function N0(l){return hT(l)&&C0(l)}function hT(l){for(const n of l.filters)if(n instanceof gi)return!1;return!0}function Nf(l){if(l instanceof De)return l.field.canonicalString()+l.op.toString()+dr(l.value);if(N0(l))return l.filters.map((n=>Nf(n))).join(",");{const n=l.filters.map((a=>Nf(a))).join(",");return`${l.op}(${n})`}}function D0(l,n){return l instanceof De?(function(r,u){return u instanceof De&&r.op===u.op&&r.field.isEqual(u.field)&&mi(r.value,u.value)})(l,n):l instanceof gi?(function(r,u){return u instanceof gi&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&D0(d,u.filters[y])),!0):!1})(l,n):void St(19439)}function V0(l){return l instanceof De?(function(a){return`${a.field.canonicalString()} ${a.op} ${dr(a.value)}`})(l):l instanceof gi?(function(a){return a.op.toString()+" {"+a.getFilters().map(V0).join(" ,")+"}"})(l):"Filter"}class fT extends De{constructor(n,a,r){super(n,a,r),this.key=vt.fromName(r.referenceValue)}matches(n){const a=vt.comparator(n.key,this.key);return this.matchesComparison(a)}}class dT extends De{constructor(n,a){super(n,"in",a),this.keys=I0("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class mT extends De{constructor(n,a){super(n,"not-in",a),this.keys=I0("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function I0(l,n){var a;return(((a=n.arrayValue)==null?void 0:a.values)||[]).map((r=>vt.fromName(r.referenceValue)))}class gT extends De{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return Kf(a)&&ql(a.arrayValue,this.value)}}class pT extends De{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&ql(this.value.arrayValue,a)}}class yT extends De{constructor(n,a){super(n,"not-in",a)}matches(n){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!ql(this.value.arrayValue,a)}}class vT extends De{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!Kf(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>ql(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(n,a=null,r=[],u=[],h=null,d=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function yy(l,n=null,a=[],r=[],u=null,h=null,d=null){return new _T(l,n,a,r,u,h,d)}function Xf(l){const n=Bt(l);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((r=>Nf(r))).join(","),a+="|ob:",a+=n.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Ku(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((r=>dr(r))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((r=>dr(r))).join(",")),n.Te=a}return n.Te}function Zf(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!cT(l.orderBy[a],n.orderBy[a]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!D0(l.filters[a],n.filters[a]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!py(l.startAt,n.startAt)&&py(l.endAt,n.endAt)}function Df(l){return vt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(n,a=null,r=[],u=[],h=null,d="F",y=null,_=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bT(l,n,a,r,u,h,d,y){return new Zu(l,n,a,r,u,h,d,y)}function Jf(l){return new Zu(l)}function vy(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function ET(l){return l.collectionGroup!==null}function Il(l){const n=Bt(l);if(n.Ie===null){n.Ie=[];const a=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),a.add(h.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ve(Ze.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(n).forEach((h=>{a.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new qu(h,r))})),a.has(Ze.keyField().canonicalString())||n.Ie.push(new qu(Ze.keyField(),r))}return n.Ie}function di(l){const n=Bt(l);return n.Ee||(n.Ee=TT(n,Il(l))),n.Ee}function TT(l,n){if(l.limitType==="F")return yy(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new qu(u.field,h)}));const a=l.endAt?new ku(l.endAt.position,l.endAt.inclusive):null,r=l.startAt?new ku(l.startAt.position,l.startAt.inclusive):null;return yy(l.path,l.collectionGroup,n,l.filters,l.limit,a,r)}}function Vf(l,n,a){return new Zu(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}function Ju(l,n){return Zf(di(l),di(n))&&l.limitType===n.limitType}function O0(l){return`${Xf(di(l))}|lt:${l.limitType}`}function ar(l){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((u=>V0(u))).join(", ")}]`),Ku(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((u=>dr(u))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((u=>dr(u))).join(",")),`Target(${r})`})(di(l))}; limitType=${l.limitType})`}function $u(l,n){return n.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):vt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(l,n)&&(function(r,u){for(const h of Il(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(l,n)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(l,n)&&(function(r,u){return!(r.startAt&&!(function(d,y,_){const E=gy(d,y,_);return d.inclusive?E<=0:E<0})(r.startAt,Il(r),u)||r.endAt&&!(function(d,y,_){const E=gy(d,y,_);return d.inclusive?E>=0:E>0})(r.endAt,Il(r),u))})(l,n)}function ST(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function M0(l){return(n,a)=>{let r=!1;for(const u of Il(l)){const h=AT(u,n,a);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function AT(l,n,a){const r=l.field.isKeyField()?vt.comparator(n.key,a.key):(function(h,d,y){const _=d.data.field(h),E=y.data.field(h);return _!==null&&E!==null?fr(_,E):St(42886)})(l.field,n,a);switch(l.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,a){const r=this.mapKeyFn(n),u=this.inner[r];if(u===void 0)return this.inner[r]=[[n,a]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,a]);u.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],n))return r.length===1?delete this.inner[a]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Gl(this.inner,((a,r)=>{for(const[u,h]of r)n(u,h)}))}isEmpty(){return nT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new ge(vt.comparator);function Ra(){return xT}const j0=new ge(vt.comparator);function Rl(...l){let n=j0;for(const a of l)n=n.insert(a.key,a);return n}function wT(l){let n=j0;return l.forEach(((a,r)=>n=n.insert(a,r.overlayedDocument))),n}function ls(){return Ol()}function z0(){return Ol()}function Ol(){return new fs((l=>l.toString()),((l,n)=>l.isEqual(n)))}const RT=new Ve(vt.comparator);function kt(...l){let n=RT;for(const a of l)n=n.add(a);return n}const CT=new Ve(jt);function NT(){return CT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(n)?"-0":n}}function VT(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this._=void 0}}function IT(l,n,a){return l instanceof If?(function(u,h){const d={fields:{[A0]:{stringValue:S0},[w0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Yf(h)&&(h=Xu(h)),h&&(d.fields[x0]=h),{mapValue:d}})(a,n):l instanceof Hu?U0(l,n):l instanceof Pu?L0(l,n):(function(u,h){const d=MT(u,h),y=_y(d)+_y(u.Ae);return Cf(d)&&Cf(u.Ae)?VT(y):DT(u.serializer,y)})(l,n)}function OT(l,n,a){return l instanceof Hu?U0(l,n):l instanceof Pu?L0(l,n):a}function MT(l,n){return l instanceof Of?(function(r){return Cf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(n)?n:{integerValue:0}:null}class If extends Wu{}class Hu extends Wu{constructor(n){super(),this.elements=n}}function U0(l,n){const a=B0(n);for(const r of l.elements)a.some((u=>mi(u,r)))||a.push(r);return{arrayValue:{values:a}}}class Pu extends Wu{constructor(n){super(),this.elements=n}}function L0(l,n){let a=B0(n);for(const r of l.elements)a=a.filter((u=>!mi(u,r)));return{arrayValue:{values:a}}}class Of extends Wu{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function _y(l){return me(l.integerValue||l.doubleValue)}function B0(l){return Kf(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function jT(l,n){return l.field.isEqual(n.field)&&(function(r,u){return r instanceof Hu&&u instanceof Hu||r instanceof Pu&&u instanceof Pu?hr(r.elements,u.elements,mi):r instanceof Of&&u instanceof Of?mi(r.Ae,u.Ae):r instanceof If&&u instanceof If})(l.transform,n.transform)}class us{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new us}static exists(n){return new us(void 0,n)}static updateTime(n){return new us(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Iu(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class $f{}function k0(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new UT(l.key,us.none()):new Wf(l.key,l.data,us.none());{const a=l.data,r=hi.empty();let u=new Ve(Ze.comparator);for(let h of n.fields)if(!u.has(h)){let d=a.field(h);d===null&&h.length>1&&(h=h.popLast(),d=a.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new tc(l.key,r,new pa(u.toArray()),us.none())}}function zT(l,n,a){l instanceof Wf?(function(u,h,d){const y=u.value.clone(),_=Ey(u.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(l,n,a):l instanceof tc?(function(u,h,d){if(!Iu(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=Ey(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(q0(u)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(l,n,a):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,a)}function Ml(l,n,a,r){return l instanceof Wf?(function(h,d,y,_){if(!Iu(h.precondition,d))return y;const E=h.value.clone(),C=Ty(h.fieldTransforms,_,d);return E.setAll(C),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(l,n,a,r):l instanceof tc?(function(h,d,y,_){if(!Iu(h.precondition,d))return y;const E=Ty(h.fieldTransforms,_,d),C=d.data;return C.setAll(q0(h)),C.setAll(E),d.convertToFoundDocument(d.version,C).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(l,n,a,r):(function(h,d,y){return Iu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(l,n,a)}function by(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&hr(r,u,((h,d)=>jT(h,d)))})(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class Wf extends $f{constructor(n,a,r,u=[]){super(),this.key=n,this.value=a,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class tc extends $f{constructor(n,a,r,u,h=[]){super(),this.key=n,this.data=a,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function q0(l){const n=new Map;return l.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=l.data.field(a);n.set(a,r)}})),n}function Ey(l,n,a){const r=new Map;se(l.length===a.length,32656,{Re:a.length,Ve:l.length});for(let u=0;u<a.length;u++){const h=l[u],d=h.transform,y=n.data.field(h.field);r.set(h.field,OT(d,y,a[u]))}return r}function Ty(l,n,a){const r=new Map;for(const u of l){const h=u.transform,d=a.data.field(u.field);r.set(u.field,IT(h,d,n))}return r}class UT extends $f{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(n,a,r,u){this.batchId=n,this.localWriteTime=a,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(n,a){const r=a.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&zT(h,n,r[u])}}applyToLocalView(n,a){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(a=Ml(r,n,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(a=Ml(r,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const r=z0();return this.mutations.forEach((u=>{const h=n.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=a.has(u.key)?null:y;const _=k0(d,y);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),kt())}isEqual(n){return this.batchId===n.batchId&&hr(this.mutations,n.mutations,((a,r)=>by(a,r)))&&hr(this.baseMutations,n.baseMutations,((a,r)=>by(a,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Ut;function H0(l){if(l===void 0)return zi("GRPC error has no .code"),J.UNKNOWN;switch(l){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return St(39323,{code:l})}}(Ut=xe||(xe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new ba([4294967295,4294967295],0);function Sy(l){const n=qT().encode(l),a=new d0;return a.update(n),new Uint8Array(a.digest())}function Ay(l){const n=new DataView(l.buffer),a=n.getUint32(0,!0),r=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new ba([a,r],0),new ba([u,h],0)]}class td{constructor(n,a,r){if(this.bitmap=n,this.padding=a,this.hashCount=r,a<0||a>=8)throw new Cl(`Invalid padding: ${a}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(n.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(n.length===0&&a!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*n.length-a,this.pe=ba.fromNumber(this.ge)}ye(n,a,r){let u=n.add(a.multiply(ba.fromNumber(r)));return u.compare(HT)===1&&(u=new ba([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.ge===0)return!1;const a=Sy(n),[r,u]=Ay(a);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(n,a,r){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),d=new td(h,u,a);return r.forEach((y=>d.insert(y))),d}insert(n){if(this.ge===0)return;const a=Sy(n),[r,u]=Ay(a);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(n){const a=Math.floor(n/8),r=n%8;this.bitmap[a]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(n,a,r,u,h){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,a,r){const u=new Map;return u.set(n,Ql.createSynthesizedTargetChangeForCurrentChange(n,a,r)),new ec(bt.min(),u,new ge(jt),Ra(),kt())}}class Ql{constructor(n,a,r,u,h){this.resumeToken=n,this.current=a,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,a,r){return new Ql(r,a,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(n,a,r,u){this.be=n,this.removedTargetIds=a,this.key=r,this.De=u}}class P0{constructor(n,a){this.targetId=n,this.Ce=a}}class G0{constructor(n,a,r=Pe.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=a,this.resumeToken=r,this.cause=u}}class xy{constructor(){this.ve=0,this.Fe=wy(),this.Me=Pe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=kt(),a=kt(),r=kt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:a=a.add(u);break;case 1:r=r.add(u);break;default:St(38017,{changeType:h})}})),new Ql(this.Me,this.xe,n,a,r)}qe(){this.Oe=!1,this.Fe=wy()}Qe(n,a){this.Oe=!0,this.Fe=this.Fe.insert(n,a)}$e(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PT{constructor(n){this.Ge=n,this.ze=new Map,this.je=Ra(),this.Je=Ru(),this.He=Ru(),this.Ye=new ge(jt)}Ze(n){for(const a of n.be)n.De&&n.De.isFoundDocument()?this.Xe(a,n.De):this.et(a,n.key,n.De);for(const a of n.removedTargetIds)this.et(a,n.key,n.De)}tt(n){this.forEachTarget(n,(a=>{const r=this.nt(a);switch(n.state){case 0:this.rt(a)&&r.Le(n.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(n.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(r.We(),r.Le(n.resumeToken));break;case 4:this.rt(a)&&(this.it(a),r.Le(n.resumeToken));break;default:St(56790,{state:n.state})}}))}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.ze.forEach(((r,u)=>{this.rt(u)&&a(u)}))}st(n){const a=n.targetId,r=n.Ce.count,u=this.ot(a);if(u){const h=u.target;if(Df(h))if(r===0){const d=new vt(h.path);this.et(a,d,Fe.newNoDocument(d,bt.min()))}else se(r===1,20013,{expectedCount:r});else{const d=this._t(a);if(d!==r){const y=this.ut(n),_=y?this.ct(y,n,d):1;if(_!==0){this.it(a);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,E)}}}}}ut(n){const a=n.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=a;let d,y;try{d=xa(r).toUint8Array()}catch(_){if(_ instanceof T0)return cr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new td(d,u,h)}catch(_){return cr(_ instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(n,a,r){return a.Ce.count===r-this.Pt(n,a.targetId)?0:2}Pt(n,a){const r=this.Ge.getRemoteKeysForTarget(a);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;n.mightContain(y)||(this.et(a,h,null),u++)})),u}Tt(n){const a=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Df(y.target)){const _=new vt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Fe.newNoDocument(_,n))}h.Be&&(a.set(d,h.ke()),h.qe())}}));let r=kt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((_=>{const E=this.ot(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(n)));const u=new ec(n,a,this.Ye,this.je,r);return this.je=Ra(),this.Je=Ru(),this.He=Ru(),this.Ye=new ge(jt),u}Xe(n,a){if(!this.rt(n))return;const r=this.Et(n,a.key)?2:0;this.nt(n).Qe(a.key,r),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(n)),this.He=this.He.insert(a.key,this.dt(a.key).add(n))}et(n,a,r){if(!this.rt(n))return;const u=this.nt(n);this.Et(n,a)?u.Qe(a,1):u.$e(a),this.He=this.He.insert(a,this.dt(a).delete(n)),this.He=this.He.insert(a,this.dt(a).add(n)),r&&(this.je=this.je.insert(a,r))}removeTarget(n){this.ze.delete(n)}_t(n){const a=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Ue(n){this.nt(n).Ue()}nt(n){let a=this.ze.get(n);return a||(a=new xy,this.ze.set(n,a)),a}dt(n){let a=this.He.get(n);return a||(a=new Ve(jt),this.He=this.He.insert(n,a)),a}It(n){let a=this.Je.get(n);return a||(a=new Ve(jt),this.Je=this.Je.insert(n,a)),a}rt(n){const a=this.ot(n)!==null;return a||lt("WatchChangeAggregator","Detected inactive target",n),a}ot(n){const a=this.ze.get(n);return a&&a.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new xy),this.Ge.getRemoteKeysForTarget(n).forEach((a=>{this.et(n,a,null)}))}Et(n,a){return this.Ge.getRemoteKeysForTarget(n).has(a)}}function Ru(){return new ge(vt.comparator)}function wy(){return new ge(vt.comparator)}const GT={asc:"ASCENDING",desc:"DESCENDING"},QT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FT={and:"AND",or:"OR"};class YT{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function Mf(l,n){return l.useProto3Json||Ku(n)?n:{value:n}}function KT(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function XT(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function or(l){return se(!!l,49232),bt.fromTimestamp((function(a){const r=Aa(a);return new we(r.seconds,r.nanos)})(l))}function ZT(l,n){return jf(l,n).canonicalString()}function jf(l,n){const a=(function(u){return new ae(["projects",u.projectId,"databases",u.database])})(l).child("documents");return n===void 0?a:a.child(n)}function Q0(l){const n=ae.fromString(l);return se(Z0(n),10190,{key:n.toString()}),n}function hf(l,n){const a=Q0(n);if(a.get(1)!==l.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new vt(Y0(a))}function F0(l,n){return ZT(l.databaseId,n)}function JT(l){const n=Q0(l);return n.length===4?ae.emptyPath():Y0(n)}function Ry(l){return new ae(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Y0(l){return se(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function $T(l,n){let a;if("targetChange"in n){n.targetChange;const r=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:St(39313,{state:E})})(n.targetChange.targetChangeType||"NO_CHANGE"),u=n.targetChange.targetIds||[],h=(function(E,C){return E.useProto3Json?(se(C===void 0||typeof C=="string",58123),Pe.fromBase64String(C||"")):(se(C===void 0||C instanceof Buffer||C instanceof Uint8Array,16193),Pe.fromUint8Array(C||new Uint8Array))})(l,n.targetChange.resumeToken),d=n.targetChange.cause,y=d&&(function(E){const C=E.code===void 0?J.UNKNOWN:H0(E.code);return new dt(C,E.message||"")})(d);a=new G0(r,u,h,y||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const u=hf(l,r.document.name),h=or(r.document.updateTime),d=r.document.createTime?or(r.document.createTime):bt.min(),y=new hi({mapValue:{fields:r.document.fields}}),_=Fe.newFoundDocument(u,h,d,y),E=r.targetIds||[],C=r.removedTargetIds||[];a=new Ou(E,C,_.key,_)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const u=hf(l,r.document),h=r.readTime?or(r.readTime):bt.min(),d=Fe.newNoDocument(u,h),y=r.removedTargetIds||[];a=new Ou([],y,d.key,d)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const u=hf(l,r.document),h=r.removedTargetIds||[];a=new Ou([],h,u,null)}else{if(!("filter"in n))return St(11601,{Rt:n});{n.filter;const r=n.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new kT(u,h),y=r.targetId;a=new P0(y,d)}}return a}function WT(l,n){return{documents:[F0(l,n.path)]}}function t2(l,n){const a={structuredQuery:{}},r=n.path;let u;n.collectionGroup!==null?(u=r,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=F0(l,u);const h=(function(E){if(E.length!==0)return X0(gi.create(E,"and"))})(n.filters);h&&(a.structuredQuery.where=h);const d=(function(E){if(E.length!==0)return E.map((C=>(function(j){return{field:sr(j.field),direction:i2(j.dir)}})(C)))})(n.orderBy);d&&(a.structuredQuery.orderBy=d);const y=Mf(l,n.limit);return y!==null&&(a.structuredQuery.limit=y),n.startAt&&(a.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(n.startAt)),n.endAt&&(a.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(n.endAt)),{ft:a,parent:u}}function e2(l){let n=JT(l.parent);const a=l.structuredQuery,r=a.from?a.from.length:0;let u=null;if(r>0){se(r===1,65062);const C=a.from[0];C.allDescendants?u=C.collectionId:n=n.child(C.collectionId)}let h=[];a.where&&(h=(function(N){const j=K0(N);return j instanceof gi&&N0(j)?j.getFilters():[j]})(a.where));let d=[];a.orderBy&&(d=(function(N){return N.map((j=>(function($){return new qu(rr($.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(j)))})(a.orderBy));let y=null;a.limit&&(y=(function(N){let j;return j=typeof N=="object"?N.value:N,Ku(j)?null:j})(a.limit));let _=null;a.startAt&&(_=(function(N){const j=!!N.before,Q=N.values||[];return new ku(Q,j)})(a.startAt));let E=null;return a.endAt&&(E=(function(N){const j=!N.before,Q=N.values||[];return new ku(Q,j)})(a.endAt)),bT(n,u,d,h,y,"F",_,E)}function n2(l,n){const a=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:u})}})(n.purpose);return a==null?null:{"goog-listen-tags":a}}function K0(l){return l.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=rr(a.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=rr(a.unaryFilter.field);return De.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=rr(a.unaryFilter.field);return De.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rr(a.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(l):l.fieldFilter!==void 0?(function(a){return De.create(rr(a.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(l):l.compositeFilter!==void 0?(function(a){return gi.create(a.compositeFilter.filters.map((r=>K0(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(a.compositeFilter.op))})(l):St(30097,{filter:l})}function i2(l){return GT[l]}function a2(l){return QT[l]}function s2(l){return FT[l]}function sr(l){return{fieldPath:l.canonicalString()}}function rr(l){return Ze.fromServerFormat(l.fieldPath)}function X0(l){return l instanceof De?(function(a){if(a.op==="=="){if(my(a.value))return{unaryFilter:{field:sr(a.field),op:"IS_NAN"}};if(dy(a.value))return{unaryFilter:{field:sr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(my(a.value))return{unaryFilter:{field:sr(a.field),op:"IS_NOT_NAN"}};if(dy(a.value))return{unaryFilter:{field:sr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sr(a.field),op:a2(a.op),value:a.value}}})(l):l instanceof gi?(function(a){const r=a.getFilters().map((u=>X0(u)));return r.length===1?r[0]:{compositeFilter:{op:s2(a.op),filters:r}}})(l):St(54877,{filter:l})}function Z0(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(n,a,r,u,h=bt.min(),d=bt.min(),y=Pe.EMPTY_BYTE_STRING,_=null){this.target=n,this.targetId=a,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(n){return new ya(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(n){this.yt=n}}function l2(l){const n=e2({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Vf(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Cn=new u2}addToCollectionParentIndex(n,a){return this.Cn.add(a),Y.resolve()}getCollectionParents(n,a){return Y.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return Y.resolve()}deleteFieldIndex(n,a){return Y.resolve()}deleteAllFieldIndexes(n){return Y.resolve()}createTargetIndexes(n,a){return Y.resolve()}getDocumentsMatchingTarget(n,a){return Y.resolve(null)}getIndexType(n,a){return Y.resolve(0)}getFieldIndexes(n,a){return Y.resolve([])}getNextCollectionGroupToUpdate(n){return Y.resolve(null)}getMinOffset(n,a){return Y.resolve(Sa.min())}getMinOffsetFromCollectionGroup(n,a){return Y.resolve(Sa.min())}updateCollectionGroup(n,a,r){return Y.resolve()}updateIndexEntries(n,a){return Y.resolve()}}class u2{constructor(){this.index={}}add(n){const a=n.lastSegment(),r=n.popLast(),u=this.index[a]||new Ve(ae.comparator),h=!u.has(r);return this.index[a]=u.add(r),h}has(n){const a=n.lastSegment(),r=n.popLast(),u=this.index[a];return u&&u.has(r)}getEntries(n){return(this.index[n]||new Ve(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J0=41943040;class rn{static withCacheSize(n){return new rn(n,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(J0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new mr(0)}static cr(){return new mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LruGarbageCollector",c2=1048576;function Dy([l,n],[a,r]){const u=jt(l,a);return u===0?jt(n,r):u}class h2{constructor(n){this.Ir=n,this.buffer=new Ve(Dy),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();Dy(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(n,a,r){this.garbageCollector=n,this.asyncQueue=a,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){lt(Ny,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){_r(a)?lt(Ny,"Ignoring IndexedDB error during garbage collection: ",a):await Fu(a)}await this.Vr(3e5)}))}}class d2{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((r=>Math.floor(a/100*r)))}nthSequenceNumber(n,a){if(a===0)return Y.resolve(Yu.ce);const r=new h2(a);return this.mr.forEachTarget(n,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(n,a,r){return this.mr.removeTargets(n,a,r)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Cy)):this.getCacheSize(n).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cy):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let r,u,h,d,y,_,E;const C=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,d=Date.now(),this.nthSequenceNumber(n,u)))).next((N=>(r=N,y=Date.now(),this.removeTargets(n,r,a)))).next((N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(n,r)))).next((N=>(E=Date.now(),ir()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-C}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${N} documents in `+(E-_)+`ms
Total Duration: ${E-C}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:N}))))}}function m2(l,n){return new d2(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new fs((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Fe.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?Y.resolve(r):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(n,a,r,u){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=u}getDocument(n,a){let r=null;return this.documentOverlayCache.getOverlay(n,a).next((u=>(r=u,this.remoteDocumentCache.getEntry(n,a)))).next((u=>(r!==null&&Ml(r.mutation,u,pa.empty(),we.now()),u)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((r=>this.getLocalViewOfDocuments(n,r,kt()).next((()=>r))))}getLocalViewOfDocuments(n,a,r=kt()){const u=ls();return this.populateOverlays(n,u,a).next((()=>this.computeViews(n,a,u,r).next((h=>{let d=Rl();return h.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(n,a){const r=ls();return this.populateOverlays(n,r,a).next((()=>this.computeViews(n,a,r,kt())))}populateOverlays(n,a,r){const u=[];return r.forEach((h=>{a.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(n,u).next((h=>{h.forEach(((d,y)=>{a.set(d,y)}))}))}computeViews(n,a,r,u){let h=Ra();const d=Ol(),y=(function(){return Ol()})();return a.forEach(((_,E)=>{const C=r.get(E.key);u.has(E.key)&&(C===void 0||C.mutation instanceof tc)?h=h.insert(E.key,E):C!==void 0?(d.set(E.key,C.mutation.getFieldMask()),Ml(C.mutation,E,C.mutation.getFieldMask(),we.now())):d.set(E.key,pa.empty())})),this.recalculateAndSaveOverlays(n,h).next((_=>(_.forEach(((E,C)=>d.set(E,C))),a.forEach(((E,C)=>y.set(E,new p2(C,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(n,a){const r=Ol();let u=new ge(((d,y)=>d-y)),h=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((d=>{for(const y of d)y.keys().forEach((_=>{const E=a.get(_);if(E===null)return;let C=r.get(_)||pa.empty();C=y.applyToLocalView(E,C),r.set(_,C);const N=(u.get(y.batchId)||kt()).add(_);u=u.insert(y.batchId,N)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),E=_.key,C=_.value,N=z0();C.forEach((j=>{if(!h.has(j)){const Q=k0(a.get(j),r.get(j));Q!==null&&N.set(j,Q),h=h.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(n,E,N))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((r=>this.recalculateAndSaveOverlays(n,r)))}getDocumentsMatchingQuery(n,a,r,u){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):ET(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,r,u):this.getDocumentsMatchingCollectionQuery(n,a,r,u)}getNextDocuments(n,a,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,r.largestBatchId,u-h.size):Y.resolve(ls());let y=Ll,_=h;return d.next((E=>Y.forEach(E,((C,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),h.get(C)?Y.resolve():this.remoteDocumentCache.getEntry(n,C).next((j=>{_=_.insert(C,j)}))))).next((()=>this.populateOverlays(n,E,h))).next((()=>this.computeViews(n,_,E,kt()))).next((C=>({batchId:y,changes:wT(C)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new vt(a)).next((r=>{let u=Rl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(n,a,r,u){const h=a.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(n,h).next((y=>Y.forEach(y,(_=>{const E=(function(N,j){return new Zu(j,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(a,_.child(h));return this.getDocumentsMatchingCollectionQuery(n,E,r,u).next((C=>{C.forEach(((N,j)=>{d=d.insert(N,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,a,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,r,h,u)))).next((d=>{h.forEach(((_,E)=>{const C=E.getKey();d.get(C)===null&&(d=d.insert(C,Fe.newInvalidDocument(C)))}));let y=Rl();return d.forEach(((_,E)=>{const C=h.get(_);C!==void 0&&Ml(C.mutation,E,pa.empty(),we.now()),$u(a,E)&&(y=y.insert(_,E))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return Y.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(u){return{id:u.id,version:u.version,createTime:or(u.createTime)}})(a)),Y.resolve()}getNamedQuery(n,a){return Y.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(u){return{name:u.name,query:l2(u.bundledQuery),readTime:or(u.readTime)}})(a)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.overlays=new ge(vt.comparator),this.qr=new Map}getOverlay(n,a){return Y.resolve(this.overlays.get(a))}getOverlays(n,a){const r=ls();return Y.forEach(a,(u=>this.getOverlay(n,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(n,a,r){return r.forEach(((u,h)=>{this.St(n,a,h)})),Y.resolve()}removeOverlaysForBatchId(n,a,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(n,a,r){const u=ls(),h=a.length+1,d=new vt(a.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,E=_.getKey();if(!a.isPrefixOf(E.path))break;E.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return Y.resolve(u)}getOverlaysForCollectionGroup(n,a,r,u){let h=new ge(((E,C)=>E-C));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===a&&E.largestBatchId>r){let C=h.get(E.largestBatchId);C===null&&(C=ls(),h=h.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const y=ls(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((E,C)=>y.set(E,C))),!(y.size()>=u)););return Y.resolve(y)}St(n,a,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new BT(a,r));let h=this.qr.get(a);h===void 0&&(h=kt(),this.qr.set(a,h)),this.qr.set(a,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(n){return Y.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.Qr=new Ve(je.$r),this.Ur=new Ve(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const r=new je(n,a);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(n,a){n.forEach((r=>this.addReference(r,a)))}removeReference(n,a){this.Gr(new je(n,a))}zr(n,a){n.forEach((r=>this.removeReference(r,a)))}jr(n){const a=new vt(new ae([])),r=new je(a,n),u=new je(a,n+1),h=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new vt(new ae([])),r=new je(a,n),u=new je(a,n+1);let h=kt();return this.Ur.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(n){const a=new je(n,0),r=this.Qr.firstAfterOrEqual(a);return r!==null&&n.isEqual(r.key)}}class je{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return vt.comparator(n.key,a.key)||jt(n.Yr,a.Yr)}static Kr(n,a){return jt(n.Yr,a.Yr)||vt.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(je.$r)}checkEmpty(n){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LT(h,a,r,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new je(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(n,a){return Y.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const r=a+1,u=this.ei(r),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?WE:this.tr-1)}getAllMutationBatches(n){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const r=new je(a,0),u=new je(a,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,a){let r=new Ve(jt);return a.forEach((u=>{const h=new je(u,0),d=new je(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(n,a){const r=a.path,u=r.length+1;let h=r;vt.isDocumentKey(h)||(h=h.child(""));const d=new je(new vt(h),0);let y=new Ve(jt);return this.Zr.forEachWhile((_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===u&&(y=y.add(_.Yr)),!0)}),d),Y.resolve(this.ti(y))}ti(n){const a=[];return n.forEach((r=>{const u=this.Xr(r);u!==null&&a.push(u)})),a}removeMutationBatch(n,a){se(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(a.mutations,(u=>{const h=new je(u.key,a.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=r}))}ir(n){}containsKey(n,a){const r=new je(a,0),u=this.Zr.firstAfterOrEqual(r);return Y.resolve(a.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,Y.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(n){this.ri=n,this.docs=(function(){return new ge(vt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const r=a.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const r=this.docs.get(a);return Y.resolve(r?r.document.mutableCopy():Fe.newInvalidDocument(a))}getEntries(n,a){let r=Ra();return a.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))})),Y.resolve(r)}getDocumentsMatchingQuery(n,a,r,u){let h=Ra();const d=a.path,y=new vt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:E,value:{document:C}}=_.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||XE(KE(C),r)<=0||(u.has(C.key)||$u(a,C))&&(h=h.insert(C.key,C.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(n,a,r,u){St(9500)}ii(n,a){return Y.forEach(this.docs,(r=>a(r)))}newChangeBuffer(n){return new S2(this)}getSize(n){return Y.resolve(this.size)}}class S2 extends g2{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?a.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(r)})),Y.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(n){this.persistence=n,this.si=new fs((a=>Xf(a)),Zf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new ed,this.targetCount=0,this.ai=mr.ur()}forEachTarget(n,a){return this.si.forEach(((r,u)=>a(u))),Y.resolve()}getLastRemoteSnapshotVersion(n){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Y.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(n,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.oi&&(this.oi=a),Y.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new mr(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,Y.resolve()}updateTargetData(n,a){return this.Pr(a),Y.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,Y.resolve()}removeTargets(n,a,r){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=a&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),u++)})),Y.waitFor(h).next((()=>u))}getTargetCount(n){return Y.resolve(this.targetCount)}getTargetData(n,a){const r=this.si.get(a)||null;return Y.resolve(r)}addMatchingKeys(n,a,r){return this._i.Wr(a,r),Y.resolve()}removeMatchingKeys(n,a,r){this._i.zr(a,r);const u=this.persistence.referenceDelegate,h=[];return u&&a.forEach((d=>{h.push(u.markPotentiallyOrphaned(n,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),Y.resolve()}getMatchingKeysForTargetId(n,a){const r=this._i.Hr(a);return Y.resolve(r)}containsKey(n,a){return Y.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(n,a){this.ui={},this.overlays={},this.ci=new Yu(0),this.li=!1,this.li=!0,this.hi=new b2,this.referenceDelegate=n(this),this.Pi=new A2(this),this.indexManager=new o2,this.remoteDocumentCache=(function(u){return new T2(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new r2(a),this.Ii=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new _2,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let r=this.ui[n.toKey()];return r||(r=new E2(a,this.referenceDelegate),this.ui[n.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,r){lt("MemoryPersistence","Starting transaction:",n);const u=new x2(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(n,a){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(n,a))))}}class x2 extends JE{constructor(n){super(),this.currentSequenceNumber=n}}class nd{constructor(n){this.persistence=n,this.Ri=new ed,this.Vi=null}static mi(n){return new nd(n)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(n,a,r){return this.Ri.addReference(r,a),this.fi.delete(r.toString()),Y.resolve()}removeReference(n,a,r){return this.Ri.removeReference(r,a),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),Y.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,a.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const u=vt.fromPath(r);return this.gi(n,u).next((h=>{h||a.removeEntry(u,bt.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((r=>{r?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return Y.or([()=>Y.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class Gu{constructor(n,a){this.persistence=n,this.pi=new fs((r=>tT(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=m2(this,a)}static mi(n,a){return new Gu(n,a)}Ei(){}di(n){return Y.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((r=>a.next((u=>r+u))))}wr(n){let a=0;return this.pr(n,(r=>{a++})).next((()=>a))}pr(n,a){return Y.forEach(this.pi,((r,u)=>this.br(n,r,u).next((h=>h?Y.resolve():a(u)))))}removeTargets(n,a,r){return this.persistence.getTargetCache().removeTargets(n,a,r)}removeOrphanedDocuments(n,a){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,(d=>this.br(n,d,a).next((y=>{y||(r++,h.removeEntry(d,bt.min()))})))).next((()=>h.apply(n))).next((()=>r))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),Y.resolve()}removeTarget(n,a){const r=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,r)}addReference(n,a,r){return this.pi.set(r,n.currentSequenceNumber),Y.resolve()}removeReference(n,a,r){return this.pi.set(r,n.currentSequenceNumber),Y.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),Y.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Vu(n.data.value)),a}br(n,a,r){return Y.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const u=this.pi.get(a);return Y.resolve(u!==void 0&&u>r)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(n,a,r,u){this.targetId=n,this.fromCache=a,this.Es=r,this.ds=u}static As(n,a){let r=kt(),u=kt();for(const h of a.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new id(n,a.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fb()?8:$E(cb())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,r,u){const h={result:null};return this.ys(n,a).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(n,a,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new w2;return this.Ss(n,a,d).next((y=>{if(h.result=y,this.Vs)return this.bs(n,a,d,y.size)}))})).next((()=>h.result))}bs(n,a,r,u){return r.documentReadCount<this.fs?(ir()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ar(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ir()<=Lt.DEBUG&&lt("QueryEngine","Query:",ar(a),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(ir()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ar(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,di(a))):Y.resolve())}ys(n,a){if(vy(a))return Y.resolve(null);let r=di(a);return this.indexManager.getIndexType(n,r).next((u=>u===0?null:(a.limit!==null&&u===1&&(a=Vf(a,null,"F"),r=di(a)),this.indexManager.getDocumentsMatchingTarget(n,r).next((h=>{const d=kt(...h);return this.ps.getDocuments(n,d).next((y=>this.indexManager.getMinOffset(n,r).next((_=>{const E=this.Ds(a,y);return this.Cs(a,E,d,_.readTime)?this.ys(n,Vf(a,null,"F")):this.vs(n,E,a,_)}))))})))))}ws(n,a,r,u){return vy(a)||u.isEqual(bt.min())?Y.resolve(null):this.ps.getDocuments(n,r).next((h=>{const d=this.Ds(a,h);return this.Cs(a,d,r,u)?Y.resolve(null):(ir()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ar(a)),this.vs(n,d,a,YE(u,Ll)).next((y=>y)))}))}Ds(n,a){let r=new Ve(M0(n));return a.forEach(((u,h)=>{$u(n,h)&&(r=r.add(h))})),r}Cs(n,a,r,u){if(n.limit===null)return!1;if(r.size!==a.size)return!0;const h=n.limitType==="F"?a.last():a.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,a,r){return ir()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ar(a)),this.ps.getDocumentsMatchingQuery(n,a,Sa.min(),r)}vs(n,a,r,u){return this.ps.getDocumentsMatchingQuery(n,r,u).next((h=>(a.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="LocalStore",C2=3e8;class N2{constructor(n,a,r,u){this.persistence=n,this.Fs=a,this.serializer=u,this.Ms=new ge(jt),this.xs=new fs((h=>Xf(h)),Zf),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(r)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function D2(l,n,a,r){return new N2(l,n,a,r)}async function W0(l,n){const a=Bt(l);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return a.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,a.Bs(n),a.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let _=kt();for(const E of u){d.push(E.batchId);for(const C of E.mutations)_=_.add(C.key)}for(const E of h){y.push(E.batchId);for(const C of E.mutations)_=_.add(C.key)}return a.localDocuments.getDocuments(r,_).next((E=>({Ls:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function tv(l){const n=Bt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function V2(l,n){const a=Bt(l),r=n.snapshotVersion;let u=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=a.Ns.newChangeBuffer({trackRemovals:!0});u=a.Ms;const y=[];n.targetChanges.forEach(((C,N)=>{const j=u.get(N);if(!j)return;y.push(a.Pi.removeMatchingKeys(h,C.removedDocuments,N).next((()=>a.Pi.addMatchingKeys(h,C.addedDocuments,N))));let Q=j.withSequenceNumber(h.currentSequenceNumber);n.targetMismatches.get(N)!==null?Q=Q.withResumeToken(Pe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):C.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(C.resumeToken,r)),u=u.insert(N,Q),(function(et,W,Et){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=C2?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0})(j,Q,C)&&y.push(a.Pi.updateTargetData(h,Q))}));let _=Ra(),E=kt();if(n.documentUpdates.forEach((C=>{n.resolvedLimboDocuments.has(C)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(h,C))})),y.push(I2(h,d,n.documentUpdates).next((C=>{_=C.ks,E=C.qs}))),!r.isEqual(bt.min())){const C=a.Pi.getLastRemoteSnapshotVersion(h).next((N=>a.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(C)}return Y.waitFor(y).next((()=>d.apply(h))).next((()=>a.localDocuments.getLocalViewOfDocuments(h,_,E))).next((()=>_))})).then((h=>(a.Ms=u,h)))}function I2(l,n,a){let r=kt(),u=kt();return a.forEach((h=>r=r.add(h))),n.getEntries(l,r).next((h=>{let d=Ra();return a.forEach(((y,_)=>{const E=h.get(y);_.isFoundDocument()!==E.isFoundDocument()&&(u=u.add(y)),_.isNoDocument()&&_.version.isEqual(bt.min())?(n.removeEntry(y,_.readTime),d=d.insert(y,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(n.addEntry(_),d=d.insert(y,_)):lt(ad,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",_.version)})),{ks:d,qs:u}}))}function O2(l,n){const a=Bt(l);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return a.Pi.getTargetData(r,n).next((h=>h?(u=h,Y.resolve(u)):a.Pi.allocateTargetId(r).next((d=>(u=new ya(n,d,"TargetPurposeListen",r.currentSequenceNumber),a.Pi.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=a.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(r.targetId,r),a.xs.set(n,r.targetId)),r}))}async function zf(l,n,a){const r=Bt(l),u=r.Ms.get(n),h=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!_r(d))throw d;lt(ad,`Failed to update sequence numbers for target ${n}: ${d}`)}r.Ms=r.Ms.remove(n),r.xs.delete(u.target)}function Vy(l,n,a){const r=Bt(l);let u=bt.min(),h=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,E,C){const N=Bt(_),j=N.xs.get(C);return j!==void 0?Y.resolve(N.Ms.get(j)):N.Pi.getTargetData(E,C)})(r,d,di(n)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,n,a?u:bt.min(),a?h:kt()))).next((y=>(M2(r,ST(n),y),{documents:y,Qs:h})))))}function M2(l,n,a){let r=l.Os.get(n)||bt.min();a.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),l.Os.set(n,r)}class Iy{constructor(){this.activeTargetIds=NT()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class j2{constructor(){this.Mo=new Iy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,r){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,r){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Iy,Promise.resolve()}handleUserChange(n,a,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="ConnectivityMonitor";class My{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Oy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){lt(Oy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=null;function Uf(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===Bu?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(n,a,r,u,h){const d=Uf(),y=this.zo(n,a.toUriEncodedString());lt(ff,`Sending RPC '${n}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:E}=new URL(y),C=Pf(E);return this.Jo(n,y,_,r,C).then((N=>(lt(ff,`Received RPC '${n}' ${d}: `,N),N)),(N=>{throw cr(ff,`RPC '${n}' ${d} failed with error: `,N,"url: ",y,"request:",r),N}))}Ho(n,a,r,u,h,d){return this.Go(n,a,r,u,h)}jo(n,a,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vr})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,h)=>n[h]=u)),r&&r.headers.forEach(((u,h)=>n[h]=u))}zo(n,a){const r=U2[n];return`${this.Uo}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class k2 extends L2{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,r,u,h){const d=Uf();return new Promise(((y,_)=>{const E=new m0;E.setWithCredentials(!0),E.listenOnce(g0.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Du.NO_ERROR:const N=E.getResponseJson();lt(Ge,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(N)),y(N);break;case Du.TIMEOUT:lt(Ge,`RPC '${n}' ${d} timed out`),_(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const j=E.getStatus();if(lt(Ge,`RPC '${n}' ${d} failed with status:`,j,"response text:",E.getResponseText()),j>0){let Q=E.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q==null?void 0:Q.error;if($&&$.status&&$.message){const et=(function(Et){const at=Et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(at)>=0?at:J.UNKNOWN})($.status);_(new dt(et,$.message))}else _(new dt(J.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new dt(J.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:n,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{lt(Ge,`RPC '${n}' ${d} completed.`)}}));const C=JSON.stringify(u);lt(Ge,`RPC '${n}' ${d} sending request:`,u),E.send(a,"POST",C,r,15)}))}T_(n,a,r){const u=Uf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=v0(),y=y0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,a,r),_.encodeInitMessageHeaders=!0;const C=h.join("");lt(Ge,`Creating RPC '${n}' stream ${u}: ${C}`,_);const N=d.createWebChannel(C,_);this.I_(N);let j=!1,Q=!1;const $=new B2({Yo:W=>{Q?lt(Ge,`Not sending because RPC '${n}' stream ${u} is closed:`,W):(j||(lt(Ge,`Opening RPC '${n}' stream ${u} transport.`),N.open(),j=!0),lt(Ge,`RPC '${n}' stream ${u} sending:`,W),N.send(W))},Zo:()=>N.close()}),et=(W,Et,at)=>{W.listen(Et,(mt=>{try{at(mt)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return et(N,wl.EventType.OPEN,(()=>{Q||(lt(Ge,`RPC '${n}' stream ${u} transport opened.`),$.o_())})),et(N,wl.EventType.CLOSE,(()=>{Q||(Q=!0,lt(Ge,`RPC '${n}' stream ${u} transport closed`),$.a_(),this.E_(N))})),et(N,wl.EventType.ERROR,(W=>{Q||(Q=!0,cr(Ge,`RPC '${n}' stream ${u} transport errored. Name:`,W.name,"Message:",W.message),$.a_(new dt(J.UNAVAILABLE,"The operation could not be completed")))})),et(N,wl.EventType.MESSAGE,(W=>{var Et;if(!Q){const at=W.data[0];se(!!at,16349);const mt=at,nt=(mt==null?void 0:mt.error)||((Et=mt[0])==null?void 0:Et.error);if(nt){lt(Ge,`RPC '${n}' stream ${u} received error:`,nt);const ft=nt.status;let ct=(function(x){const I=xe[x];if(I!==void 0)return H0(I)})(ft),w=nt.message;ct===void 0&&(ct=J.INTERNAL,w="Unknown error status: "+ft+" with message "+nt.message),Q=!0,$.a_(new dt(ct,w)),N.close()}else lt(Ge,`RPC '${n}' stream ${u} received:`,at),$.u_(at)}})),et(y,p0.STAT_EVENT,(W=>{W.stat===Tf.PROXY?lt(Ge,`RPC '${n}' stream ${u} detected buffering proxy`):W.stat===Tf.NOPROXY&&lt(Ge,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(l){return new YT(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(n,a,r=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=a,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,a-r);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="PersistentStream";class q2{constructor(n,a,r,u,h,d,y,_){this.Mi=n,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nv(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===J.RESOURCE_EXHAUSTED?(zi(a.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===a&&this.G_(r,u)}),(r=>{n((()=>{const u=new dt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(n,a){const r=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return lt(jy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(lt(jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends q2{constructor(n,a,r,u,h,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,u,d),this.serializer=h}j_(n,a){return this.connection.T_("Listen",n,a)}J_(n){return this.onNext(n)}onNext(n){this.M_.reset();const a=$T(this.serializer,n),r=(function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?or(d.readTime):bt.min()})(n);return this.listener.H_(a,r)}Y_(n){const a={};a.database=Ry(this.serializer),a.addTarget=(function(h,d){let y;const _=d.target;if(y=Df(_)?{documents:WT(h,_)}:{query:t2(h,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=XT(h,d.resumeToken);const E=Mf(h,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(bt.min())>0){y.readTime=KT(h,d.snapshotVersion.toTimestamp());const E=Mf(h,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,n);const r=n2(this.serializer,n);r&&(a.labels=r),this.q_(a)}Z_(n){const a={};a.database=Ry(this.serializer),a.removeTarget=n,this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class G2 extends P2{constructor(n,a,r,u){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(n,jf(a,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(J.UNKNOWN,h.toString())}))}Ho(n,a,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(n,jf(a,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q2{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(a),this.aa=!1):lt("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class F2{constructor(n,a,r,u,h){this.localStore=n,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Yl(this)&&(lt(gr,"Restarting streams for network reachability change."),await(async function(_){const E=Bt(_);E.Ea.add(4),await Fl(E),E.Ra.set("Unknown"),E.Ea.delete(4),await nc(E)})(this))}))})),this.Ra=new Q2(r,u)}}async function nc(l){if(Yl(l))for(const n of l.da)await n(!0)}async function Fl(l){for(const n of l.da)await n(!1)}function iv(l,n){const a=Bt(l);a.Ia.has(n.targetId)||(a.Ia.set(n.targetId,n),od(a)?ld(a):br(a).O_()&&rd(a,n))}function sd(l,n){const a=Bt(l),r=br(a);a.Ia.delete(n),r.O_()&&av(a,n),a.Ia.size===0&&(r.O_()?r.L_():Yl(a)&&a.Ra.set("Unknown"))}function rd(l,n){if(l.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(bt.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}br(l).Y_(n)}function av(l,n){l.Va.Ue(n),br(l).Z_(n)}function ld(l){l.Va=new PT({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),At:n=>l.Ia.get(n)||null,ht:()=>l.datastore.serializer.databaseId}),br(l).start(),l.Ra.ua()}function od(l){return Yl(l)&&!br(l).x_()&&l.Ia.size>0}function Yl(l){return Bt(l).Ea.size===0}function sv(l){l.Va=void 0}async function Y2(l){l.Ra.set("Online")}async function K2(l){l.Ia.forEach(((n,a)=>{rd(l,n)}))}async function X2(l,n){sv(l),od(l)?(l.Ra.ha(n),ld(l)):l.Ra.set("Unknown")}async function Z2(l,n,a){if(l.Ra.set("Online"),n instanceof G0&&n.state===2&&n.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(l,n)}catch(r){lt(gr,"Failed to remove targets %s: %s ",n.targetIds.join(","),r),await zy(l,r)}else if(n instanceof Ou?l.Va.Ze(n):n instanceof P0?l.Va.st(n):l.Va.tt(n),!a.isEqual(bt.min()))try{const r=await tv(l.localStore);a.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const C=h.Ia.get(E);C&&h.Ia.set(E,C.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,E)=>{const C=h.Ia.get(_);if(!C)return;h.Ia.set(_,C.withResumeToken(Pe.EMPTY_BYTE_STRING,C.snapshotVersion)),av(h,_);const N=new ya(C.target,_,E,C.sequenceNumber);rd(h,N)})),h.remoteSyncer.applyRemoteEvent(y)})(l,a)}catch(r){lt(gr,"Failed to raise snapshot:",r),await zy(l,r)}}async function zy(l,n,a){if(!_r(n))throw n;l.Ea.add(1),await Fl(l),l.Ra.set("Offline"),a||(a=()=>tv(l.localStore)),l.asyncQueue.enqueueRetryable((async()=>{lt(gr,"Retrying IndexedDB access"),await a(),l.Ea.delete(1),await nc(l)}))}async function Uy(l,n){const a=Bt(l);a.asyncQueue.verifyOperationInProgress(),lt(gr,"RemoteStore received new credentials");const r=Yl(a);a.Ea.add(3),await Fl(a),r&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await nc(a)}async function J2(l,n){const a=Bt(l);n?(a.Ea.delete(2),await nc(a)):n||(a.Ea.add(2),await Fl(a),a.Ra.set("Unknown"))}function br(l){return l.ma||(l.ma=(function(a,r,u){const h=Bt(a);return h.sa(),new H2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(l.datastore,l.asyncQueue,{Xo:Y2.bind(null,l),t_:K2.bind(null,l),r_:X2.bind(null,l),H_:Z2.bind(null,l)}),l.da.push((async n=>{n?(l.ma.B_(),od(l)?ld(l):l.Ra.set("Unknown")):(await l.ma.stop(),sv(l))}))),l.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(n,a,r,u,h){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,r,u,h){const d=Date.now()+r,y=new ud(n,a,d,u,h);return y.start(r),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(l,n){if(zi("AsyncQueue",`${n}: ${l}`),_r(l))return new dt(J.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{static emptySet(n){return new ur(n.comparator)}constructor(n){this.comparator=n?(a,r)=>n(a,r)||vt.comparator(a.key,r.key):(a,r)=>vt.comparator(a.key,r.key),this.keyedMap=Rl(),this.sortedSet=new ge(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal(((a,r)=>(n(a),!1)))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof ur)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;a.hasNext();){const u=a.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach((a=>{n.push(a.toString())})),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const r=new ur;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.ga=new ge(vt.comparator)}track(n){const a=n.doc.key,r=this.ga.get(a);r?n.type!==0&&r.type===3?this.ga=this.ga.insert(a,n):n.type===3&&r.type!==1?this.ga=this.ga.insert(a,{type:r.type,doc:n.doc}):n.type===2&&r.type===2?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):n.type===2&&r.type===0?this.ga=this.ga.insert(a,{type:0,doc:n.doc}):n.type===1&&r.type===0?this.ga=this.ga.remove(a):n.type===1&&r.type===2?this.ga=this.ga.insert(a,{type:1,doc:r.doc}):n.type===0&&r.type===1?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):St(63341,{Rt:n,pa:r}):this.ga=this.ga.insert(a,n)}ya(){const n=[];return this.ga.inorderTraversal(((a,r)=>{n.push(r)})),n}}class pr{constructor(n,a,r,u,h,d,y,_,E){this.query=n,this.docs=a,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(n,a,r,u,h){const d=[];return a.forEach((y=>{d.push({type:0,doc:y})})),new pr(n,a,ur.emptySet(a),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ju(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,r=n.docChanges;if(a.length!==r.length)return!1;for(let u=0;u<a.length;u++)if(a[u].type!==r[u].type||!a[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((n=>n.Da()))}}class W2{constructor(){this.queries=By(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,r){const u=Bt(a),h=u.queries;u.queries=By(),h.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function By(){return new fs((l=>O0(l)),Ju)}async function tS(l,n){const a=Bt(l);let r=3;const u=n.query;let h=a.queries.get(u);h?!h.ba()&&n.Da()&&(r=2):(h=new $2,r=n.Da()?0:1);try{switch(r){case 0:h.wa=await a.onListen(u,!0);break;case 1:h.wa=await a.onListen(u,!1);break;case 2:await a.onFirstRemoteStoreListen(u)}}catch(d){const y=rv(d,`Initialization of query '${ar(n.query)}' failed`);return void n.onError(y)}a.queries.set(u,h),h.Sa.push(n),n.va(a.onlineState),h.wa&&n.Fa(h.wa)&&cd(a)}async function eS(l,n){const a=Bt(l),r=n.query;let u=3;const h=a.queries.get(r);if(h){const d=h.Sa.indexOf(n);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=n.Da()?0:1:!h.ba()&&n.Da()&&(u=2))}switch(u){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function nS(l,n){const a=Bt(l);let r=!1;for(const u of n){const h=u.query,d=a.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(r=!0);d.wa=u}}r&&cd(a)}function iS(l,n,a){const r=Bt(l),u=r.queries.get(n);if(u)for(const h of u.Sa)h.onError(a);r.queries.delete(n)}function cd(l){l.Ca.forEach((n=>{n.next()}))}var Lf,ky;(ky=Lf||(Lf={})).Ma="default",ky.Cache="cache";class aS{constructor(n,a,r){this.query=n,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(n){if(!this.options.includeMetadataChanges){const r=[];for(const u of n.docChanges)u.type!==3&&r.push(u);n=new pr(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),a=!0):this.La(n,this.onlineState)&&(this.ka(n),a=!0),this.Na=n,a}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),a=!0),a}La(n,a){if(!n.fromCache||!this.Da())return!0;const r=a!=="Offline";return(!this.options.qa||!r)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}Ba(n){if(n.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(n){n=pr.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==Lf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(n){this.key=n}}class ov{constructor(n){this.key=n}}class sS{constructor(n,a){this.query=n,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=M0(n),this.tu=new ur(this.eu)}get nu(){return this.Ya}ru(n,a){const r=a?a.iu:new Ly,u=a?a.tu:this.tu;let h=a?a.mutatedKeys:this.mutatedKeys,d=u,y=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,E=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal(((C,N)=>{const j=u.get(C),Q=$u(this.query,N)?N:null,$=!!j&&this.mutatedKeys.has(j.key),et=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;j&&Q?j.data.isEqual(Q.data)?$!==et&&(r.track({type:3,doc:Q}),W=!0):this.su(j,Q)||(r.track({type:2,doc:Q}),W=!0,(_&&this.eu(Q,_)>0||E&&this.eu(Q,E)<0)&&(y=!0)):!j&&Q?(r.track({type:0,doc:Q}),W=!0):j&&!Q&&(r.track({type:1,doc:j}),W=!0,(_||E)&&(y=!0)),W&&(Q?(d=d.add(Q),h=et?h.add(C):h.delete(C)):(d=d.delete(C),h=h.delete(C)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const C=this.query.limitType==="F"?d.last():d.first();d=d.delete(C.key),h=h.delete(C.key),r.track({type:1,doc:C})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,r,u){const h=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const d=n.iu.ya();d.sort(((C,N)=>(function(Q,$){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:W})}};return et(Q)-et($)})(C.type,N.type)||this.eu(C.doc,N.doc))),this.ou(r),u=u??!1;const y=a&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,E=_!==this.Za;return this.Za=_,d.length!==0||E?{snapshot:new pr(this.query,n.tu,h,d,n.mutatedKeys,_===0,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ly,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(n){return!this.Ya.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),n.modifiedDocuments.forEach((a=>{})),n.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const a=[];return n.forEach((r=>{this.Xa.has(r)||a.push(new ov(r))})),this.Xa.forEach((r=>{n.has(r)||a.push(new lv(r))})),a}cu(n){this.Ya=n.Qs,this.Xa=kt();const a=this.ru(n.documents);return this.applyChanges(a,!0)}lu(){return pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hd="SyncEngine";class rS{constructor(n,a,r){this.query=n,this.targetId=a,this.view=r}}class lS{constructor(n){this.key=n,this.hu=!1}}class oS{constructor(n,a,r,u,h,d){this.localStore=n,this.remoteStore=a,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fs((y=>O0(y)),Ju),this.Iu=new Map,this.Eu=new Set,this.du=new ge(vt.comparator),this.Au=new Map,this.Ru=new ed,this.Vu={},this.mu=new Map,this.fu=mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uS(l,n,a=!0){const r=dv(l);let u;const h=r.Tu.get(n);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await uv(r,n,a,!0),u}async function cS(l,n){const a=dv(l);await uv(a,n,!0,!1)}async function uv(l,n,a,r){const u=await O2(l.localStore,di(n)),h=u.targetId,d=l.sharedClientState.addLocalQueryTarget(h,a);let y;return r&&(y=await hS(l,n,h,d==="current",u.resumeToken)),l.isPrimaryClient&&a&&iv(l.remoteStore,u),y}async function hS(l,n,a,r,u){l.pu=(N,j,Q)=>(async function(et,W,Et,at){let mt=W.view.ru(Et);mt.Cs&&(mt=await Vy(et.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,mt))));const nt=at&&at.targetChanges.get(W.targetId),ft=at&&at.targetMismatches.get(W.targetId)!=null,ct=W.view.applyChanges(mt,et.isPrimaryClient,nt,ft);return Hy(et,W.targetId,ct.au),ct.snapshot})(l,N,j,Q);const h=await Vy(l.localStore,n,!0),d=new sS(n,h.Qs),y=d.ru(h.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(a,r&&l.onlineState!=="Offline",u),E=d.applyChanges(y,l.isPrimaryClient,_);Hy(l,a,E.au);const C=new rS(n,a,d);return l.Tu.set(n,C),l.Iu.has(a)?l.Iu.get(a).push(n):l.Iu.set(a,[n]),E.snapshot}async function fS(l,n,a){const r=Bt(l),u=r.Tu.get(n),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!Ju(d,n)))),void r.Tu.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await zf(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),a&&sd(r.remoteStore,u.targetId),Bf(r,u.targetId)})).catch(Fu)):(Bf(r,u.targetId),await zf(r.localStore,u.targetId,!0))}async function dS(l,n){const a=Bt(l),r=a.Tu.get(n),u=a.Iu.get(r.targetId);a.isPrimaryClient&&u.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),sd(a.remoteStore,r.targetId))}async function cv(l,n){const a=Bt(l);try{const r=await V2(a.localStore,n);n.targetChanges.forEach(((u,h)=>{const d=a.Au.get(h);d&&(se(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?se(d.hu,14607):u.removedDocuments.size>0&&(se(d.hu,42227),d.hu=!1))})),await fv(a,r,n)}catch(r){await Fu(r)}}function qy(l,n,a){const r=Bt(l);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(n);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const _=Bt(d);_.onlineState=y;let E=!1;_.queries.forEach(((C,N)=>{for(const j of N.Sa)j.va(y)&&(E=!0)})),E&&cd(_)})(r.eventManager,n),u.length&&r.Pu.H_(u),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function mS(l,n,a){const r=Bt(l);r.sharedClientState.updateQueryState(n,"rejected",a);const u=r.Au.get(n),h=u&&u.key;if(h){let d=new ge(vt.comparator);d=d.insert(h,Fe.newNoDocument(h,bt.min()));const y=kt().add(h),_=new ec(bt.min(),new Map,new ge(jt),d,y);await cv(r,_),r.du=r.du.remove(h),r.Au.delete(n),fd(r)}else await zf(r.localStore,n,!1).then((()=>Bf(r,n,a))).catch(Fu)}function Bf(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const r of l.Iu.get(n))l.Tu.delete(r),a&&l.Pu.yu(r,a);l.Iu.delete(n),l.isPrimaryClient&&l.Ru.jr(n).forEach((r=>{l.Ru.containsKey(r)||hv(l,r)}))}function hv(l,n){l.Eu.delete(n.path.canonicalString());const a=l.du.get(n);a!==null&&(sd(l.remoteStore,a),l.du=l.du.remove(n),l.Au.delete(a),fd(l))}function Hy(l,n,a){for(const r of a)r instanceof lv?(l.Ru.addReference(r.key,n),gS(l,r)):r instanceof ov?(lt(hd,"Document no longer in limbo: "+r.key),l.Ru.removeReference(r.key,n),l.Ru.containsKey(r.key)||hv(l,r.key)):St(19791,{wu:r})}function gS(l,n){const a=n.key,r=a.path.canonicalString();l.du.get(a)||l.Eu.has(r)||(lt(hd,"New document in limbo: "+a),l.Eu.add(r),fd(l))}function fd(l){for(;l.Eu.size>0&&l.du.size<l.maxConcurrentLimboResolutions;){const n=l.Eu.values().next().value;l.Eu.delete(n);const a=new vt(ae.fromString(n)),r=l.fu.next();l.Au.set(r,new lS(a)),l.du=l.du.insert(a,r),iv(l.remoteStore,new ya(di(Jf(a.path)),r,"TargetPurposeLimboResolution",Yu.ce))}}async function fv(l,n,a){const r=Bt(l),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,n,a).then((E=>{var C;if((E||a)&&r.isPrimaryClient){const N=E?!E.fromCache:(C=a==null?void 0:a.targetChanges.get(_.targetId))==null?void 0:C.current;r.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(E){u.push(E);const N=id.As(_.targetId,E);h.push(N)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(_,E){const C=Bt(_);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Y.forEach(E,(j=>Y.forEach(j.Es,(Q=>C.persistence.referenceDelegate.addReference(N,j.targetId,Q))).next((()=>Y.forEach(j.ds,(Q=>C.persistence.referenceDelegate.removeReference(N,j.targetId,Q)))))))))}catch(N){if(!_r(N))throw N;lt(ad,"Failed to update sequence numbers: "+N)}for(const N of E){const j=N.targetId;if(!N.fromCache){const Q=C.Ms.get(j),$=Q.snapshotVersion,et=Q.withLastLimboFreeSnapshotVersion($);C.Ms=C.Ms.insert(j,et)}}})(r.localStore,h))}async function pS(l,n){const a=Bt(l);if(!a.currentUser.isEqual(n)){lt(hd,"User change. New user:",n.toKey());const r=await W0(a.localStore,n);a.currentUser=n,(function(h,d){h.mu.forEach((y=>{y.forEach((_=>{_.reject(new dt(J.CANCELLED,d))}))})),h.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await fv(a,r.Ls)}}function yS(l,n){const a=Bt(l),r=a.Au.get(n);if(r&&r.hu)return kt().add(r.key);{let u=kt();const h=a.Iu.get(n);if(!h)return u;for(const d of h){const y=a.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function dv(l){const n=Bt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=yS.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=mS.bind(null,n),n.Pu.H_=nS.bind(null,n.eventManager),n.Pu.yu=iS.bind(null,n.eventManager),n}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=ev(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return D2(this.persistence,new R2,n.initialUser,this.serializer)}Cu(n){return new $0(nd.mi,this.serializer)}Du(n){return new j2}async terminate(){var n,a;(n=this.gcScheduler)==null||n.stop(),(a=this.indexBackfillerScheduler)==null||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class vS extends Qu{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){se(this.persistence.referenceDelegate instanceof Gu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new f2(r,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new $0((r=>Gu.mi(r,a)),this.serializer)}}class kf{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pS.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new W2})()}createDatastore(n){const a=ev(n.databaseInfo.databaseId),r=(function(h){return new k2(h)})(n.databaseInfo);return(function(h,d,y,_){return new G2(h,d,y,_)})(n.authCredentials,n.appCheckCredentials,r,a)}createRemoteStore(n){return(function(r,u,h,d,y){return new F2(r,u,h,d,y)})(this.localStore,this.datastore,n.asyncQueue,(a=>qy(this.syncEngine,a,0)),(function(){return My.v()?new My:new z2})())}createSyncEngine(n,a){return(function(u,h,d,y,_,E,C){const N=new oS(u,h,d,y,_,E);return C&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await(async function(u){const h=Bt(u);lt(gr,"RemoteStore shutting down."),h.Ea.add(5),await Fl(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(n=this.datastore)==null||n.terminate(),(a=this.eventManager)==null||a.terminate()}}kf.provider={build:()=>new kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):zi("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,a){setTimeout((()=>{this.muted||n(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class bS{constructor(n,a,r,u,h){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=Ff.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{lt(Ca,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(lt(Ca,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const r=rv(a,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}async function mf(l,n){l.asyncQueue.verifyOperationInProgress(),lt(Ca,"Initializing OfflineComponentProvider");const a=l.configuration;await n.initialize(a);let r=a.initialUser;l.setCredentialChangeListener((async u=>{r.isEqual(u)||(await W0(n.localStore,u),r=u)})),n.persistence.setDatabaseDeletedListener((()=>l.terminate())),l._offlineComponents=n}async function Py(l,n){l.asyncQueue.verifyOperationInProgress();const a=await ES(l);lt(Ca,"Initializing OnlineComponentProvider"),await n.initialize(a,l.configuration),l.setCredentialChangeListener((r=>Uy(n.remoteStore,r))),l.setAppCheckTokenChangeListener(((r,u)=>Uy(n.remoteStore,u))),l._onlineComponents=n}async function ES(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){lt(Ca,"Using user provided OfflineComponentProvider");try{await mf(l,l._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(u){return u.name==="FirebaseError"?u.code===J.FAILED_PRECONDITION||u.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(a))throw a;cr("Error using user provided cache. Falling back to memory cache: "+a),await mf(l,new Qu)}}else lt(Ca,"Using default OfflineComponentProvider"),await mf(l,new vS(void 0));return l._offlineComponents}async function TS(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(lt(Ca,"Using user provided OnlineComponentProvider"),await Py(l,l._uninitializedComponentsProvider._online)):(lt(Ca,"Using default OnlineComponentProvider"),await Py(l,new kf))),l._onlineComponents}async function SS(l){const n=await TS(l),a=n.eventManager;return a.onListen=uS.bind(null,n.syncEngine),a.onUnlisten=fS.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=cS.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=dS.bind(null,n.syncEngine),a}function AS(l,n,a={}){const r=new os;return l.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,_,E){const C=new _S({next:j=>{C.Nu(),d.enqueueAndForget((()=>eS(h,N)));const Q=j.docs.has(y);!Q&&j.fromCache?E.reject(new dt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&j.fromCache&&_&&_.source==="server"?E.reject(new dt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(j)},error:j=>E.reject(j)}),N=new aS(Jf(y.path),C,{includeMetadataChanges:!0,qa:!0});return tS(h,N)})(await SS(l),l.asyncQueue,n,a,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="firestore.googleapis.com",Qy=!0;class Fy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gv,this.ssl=Qy}else this.host=n.host,this.ssl=n.ssl??Qy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=J0;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<c2)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}GE("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mv(n.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class dd{constructor(n,a,r,u){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OE;switch(r.type){case"firstParty":return new UE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=Gy.get(a);r&&(lt("ComponentProvider","Removing Datastore"),Gy.delete(a),r.terminate())})(this),Promise.resolve()}}function xS(l,n,a,r={}){var E;l=Af(l,dd);const u=Pf(n),h=l._getSettings(),d={...h,emulatorOptions:l._getEmulatorOptions()},y=`${n}:${a}`;u&&(sb(`https://${y}`),ub("Firestore",!0)),h.host!==gv&&h.host!==y&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:u,emulatorOptions:r};if(!zu(_,d)&&(l._setSettings(_),r.mockUserToken)){let C,N;if(typeof r.mockUserToken=="string")C=r.mockUserToken,N=Qe.MOCK_USER;else{C=rb(r.mockUserToken,(E=l._app)==null?void 0:E.options.projectId);const j=r.mockUserToken.sub||r.mockUserToken.user_id;if(!j)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Qe(j)}l._authCredentials=new ME(new b0(C,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(n,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new md(this.firestore,n,this._query)}}class Je{constructor(n,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Je(this.firestore,n,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,r){if(Pl(a,Je._jsonSchema))return new Je(n,r||null,new vt(ae.fromString(a.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:Re("string",Je._jsonSchemaVersion),referencePath:Re("string")};class Hl extends md{constructor(n,a,r){super(n,a,Jf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Je(this.firestore,null,new vt(n))}withConverter(n){return new Hl(this.firestore,n,this._path)}}function wS(l,n,...a){if(l=vb(l),arguments.length===1&&(n=Ff.newId()),PE("doc","path",n),l instanceof dd){const r=ae.fromString(n,...a);return sy(r),new Je(l,null,new vt(r))}{if(!(l instanceof Je||l instanceof Hl))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(ae.fromString(n,...a));return sy(r),new Je(l.firestore,l instanceof Hl?l.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="AsyncQueue";class Ky{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nv(this,"async_queue_retry"),this._c=()=>{const r=df();r&&lt(Yy,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=n;const a=df();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=df();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!_r(n))throw n;lt(Yy,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((r=>{throw this.nc=r,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",Xy(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=a,a}enqueueAfterDelay(n,a,r){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const u=ud.createAndSchedule(this,n,a,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&St(47125,{Pc:Xy(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function Xy(l){let n=l.message||"";return l.stack&&(n=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),n}class pv extends dd{constructor(n,a,r,u){super(n,a,r,u),this.type="firestore",this._queue=new Ky,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Ky(n),this._firestoreClient=void 0,await n}}}function RS(l,n){const a=typeof l=="object"?l:bE(),r=typeof l=="string"?l:Bu,u=gE(a,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=ib("firestore");h&&xS(u,...h)}return u}function CS(l){if(l._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||NS(l),l._firestoreClient}function NS(l){var r,u,h;const n=l._freezeSettings(),a=(function(y,_,E,C){return new aT(y,_,E,C.host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,mv(C.experimentalLongPollingOptions),C.useFetchStreams,C.isUsingEmulator)})(l._databaseId,((r=l._app)==null?void 0:r.options.appId)||"",l._persistenceKey,n);l._componentsProvider||(u=n.localCache)!=null&&u._offlineComponentProvider&&((h=n.localCache)!=null&&h._onlineComponentProvider)&&(l._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),l._firestoreClient=new bS(l._authCredentials,l._appCheckCredentials,l._queue,a,l._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(n){this._byteString=n}static fromBase64String(n){try{return new fi(Pe.fromBase64String(n))}catch(a){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new fi(Pe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(Pl(n,fi._jsonSchema))return fi.fromBase64String(n.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Re("string",fi._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return jt(this._lat,n._lat)||jt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(n){if(Pl(n,Ea._jsonSchema))return new Ea(n.latitude,n.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:Re("string",Ea._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(Pl(n,Ta._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new Ta(n.vectorValues);throw new dt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:Re("string",Ta._jsonSchemaVersion),vectorValues:Re("object")};const DS=new RegExp("[~\\*/\\[\\]]");function VS(l,n,a){if(n.search(DS)>=0)throw Zy(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new yv(...n.split("."))._internalPath}catch{throw Zy(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function Zy(l,n,a,r,u){let h=`Function ${n}() called with invalid data`;h+=". ";let d="";return new dt(J.INVALID_ARGUMENT,h+l+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(n,a,r,u,h){this._firestore=n,this._userDataWriter=a,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new IS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(_v("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class IS extends vv{data(){return super.data()}}function _v(l,n){return typeof n=="string"?VS(l,n):n instanceof yv?n._internalPath:n._delegate._internalPath}class OS{convertValue(n,a="none"){switch(wa(n)){case 0:return null;case 1:return n.booleanValue;case 2:return me(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(xa(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw St(62114,{value:n})}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const r={};return Gl(n,((u,h)=>{r[u]=this.convertValue(h,a)})),r}convertVectorValue(n){var r,u,h;const a=(h=(u=(r=n.fields)==null?void 0:r[wf].arrayValue)==null?void 0:u.values)==null?void 0:h.map((d=>me(d.doubleValue)));return new Ta(a)}convertGeoPoint(n){return new Ea(me(n.latitude),me(n.longitude))}convertArray(n,a){return(n.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(n,a){switch(a){case"previous":const r=Xu(n);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(Bl(n));default:return null}}convertTimestamp(n){const a=Aa(n);return new we(a.seconds,a.nanos)}convertDocumentKey(n,a){const r=ae.fromString(n);se(Z0(r),9688,{name:n});const u=new kl(r.get(1),r.get(3)),h=new vt(r.popFirst(5));return u.isEqual(a)||zi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),h}}class Nl{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class cs extends vv{constructor(n,a,r,u,h,d){super(n,a,r,u,d),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const r=this._document.data.field(_v("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=cs._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Re("string",cs._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Mu extends cs{data(n={}){return super.data(n)}}class jl{constructor(n,a,r,u){this._firestore=n,this._userDataWriter=a,this._snapshot=u,this.metadata=new Nl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((r=>{n.call(a,new Mu(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const _=new Mu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Nl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new Mu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Nl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let E=-1,C=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),C=d.indexOf(y.doc.key)),{type:MS(y.type),doc:_,oldIndex:E,newIndex:C}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=jl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=Ff.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(a.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function MS(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(l){l=Af(l,Je);const n=Af(l.firestore,pv);return AS(CS(n),l._key).then((a=>US(n,l,a)))}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:Re("string",jl._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class zS extends OS{constructor(n){super(),this.firestore=n}convertBytes(n){return new fi(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new Je(this.firestore,null,a)}}function US(l,n,a){const r=a.docs.get(n._key),u=new zS(l);return new cs(l,u,n._key,r,new Nl(a.hasPendingWrites,a.fromCache),n.converter)}(function(n,a=!0){(function(u){vr=u})(_E),Lu(new zl("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new pv(new jE(r.getProvider("auth-internal")),new LE(d,r.getProvider("app-check-internal")),(function(E,C){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(E.options.projectId,C)})(d,u),d);return h={useFetchStreams:a,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),lr(ey,ny,n),lr(ey,ny,"esm2020")})();const LS={apiKey:"AIzaSyBuXvn88ZLD3NOS32IJeEr2CsyCxshUQcM",authDomain:"pronunciation-examination.firebaseapp.com",projectId:"pronunciation-examination",storageBucket:"pronunciation-examination.firebasestorage.app",messagingSenderId:"1076942783492",appId:"1:1076942783492:web:3da71f597ad3fa68d4a151",measurementId:"G-LK73P1LZ7Y"},BS=c0(LS),kS=RS(BS),qS=async(l,n)=>{try{const a=wS(kS,"Cedar",l),r=await jS(a);return!!(r.exists()&&r.data().Password===n)}catch(a){return console.error("Auth error:",a),!1}},HS=({onLogin:l})=>{const[n,a]=rt.useState(""),[r,u]=rt.useState(""),[h,d]=rt.useState(!1),[y,_]=rt.useState(""),[E,C]=rt.useState(!1),N=async j=>{if(j.preventDefault(),_(""),C(!0),!n||!r){_("Please fill in all fields"),C(!1);return}await qS(n,r)?l(n):_("Authentication failed. Check your name and password format."),C(!1)};return T.jsxs("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4 relative overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-900/20 rounded-full blur-[120px]"}),T.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-900/10 rounded-full blur-[120px]"})]}),T.jsxs("div",{className:"relative z-10 w-full max-w-md bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[T.jsx("div",{className:"flex flex-col items-center mb-8",children:T.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight text-center uppercase",children:["PRONUNCIATION",T.jsx("br",{}),T.jsx("span",{className:"text-xl",children:"(THE EXAMINATION)"})]})}),T.jsxs("form",{onSubmit:N,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"fullName",className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Full Name"}),T.jsx("input",{id:"fullName",name:"fullName",type:"text",value:n,onChange:j=>a(j.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Asep Sadboy"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{id:"password",name:"password",type:h?"text":"password",value:r,onChange:j=>u(j.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Siluman, March 13, 2013"}),T.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-500 transition-colors focus:outline-none",title:h?"Hide password":"Show password",children:h?T.jsx(S1,{className:"w-5 h-5"}):T.jsx(x1,{className:"w-5 h-5"})})]}),T.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Format: Place, Month Day, Year"})]}),y&&T.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-sm p-3 rounded-lg",children:y}),T.jsx("button",{type:"submit",disabled:E,className:"w-full bg-amber-600 hover:bg-amber-500 text-black font-bold py-3.5 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:shadow-[0_0_20px_rgba(245,158,11,0.5)]",children:E?"AUTHENTICATING...":"ENTER STUDIO"})]})]})]})},bv=rt.forwardRef(({user:l,onStart:n,onDeviceStatusUpdate:a},r)=>{const u=rt.useRef(null),h=rt.useRef(null),d=rt.useRef({toggleVideo:()=>{},toggleAudio:()=>{}}),[y,_]=rt.useState(!1),[E,C]=rt.useState(!1),[N,j]=rt.useState(!1),[Q,$]=rt.useState(!1),[et,W]=rt.useState(!1),Et=nt=>{if(!nt){_(!1),C(!1),$(!1),W(!1);return}const ft=nt.getVideoTracks(),ct=nt.getAudioTracks(),w=ft.length>0,S=ct.length>0,x=w&&ft.some(A=>A.readyState==="live"),I=S&&ct.some(A=>A.readyState==="live"),D=w&&ft.some(A=>A.readyState==="ended"),O=S&&ct.some(A=>A.readyState==="ended");if(D||O){console.warn(" Dashboard: Detected ended tracks, attempting recovery"),at();return}if(_(x),C(I),w){const A=ft[0];$(A.enabled)}else $(!1);if(S){const A=ct[0];W(A.enabled)}else W(!1);console.log("Status Check -> Video:",{hasTrack:w,isLive:x,enabled:w?ft[0].enabled:!1,ready:x},"Audio:",{hasTrack:S,isLive:I,enabled:S?ct[0].enabled:!1,ready:I})},at=async()=>{try{j(!1),h.current&&h.current.getTracks().forEach(S=>S.stop());let nt=null,ft=null,ct=!1,w=!1;try{nt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user",frameRate:{ideal:30}}}),ct=!0}catch(S){console.warn("Camera access denied:",S),_(!1),$(!1)}try{ft=await navigator.mediaDevices.getUserMedia({audio:!0}),w=!0}catch(S){console.warn("Microphone access denied:",S),C(!1),W(!1)}if(nt||ft){const S=new MediaStream;nt&&nt.getTracks().forEach(x=>S.addTrack(x)),ft&&ft.getTracks().forEach(x=>S.addTrack(x)),h.current=S,Et(S),u.current&&(u.current.srcObject=S)}else j(!0),_(!1),C(!1),$(!1),W(!1)}catch(nt){console.error("Device access error:",nt),j(!0),_(!1),C(!1),$(!1),W(!1)}};rt.useEffect(()=>{const ft=setInterval(()=>{h.current&&(!y||!E)&&(console.log("Devices disconnected, attempting reconnect..."),at())},5e3);return()=>clearInterval(ft)},[h.current,y,E]),rt.useEffect(()=>{var nt;console.log(" Dashboard: Updating parent with device status"),console.log(" Dashboard: Status update:",{videoReady:y,audioReady:E,videoEnabled:Q,audioEnabled:et,hasStream:!!h.current,streamActive:(nt=h.current)==null?void 0:nt.active}),a&&a(y,E,Q,et,h.current)},[y,E,Q,et,a]),rt.useEffect(()=>{console.log(" Dashboard: Component mounted, waiting for user interaction...")},[]),rt.useEffect(()=>{if(!h.current)return;const nt=()=>{Et(h.current)};return h.current.getTracks().forEach(ft=>{ft.onmute=nt,ft.onunmute=nt,ft.onended=nt;try{ft.addEventListener("enabled",nt),ft.addEventListener("disabled",nt)}catch(ct){console.warn("Track enabled/disabled events not supported:",ct)}}),()=>{h.current&&h.current.getTracks().forEach(ft=>{ft.onmute=null,ft.onunmute=null,ft.onended=null;try{ft.removeEventListener("enabled",nt),ft.removeEventListener("disabled",nt)}catch{}})}},[h.current]),rt.useEffect(()=>{u.current&&h.current&&(u.current.srcObject=h.current)},[h.current,y]),rt.useEffect(()=>{if(!h.current)return;const nt=setInterval(()=>{Et(h.current)},2e3);return()=>clearInterval(nt)},[]),rt.useEffect(()=>()=>{console.log(" Dashboard: Cleaning up on unmount"),h.current&&(h.current.getTracks().forEach(nt=>{console.log(` Stopping track: ${nt.kind} (${nt.label})`),nt.stop(),nt.enabled=!1}),h.current=null),u.current&&(u.current.srcObject=null)},[]);const mt=y&&E&&Q&&et;return rt.useImperativeHandle(r,()=>{const nt=()=>{if(console.log("Toggle Video clicked (useImperativeHandle)"),h.current){const ct=h.current.getVideoTracks();console.log("Video tracks found:",ct.length),ct.forEach((w,S)=>{const x=w.enabled;w.enabled=!w.enabled,console.log(`Video track ${S}: ${x} -> ${w.enabled}`)}),Et(h.current)}else console.log("No stream available for video toggle")},ft=()=>{if(console.log("Toggle Audio clicked (useImperativeHandle)"),h.current){const ct=h.current.getAudioTracks();console.log("Audio tracks found:",ct.length),ct.forEach((w,S)=>{const x=w.enabled;w.enabled=!w.enabled,console.log(`Audio track ${S}: ${x} -> ${w.enabled}`)}),Et(h.current)}else console.log("No stream available for audio toggle")};return d.current.toggleVideo=nt,d.current.toggleAudio=ft,{reloadDevices:at,toggleVideo:nt,toggleAudio:ft,getMediaStream:()=>h.current}},[]),rt.useEffect(()=>{console.log("Updating selfRef with new toggle functions");const nt=()=>{if(console.log("Toggle Video clicked (selfRef update)"),h.current){const ct=h.current.getVideoTracks();console.log("Video tracks found (selfRef):",ct.length),ct.forEach((w,S)=>{const x=w.enabled;w.enabled=!w.enabled,console.log(`Video track ${S} (selfRef): ${x} -> ${w.enabled}`)}),Et(h.current)}else console.log("No stream available for video toggle (selfRef)")},ft=()=>{if(console.log("Toggle Audio clicked (selfRef update)"),h.current){const ct=h.current.getAudioTracks();console.log("Audio tracks found (selfRef):",ct.length),ct.forEach((w,S)=>{const x=w.enabled;w.enabled=!w.enabled,console.log(`Audio track ${S} (selfRef): ${x} -> ${w.enabled}`)}),Et(h.current)}else console.log("No stream available for audio toggle (selfRef)")};d.current.toggleVideo=nt,d.current.toggleAudio=ft,console.log("selfRef updated successfully")},[]),T.jsxs("div",{className:"flex flex-col h-full text-white",children:[T.jsxs("div",{className:"mb-8",children:[T.jsxs("h2",{className:"text-3xl font-bold text-white mb-1",children:["Welcome, ",T.jsx("span",{className:"text-amber-500",children:l.fullName})]}),T.jsx("p",{className:"text-gray-400",children:"Please review the examination rules and check your equipment."})]}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 flex-grow",children:[T.jsx("div",{className:"lg:w-1/2 space-y-6",children:T.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 p-6 rounded-xl",children:[T.jsxs("h3",{className:"text-amber-500 font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[T.jsx(e0,{className:"w-5 h-5"}),"Examination Rules"]}),T.jsxs("ul",{className:"space-y-4 text-gray-300",children:[T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"1"}),T.jsx("span",{children:"The exam consists of 3 consecutive sessions."})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"2"}),T.jsxs("span",{children:["Each session has a strict ",T.jsx("strong",{children:"1-minute"})," time limit."]})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"3"}),T.jsx("span",{children:"Recording starts automatically. Speak clearly."})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"4"}),T.jsx("span",{children:"There are short breaks between sessions."})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"5"}),T.jsx("span",{children:"At the end, you must download your 3 recordings."})]})]})]})}),T.jsxs("div",{className:"lg:w-1/2 flex flex-col",children:[T.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden border border-gray-800 shadow-xl flex-grow min-h-[200px] flex flex-col",children:[T.jsxs("div",{className:"relative flex-grow bg-black",children:[h.current?T.jsx("video",{ref:u,autoPlay:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover transform scale-x-[-1] transition-opacity duration-300 ${y?"opacity-100":"opacity-30"}`}):T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx(Nu,{className:"w-16 h-16 text-gray-800"})}),h.current&&T.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2 z-10",children:[T.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${Q?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[Q?T.jsx(Nu,{className:"w-3 h-3"}):T.jsx(pf,{className:"w-3 h-3"}),Q?"CAMERA ON":"CAMERA OFF"]}),T.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${et?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[et?T.jsx(qf,{className:"w-3 h-3"}):T.jsx(Hp,{className:"w-3 h-3"}),et?"MIC ON":"MIC OFF"]})]}),h.current&&(!Q||!et)&&T.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm z-0 p-4 pointer-events-none",children:T.jsxs("div",{className:"flex flex-col gap-2",children:[!Q&&T.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[T.jsx(pf,{className:"w-5 h-5"})," CAMERA OFF"]}),!et&&T.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[T.jsx(Hp,{className:"w-5 h-5"})," MIC OFF"]})]})})]}),T.jsx("div",{className:"bg-gray-900 border-t border-gray-800 p-4",children:h.current?T.jsx("div",{className:"flex justify-between items-center",children:T.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:[T.jsx(n0,{className:"w-3 h-3"}),T.jsx("span",{children:"Smart monitoring"})]})}):T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Click below to enable camera and microphone"}),N&&T.jsx("p",{className:"text-red-500 mt-2 text-xs",children:"Permission denied. Check browser settings."}),T.jsxs("button",{onClick:at,className:"mt-3 w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition-all flex items-center justify-center gap-2 mx-auto",children:[T.jsx(Nu,{className:"w-4 h-4"}),"Enable Camera & Microphone"]})]})})]}),T.jsxs("button",{onClick:n,disabled:!mt,className:"mt-6 w-full bg-amber-600 hover:bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 disabled:cursor-not-allowed text-black font-bold py-4 rounded-xl transition-all shadow-[0_0_20px_rgba(245,158,11,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.5)] flex items-center justify-center gap-2 text-lg disabled:shadow-none",children:[T.jsx(M1,{className:"w-6 h-6 fill-current"}),mt?"START EXAMINATION":"DEVICES NOT READY"]})]})]})]})});bv.displayName="Dashboard";const gf=({user:l,sessionNumber:n,title:a,textContent:r,onComplete:u,mediaStream:h})=>{console.log(" SessionRecorder: Component rendered with mediaStream:",h),console.log(" SessionRecorder: mediaStream details:",{exists:!!h,active:(h==null?void 0:h.active)||!1,id:(h==null?void 0:h.id)||"no-id",tracks:(h==null?void 0:h.getTracks().length)||0});const[d,y]=rt.useState(60),[_,E]=rt.useState(!1),[C,N]=rt.useState(null),[j,Q]=rt.useState({x:0,y:0}),[$,et]=rt.useState(!1),[W,Et]=rt.useState({x:0,y:0}),at=rt.useRef(null),mt=rt.useRef(null),nt=rt.useRef([]),ft=rt.useRef(null),ct=rt.useRef(null),w=rt.useRef(!1),S=rt.useRef(!0),x=tt=>{et(!0),Et({x:tt.clientX-j.x,y:tt.clientY-j.y})},I=rt.useCallback(tt=>{if(!$)return;const ut=tt.clientX-W.x,_t=tt.clientY-W.y,Rt=window.innerWidth-224,Tt=window.innerHeight-168;Q({x:Math.max(0,Math.min(ut,Rt)),y:Math.max(0,Math.min(_t,Tt))})},[$,W]),D=rt.useCallback(()=>{et(!1)},[]);rt.useEffect(()=>{if($)return document.addEventListener("mousemove",I),document.addEventListener("mouseup",D),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",D)}},[$,I,D]),rt.useEffect(()=>{console.log(" SessionRecorder: mediaStream prop changed:",{exists:!!h,active:(h==null?void 0:h.active)||!1,id:(h==null?void 0:h.id)||"no-id",tracks:(h==null?void 0:h.getTracks().length)||0})},[h]),rt.useEffect(()=>{if(!h||!_)return;console.log(" Debug: Monitoring stream changes during recording");const tt=()=>{if(!h)return;const _t=h.getTracks(),Rt=_t.filter(Ot=>Ot.kind==="video"),Tt=_t.filter(Ot=>Ot.kind==="audio"),Pt=Rt.some(Ot=>Ot.enabled&&Ot.readyState==="live"),zt=Tt.some(Ot=>Ot.enabled&&Ot.readyState==="live");console.log(" Debug: Stream health check:",{streamActive:h.active,hasActiveVideo:Pt,hasActiveAudio:zt,videoTracks:Rt.length,audioTracks:Tt.length}),(!h.active||!Pt)&&(console.warn(" Debug: Stream health issue detected"),N("Camera was turned off. Please return to dashboard and restart session."),mt.current&&mt.current.state==="recording"&&mt.current.stop())};tt();const ut=setInterval(tt,2e3);return()=>clearInterval(ut)},[h,_]);const O=tt=>{if(console.log(" Debug: Preparing stream for recording"),!tt)return console.error(" Debug: Stream is null during preparation"),!1;const ut=tt.getTracks();return ut.forEach(_t=>{console.log(` Debug: Track ${_t.kind}:`,{enabled:_t.enabled,readyState:_t.readyState,muted:_t.muted}),_t.enabled||(console.log(" Debug: Enabling track:",_t.kind),_t.enabled=!0),_t.readyState!=="live"&&console.warn(" Debug: Track not ready:",_t.kind,_t.readyState)}),ut.length>0},A=async()=>{console.log(" Debug: Creating fallback stream...");try{const tt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});console.log(" Debug: Fallback stream created successfully"),ft.current=tt,setTimeout(()=>{it(tt)},500)}catch(tt){console.error(" Debug: Fallback stream creation failed:",tt);let ut="Failed to access camera/microphone.";tt.name==="NotAllowedError"&&(ut="Permission denied. Please allow camera/microphone access."),tt.name==="NotFoundError"&&(ut="No camera or microphone found."),tt.name==="NotReadableError"&&(ut="Camera is already in use by another application."),N(ut)}},it=tt=>{if(console.log(" Debug: Initializing recorder with fallback stream"),!at.current){N("Video element not found. Please refresh page.");return}try{N(null),w.current=!1,ft.current=tt,at.current.srcObject=tt,at.current.onloadedmetadata=()=>{var ut;console.log(" Debug: Fallback video metadata loaded"),(ut=at.current)==null||ut.play().catch(_t=>{console.error("Fallback video play error:",_t)}),setTimeout(()=>{st(tt)},1e3)},at.current.onerror=ut=>{console.error(" Debug: Fallback video element error:",ut),N("Video element error. Please refresh the page.")}}catch(ut){console.error(" Debug: Fallback initialization error:",ut),N("Failed to initialize recording with fallback stream.")}},st=tt=>{console.log(" Debug: Starting recording with fallback stream");try{const ut=new MediaRecorder(tt);console.log(" Debug: Fallback MediaRecorder created:",ut),ut.ondataavailable=_t=>{_t.data.size>0&&nt.current.push(_t.data)},ut.onstop=()=>{if(console.log(" Debug: Fallback MediaRecorder stopped"),w.current){const _t=new Blob(nt.current,{type:"video/webm"});u(_t)}},mt.current=ut,ut.start(),console.log(" Debug: Fallback recorder.start() called"),E(!0),k()}catch(ut){console.error(" Debug: Failed to start fallback recording:",ut),N("Failed to start recording.")}};rt.useEffect(()=>{const tt=()=>{if(console.log(" Debug: initializeRecorder called"),console.log(" Debug: mediaStream received:",h),console.log(" Debug: mediaStream type:",typeof h),console.log(" Debug: mediaStream.active:",(h==null?void 0:h.active)||!1),console.log(" Debug: mediaStream.id:",(h==null?void 0:h.id)||"no-id"),!h){console.error(" Debug: No media stream available"),console.log(" Debug: Attempting to create fallback stream..."),A();return}if(!O(h)){console.log(" Debug: Stream not ready, attempting recovery..."),h.getTracks().forEach(Ot=>{Ot.enabled||(Ot.enabled=!0,console.log(" Debug: Force-enabled track:",Ot.kind))}),setTimeout(()=>{O(h)?(console.log(" Debug: Stream recovery successful, proceeding..."),setTimeout(()=>tt(),1e3)):(console.log(" Debug: Recovery failed, attempting to create new stream..."),A())},1e3);return}const Rt=h.getTracks();if(!(Rt.length>0)){console.error(" Debug: No tracks found in stream"),N("No camera or microphone tracks found. Please return to dashboard.");return}if(Rt.some(zt=>zt.readyState==="ended")){console.error(" Debug: Some tracks have ended"),N("Some devices have been disconnected. Please return to dashboard.");return}try{if(N(null),w.current=!1,ft.current=h,at.current){console.log(" Debug: Video element found:",at.current),console.log(" Debug: Video element readyState:",at.current.readyState),console.log(" Debug: Video element videoWidth:",at.current.videoWidth),console.log(" Debug: Video element videoHeight:",at.current.videoHeight);const zt=h.getVideoTracks();if(console.log(" Debug: Video tracks found:",zt.length),zt.length===0){console.error(" Debug: No video tracks found in stream"),N("No camera tracks found. Please return to dashboard.");return}zt.forEach((Ct,ue)=>{console.log(` Debug: Video track ${ue}:`,{id:Ct.id,label:Ct.label,enabled:Ct.enabled,muted:Ct.muted,readyState:Ct.readyState,kind:Ct.kind})}),zt.forEach(Ct=>{Ct.enabled||(console.log(" Debug: Enabling disabled video track"),Ct.enabled=!0)}),at.current.srcObject&&(console.log(" Debug: Clearing existing video stream"),at.current.srcObject=null),console.log(" Debug: Setting stream to video element"),at.current.srcObject=h,console.log(" Debug: Video srcObject after setting:",at.current.srcObject),at.current.onloadedmetadata=()=>{var Ct,ue,pn;console.log(" Debug: Video metadata loaded successfully"),console.log(" Debug: Video dimensions:",{width:(Ct=at.current)==null?void 0:Ct.videoWidth,height:(ue=at.current)==null?void 0:ue.videoHeight}),(pn=at.current)==null||pn.play().catch(Na=>{console.error("Video play error after metadata:",Na)})},at.current.onerror=Ct=>{console.error(" Debug: Video element error:",Ct),N("Video element error. Please refresh the page.")},setTimeout(()=>{at.current&&(console.log(" Debug: Fallback check - video readyState:",at.current.readyState),at.current.readyState<2?(console.log(" Debug: Video not ready, attempting force play"),at.current.play().catch(Ct=>{console.error("Force video play failed:",Ct)})):console.log(" Debug: Video appears ready, checking dimensions:",{width:at.current.videoWidth,height:at.current.videoHeight}))},1e3),new Promise(Ct=>{if(!at.current){Ct();return}const ue=()=>{at.current&&at.current.readyState>=2?(console.log(" Debug: Video is ready, can start recording"),Ct()):(console.log(" Debug: Video not ready yet, waiting..."),setTimeout(ue,100))};ue(),setTimeout(()=>{console.log(" Debug: Video ready timeout, proceeding anyway"),Ct()},3e3)}).then(()=>{if(console.log(" Debug: Starting recording process"),!h.active){console.error(" Debug: Stream became inactive before recording"),N("Stream became inactive. Please return to dashboard and restart.");return}const Ct=new MediaRecorder(h);console.log(" Debug: MediaRecorder created:",Ct),console.log(" Debug: MediaRecorder state:",Ct.state),Ct.ondataavailable=ue=>{ue.data.size>0&&nt.current.push(ue.data)},Ct.onstop=()=>{if(console.log(" Debug: MediaRecorder stopped"),w.current){const ue=new Blob(nt.current,{type:"video/webm"});u(ue)}},mt.current=Ct,Ct.start(),console.log(" Debug: recorder.start() called"),console.log(" Debug: MediaRecorder state after start:",Ct.state),E(!0),console.log(" Debug: setIsRecording(true) called"),k()})}else N("Video element not found. Please refresh page.")}catch(zt){let Ot="Recorder initialization error.";zt.name==="NotAllowedError"&&(Ot="Access denied. Please check permissions."),zt.name==="NotFoundError"&&(Ot="No camera or microphone found."),zt.name==="NotReadableError"&&(Ot="Hardware error. Camera might be in use."),N(Ot)}},ut=setTimeout(()=>{tt()},500);return()=>{S.current=!1,clearTimeout(ut),K(),mt.current&&mt.current.state==="recording"&&mt.current.stop(),ft.current=null,at.current&&(at.current.srcObject=null)}},[h]);const k=()=>{ct.current&&clearInterval(ct.current),ct.current=setInterval(()=>{y(tt=>tt<=1?(X(),0):tt-1)},1e3)},K=()=>{ct.current&&(clearInterval(ct.current),ct.current=null)},X=()=>{if(console.log(" Debug: handleFinishSession called"),console.log(" Debug: Current error state:",C),C){console.log(" Debug: Error detected, forcing session end"),K();const tt=new Blob([],{type:"video/webm"});u(tt);return}if(K(),mt.current&&mt.current.state!=="inactive")console.log(" Debug: Stopping media recorder"),w.current=!0,mt.current.stop();else{console.log(" Debug: No active recorder to stop");const tt=new Blob([],{type:"video/webm"});u(tt)}};return T.jsxs("div",{className:"flex flex-col h-full text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-2xl font-bold text-amber-500 tracking-wider",children:["SESSION 0",n]}),T.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-widest",children:a})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full border ${_?"bg-red-900/30 border-red-500/50":"bg-gray-800 border-gray-600"}`,children:[T.jsx("div",{className:`w-3 h-3 rounded-full ${_?"bg-red-500 animate-pulse":"bg-gray-500"}`}),T.jsx("span",{className:`${_?"text-red-400":"text-gray-400"} font-mono text-xs`,children:_?"REC":"READY"})]}),T.jsxs("div",{className:"flex items-center space-x-2 font-mono text-xl text-amber-500",children:[T.jsx(B1,{className:"w-5 h-5"}),T.jsxs("span",{children:["00:",d.toString().padStart(2,"0")]})]})]})]}),T.jsx("div",{className:"flex flex-col gap-6 flex-grow",children:T.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-xl border border-gray-700 shadow-inner flex-grow",children:[T.jsx("h3",{className:"text-gray-400 text-xs uppercase mb-4 tracking-widest",children:"Script Content"}),T.jsx("div",{className:"flex-grow flex items-center justify-center",children:T.jsx("div",{className:"text-xl md:text-2xl lg:text-3xl leading-relaxed font-serif text-gray-200 text-center max-w-4xl",children:r})})]})}),T.jsx("div",{className:`fixed bottom-8 right-8 w-48 h-36 lg:w-56 lg:h-42 z-30 transition-shadow ${$?"cursor-grabbing shadow-2xl":"cursor-grab"}`,style:{transform:`translate(${j.x}px, ${j.y}px)`,transition:$?"none":"transform 0.2s ease-out"},children:T.jsx("div",{className:"relative w-full h-full bg-black rounded-xl overflow-hidden border-2 border-gray-800 shadow-2xl",onMouseDown:x,children:C?T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-4 bg-gray-900",children:[T.jsx(e0,{className:"w-8 h-8 text-red-500 mb-2"}),T.jsx("p",{className:"text-red-400 text-sm font-bold",children:C})]}):T.jsxs(T.Fragment,{children:[T.jsx("video",{ref:at,muted:!0,playsInline:!0,className:"w-full h-full object-cover transform scale-x-[-1]",style:{backgroundColor:"black",filter:"none",WebkitFilter:"none"},"data-testid":"session-recorder-video"}),T.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded-md text-xs font-mono text-gray-400 border border-gray-700 flex items-center gap-1",children:[T.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-sm"}),T.jsx("span",{children:"DRAG"})]}),T.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-1",children:[T.jsx(G1,{className:"w-2 h-2 text-green-400"}),T.jsx("span",{children:"CAM"}),T.jsx("span",{className:"w-px h-2 bg-gray-600 mx-1"}),T.jsx(qf,{className:"w-2 h-2 text-green-400"}),T.jsx("span",{children:"ON"})]})]})})}),T.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[T.jsx("div",{className:"text-sm text-gray-400",children:_?T.jsxs("span",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),T.jsx("span",{children:"Recording in progress..."})]}):T.jsxs("span",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),T.jsx("span",{children:"Preparing recording..."})]})}),T.jsxs("button",{onClick:X,disabled:!1,className:`group flex items-center space-x-3 px-8 py-3 rounded-full font-bold transition-all transform hover:scale-105 shadow-[0_0_15px_rgba(245,158,11,0.4)] ${C?"bg-red-600 hover:bg-red-500 text-white":_?"bg-amber-600 hover:bg-amber-500 text-black":"bg-gray-600 hover:bg-gray-500 text-white"}`,title:C?"Skip session due to error and continue":_?"Finish recording early and go to next session":"Skip session and continue",children:[T.jsx("span",{children:C?"SKIP & NEXT":_?"FINISH & NEXT":"SKIP & NEXT"}),T.jsx(t0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})},Jy=({nextSessionName:l,onContinue:n,onReload:a,videoReady:r=!1,audioReady:u=!1,mediaStream:h=null})=>{const d=rt.useRef(null),y=r&&u,[_,E]=rt.useState(!1),C=()=>{a&&!_&&(E(!0),console.log(" BreakScreen: Manual reload triggered"),a(),setTimeout(()=>{E(!1)},3e3))};return rt.useEffect(()=>{d.current&&h&&(h.getVideoTracks().forEach(j=>{j.enabled||(j.enabled=!0)}),d.current.srcObject=h,d.current.play().catch(()=>{}),d.current.onloadedmetadata=()=>{var j;(j=d.current)==null||j.play().catch(()=>{})})},[h]),rt.useEffect(()=>{if(!h&&a){console.log(" BreakScreen: No stream available, auto-reloading devices...");const N=setTimeout(()=>{console.log(" BreakScreen: Executing auto-reload..."),a()},1e3);return()=>clearTimeout(N)}else h&&console.log(" BreakScreen: Stream is available, no auto-reload needed")},[h,a]),rt.useEffect(()=>()=>{d.current&&(d.current.srcObject=null)},[]),T.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 md:p-8 lg:p-12",children:T.jsx("div",{className:"w-full max-w-4xl mx-auto",children:T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-gray-800 rounded-full flex items-center justify-center mb-4 sm:mb-6 animate-pulse",children:T.jsx(b1,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-amber-500"})}),T.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 text-center",children:"Session Complete"}),T.jsx("p",{className:"text-gray-400 text-sm sm:text-base md:text-lg text-center mb-6 sm:mb-8 md:mb-12",children:"Take a breath. The next session is ready when you are."}),T.jsxs("div",{className:"bg-gray-900/80 border border-gray-700 p-4 sm:p-6 md:p-8 rounded-xl w-full mb-6 sm:mb-8 md:mb-12",children:[T.jsx("p",{className:"text-gray-500 text-xs sm:text-sm md:text-base uppercase tracking-widest mb-2 text-center",children:"Up Next"}),T.jsx("h3",{className:"text-base sm:text-lg md:text-2xl font-bold text-amber-500 text-center",children:l})]}),T.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-3 sm:p-4 md:p-6 w-full mb-6 sm:mb-8 md:mb-12",children:T.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:h?T.jsxs(T.Fragment,{children:[T.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]",style:{backgroundColor:"transparent",filter:"none",WebkitFilter:"none"}}),T.jsxs("div",{className:"absolute top-2 sm:top-3 md:top-4 right-2 sm:right-3 md:right-4 bg-black/60 backdrop-blur-md px-2 sm:px-3 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-1 sm:gap-2",children:[T.jsx(Nu,{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 ${r?"text-green-400":"text-red-400"}`}),T.jsxs("span",{className:"hidden xs:inline sm:inline",children:["CAM: ",r?"ON":"OFF"]}),T.jsx("span",{className:"w-px h-2 sm:h-2.5 md:h-3 bg-gray-600 mx-0.5 sm:mx-1"}),T.jsx(qf,{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 ${u?"text-green-400":"text-red-400"}`}),T.jsxs("span",{className:"hidden xs:inline sm:inline",children:["MIC: ",u?"ACTIVE":"INACTIVE"]})]})]}):T.jsx("div",{className:"flex items-center justify-center h-full",children:T.jsxs("div",{className:"text-center",children:[T.jsx(pf,{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 text-gray-600 mx-auto mb-2 sm:mb-4"}),T.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Camera Preview Unavailable"})]})})})}),!y&&T.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-xs sm:text-sm p-3 sm:p-4 md:p-6 rounded-lg mb-4 sm:mb-6 w-full",children:[T.jsxs("p",{className:"font-bold mb-2 flex items-center justify-center gap-2",children:[T.jsx(q1,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),"Devices Not Ready"]}),T.jsx("p",{className:"mb-4 text-xs sm:text-sm text-center",children:"Please ensure both camera and microphone are enabled before continuing."}),a&&T.jsxs("button",{onClick:C,disabled:_,className:`px-3 py-2 sm:px-4 sm:py-2 md:px-4 md:py-2 rounded-full text-white flex items-center gap-2 mx-auto transition-colors text-xs sm:text-sm ${_?"bg-gray-600 cursor-not-allowed":"bg-red-800 hover:bg-red-700 border border-red-600"}`,children:[T.jsx(n0,{className:`w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4 ${_?"animate-spin":""}`}),T.jsx("span",{className:"hidden xs:inline sm:inline",children:_?"Reloading...":"Reload Devices"})]})]}),T.jsxs("button",{onClick:n,disabled:!y,className:`group flex items-center justify-center space-x-2 sm:space-x-3 md:space-x-3 px-6 sm:px-8 md:px-10 py-3 sm:py-3.5 md:py-4 rounded-full font-bold transition-all text-sm sm:text-base md:text-base w-full sm:w-auto ${y?"bg-white text-black hover:bg-gray-200":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:[T.jsx("span",{className:"text-center",children:y?"CONTINUE TO NEXT SESSION":"DEVICES NOT READY"}),T.jsx(t0,{className:`w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 transition-transform ${y?"group-hover:translate-x-1":""}`})]})]})})})},PS=({user:l,recordings:n})=>T.jsxs("div",{className:"flex flex-col h-full text-white",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-500/20 rounded-full mb-4",children:T.jsx(p1,{className:"w-10 h-10 text-green-500"})}),T.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Congratulations, ",l.fullName,"!"]}),T.jsx("p",{className:"text-gray-400",children:"You have successfully completed The Examination of Pronunciation."})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-8 flex-grow",children:[T.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-xl p-6",children:[T.jsxs("h3",{className:"text-xl font-bold text-amber-500 mb-6 flex items-center gap-2",children:[T.jsx(kp,{className:"w-5 h-5"}),"Download Recordings"]}),T.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Please download all three video files below. These files are stored temporarily in your session and will be lost if you refresh."}),T.jsx("div",{className:"space-y-4",children:n.map(a=>T.jsx("a",{href:a.url,download:a.filename,className:"block w-full bg-black/40 hover:bg-amber-900/20 border border-gray-700 hover:border-amber-500/50 p-4 rounded-lg transition-all group",children:T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsxs("p",{className:"font-bold text-white group-hover:text-amber-500 transition-colors",children:["Session 0",a.sessionId]}),T.jsx("p",{className:"text-xs text-gray-500",children:a.filename})]}),T.jsx(kp,{className:"w-5 h-5 text-gray-500 group-hover:text-amber-500"})]})},a.sessionId))})]}),T.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-xl p-6 flex flex-col justify-center",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[T.jsx(v1,{className:"w-5 h-5 text-blue-400"}),"Submission Instructions"]}),T.jsxs("ol",{className:"space-y-6 text-gray-300 relative border-l border-gray-700 ml-3 pl-8",children:[T.jsxs("li",{className:"relative",children:[T.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"1"}),T.jsx("strong",{children:"Upload to Drive:"}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload the 3 downloaded video files to your Google Drive or preferred cloud storage."})]}),T.jsxs("li",{className:"relative",children:[T.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"2"}),T.jsx("strong",{children:"Set Permissions:"}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Ensure the folder or files are set to "Anyone with the link can view".'})]}),T.jsxs("li",{className:"relative",children:[T.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"3"}),T.jsx("strong",{children:"Submit Link:"}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Copy the shareable link and submit it as your weekly project assignment."})]})]}),T.jsx("div",{className:"mt-8 p-4 bg-blue-900/20 rounded-lg border border-blue-500/30 text-center",children:T.jsx("p",{className:"text-blue-300 text-sm font-semibold",children:"Great job! See you in the next evaluation."})})]})]})]});var pt=(l=>(l.LOGIN="LOGIN",l.DASHBOARD="DASHBOARD",l.SESSION_1="SESSION_1",l.BREAK_1="BREAK_1",l.SESSION_2="SESSION_2",l.BREAK_2="BREAK_2",l.SESSION_3="SESSION_3",l.COMPLETION="COMPLETION",l))(pt||{});const GS=()=>{const[l,n]=rt.useState(null),[a,r]=rt.useState(pt.LOGIN),[u,h]=rt.useState([]),[d,y]=rt.useState(!1),[_,E]=rt.useState(!1),[C,N]=rt.useState(!1),[j,Q]=rt.useState(!1),[$,et]=rt.useState(null),[W,Et]=rt.useState(!1),[at,mt]=rt.useState(!1);rt.useEffect(()=>{mt(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"),console.log(" Environment:",{hostname:window.location.hostname,isProduction:window.location.hostname!=="localhost",protocol:window.location.protocol,userAgent:navigator.userAgent})},[]);const nt=$y.useRef(null);rt.useEffect(()=>{if(a===pt.COMPLETION){console.log(" App: Completion reached, stopping media streams only");const it=st=>{st&&(console.log(" App: Stopping stream with tracks:",st.getTracks().length),st.getTracks().forEach(k=>{console.log(` App: Stopping ${k.kind} track:`,k.label),k.stop()}))};if(it($),nt.current){const st=nt.current.getMediaStream();it(st)}et(null),y(!1),E(!1),N(!1),Q(!1),console.log(" App: Media streams stopped, recordings preserved for download")}},[a]),rt.useEffect(()=>{const it=localStorage.getItem("vocalBoothRecordings");if(it)try{const k=JSON.parse(it).map(K=>({...K,blob:new Blob([K.blobData],{type:"video/webm"})}));h(k),console.log(" App: Loaded recordings from localStorage:",k.length)}catch(st){console.error("Error loading recordings:",st),localStorage.removeItem("vocalBoothRecordings")}},[]),rt.useEffect(()=>{try{if(u.length>0){const it=u.map(st=>({sessionId:st.sessionId,sessionNumber:st.sessionNumber,timestamp:st.timestamp,url:st.url,filename:st.filename,blobData:Array.from(new Uint8Array(st.blob))}));localStorage.setItem("vocalBoothRecordings",JSON.stringify(it)),console.log(" App: Saved recordings to localStorage:",it.length)}}catch(it){console.error(" App: Failed to save recordings to localStorage:",it),alert("Failed to save recordings. Your browser may be in private mode or storage is full.")}},[u]),rt.useEffect(()=>{try{const it=localStorage.getItem("vocalBoothUser");if(it){const st=JSON.parse(it);n(st);const k=localStorage.getItem("vocalBoothRecordings");if(k)try{if(JSON.parse(k).length>=3){console.log(" App: User has completed all sessions, redirecting to completion"),r(pt.COMPLETION);return}else console.log(" App: User has completed some sessions but not all, checking session state")}catch(X){console.error("Error parsing recordings for redirect:",X)}const K=localStorage.getItem("vocalBoothCurrentSession");if(K){const X=JSON.parse(K);console.log(" App: Found saved session, redirecting:",X),X.isBreakScreen?X.sessionNumber===1?r(pt.BREAK_1):X.sessionNumber===2?r(pt.BREAK_2):r(pt.DASHBOARD):X.sessionNumber&&r(pt.DASHBOARD)}else r(pt.DASHBOARD);y(!1),E(!1),N(!1),Q(!1)}}catch(it){console.error(" App: Error loading from localStorage:",it),localStorage.removeItem("vocalBoothUser"),localStorage.removeItem("vocalBoothRecordings"),localStorage.removeItem("vocalBoothCurrentSession")}},[]);const ft=it=>{const st={fullName:it,docId:it};n(st),r(pt.DASHBOARD),y(!1),E(!1),N(!1),Q(!1),localStorage.setItem("vocalBoothUser",JSON.stringify(st))},ct=()=>{n(null),r(pt.LOGIN);const it=st=>{st&&st.getTracks().forEach(k=>{k.stop(),k.enabled=!1})};if(it($),nt.current){const st=nt.current.getMediaStream();it(st)}navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(st=>{st.getTracks().forEach(k=>k.stop()),console.log(" Force-stopped any remaining streams")}).catch(()=>{console.log(" No additional streams found")}),y(!1),E(!1),N(!1),Q(!1),et(null),h([]),localStorage.removeItem("vocalBoothUser"),localStorage.removeItem("vocalBoothCurrentSession"),localStorage.removeItem("vocalBoothRecordings"),window.gc&&window.gc(),setTimeout(()=>{window.location.reload()},1e3),console.log(" App: User logged out, all streams stopped aggressively")},w=()=>{r(pt.SESSION_1),D(1,!1)},S=(it,st,k,K,X)=>{console.log(" App: Device status update received"),console.log(" App: Status details:",{videoStatus:it,audioStatus:st,videoToggleStatus:k,audioToggleStatus:K,hasStream:!!X,streamActive:X==null?void 0:X.active,streamTracks:(X==null?void 0:X.getTracks().length)||0,streamId:X==null?void 0:X.id}),y(it),E(st),k!==void 0&&N(k),K!==void 0&&Q(K),X!==void 0&&(console.log(" App: Updating mediaStream state"),X?console.log(" App: New stream details:",{active:X.active,id:X.id,tracks:X.getTracks().map(tt=>({kind:tt.kind,enabled:tt.enabled,readyState:tt.readyState,label:tt.label}))}):console.log(" App: Stream is null/undefined"),et(X))},x=()=>{console.log(" App: handleReloadDevices called"),y(!1),E(!1),N(!1),Q(!1),et(null),nt.current?(console.log(" App: Reloading from dashboard"),nt.current.reloadDevices(),setTimeout(()=>{var st;const it=(st=nt.current)==null?void 0:st.getMediaStream();it&&(console.log(" App: Got updated stream from dashboard"),et(it))},1e3)):(console.log(" App: Dashboard not available, creating new stream request"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(it=>{console.log(" App: Got new stream directly"),et(it),y(!0),E(!0),N(!0),Q(!0)}).catch(it=>{console.error(" App: Error getting new stream:",it)}))},I=(it,st)=>{if(!l)return;const k=URL.createObjectURL(it),K=`${l.fullName.replace(/\s+/g,"_")}_Session_${st}.webm`,X={sessionId:st,blob:it,url:k,filename:K};h(tt=>[...tt.filter(_t=>_t.sessionId!==st),X]),setTimeout(()=>{localStorage.removeItem("vocalBoothCurrentSession")},1e3),st===1?r(pt.BREAK_1):st===2?r(pt.BREAK_2):st===3&&r(pt.COMPLETION)},D=(it,st=!1)=>{const k={sessionNumber:it,isBreakScreen:st,timestamp:Date.now()};localStorage.setItem("vocalBoothCurrentSession",JSON.stringify(k)),console.log(" App: Saving session state:",k)};rt.useEffect(()=>{a===pt.BREAK_1?D(1,!0):a===pt.BREAK_2&&D(2,!0)},[a]);const O=(it,st)=>{const k=st===1?pt.SESSION_1:st===2?pt.SESSION_2:pt.SESSION_3,K=st===1?pt.BREAK_1:st===2?pt.BREAK_2:pt.COMPLETION,X=it===k,tt=it===K,ut=u.find(Ot=>Ot.sessionId===st)||it===K,_t=[pt.DASHBOARD,pt.SESSION_1,pt.BREAK_1,pt.SESSION_2,pt.BREAK_2,pt.SESSION_3,pt.COMPLETION],Rt=_t.indexOf(it),Tt=_t.indexOf(k),Pt=Rt<Tt&&!ut;let zt="flex items-center justify-between p-4 rounded-lg border transition-all ";return X?zt+"bg-amber-600 border-amber-500 text-black font-bold shadow-lg scale-105":tt?zt+"bg-blue-900/30 border-blue-500/50 text-blue-400":ut?zt+"bg-green-900/30 border-green-500/50 text-green-400":zt+"bg-gray-900 border-gray-800 text-gray-600 opacity-60"},A=it=>{const st=it===1?pt.SESSION_1:it===2?pt.SESSION_2:pt.SESSION_3,k=it===1?pt.BREAK_1:it===2?pt.BREAK_2:pt.COMPLETION,K=a===st,X=a===k,tt=u.find(Pt=>Pt.sessionId===it)||a===k,ut=[pt.DASHBOARD,pt.SESSION_1,pt.BREAK_1,pt.SESSION_2,pt.BREAK_2,pt.SESSION_3,pt.COMPLETION],_t=ut.indexOf(a),Rt=ut.indexOf(st),Tt=_t<Rt&&!tt;return K?{icon:T.jsx(R1,{className:"w-4 h-4"}),status:"active",numberClass:"w-8 h-8 rounded-full bg-amber-600 border-2 border-amber-400 flex items-center justify-center text-sm font-bold text-black shadow-lg"}:X?{icon:T.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),status:"break",numberClass:"w-8 h-8 rounded-full bg-blue-900/30 border-2 border-blue-500 flex items-center justify-center text-sm font-bold text-blue-400"}:tt?{icon:T.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),status:"completed",numberClass:"w-8 h-8 rounded-full bg-green-900/30 border-2 border-green-500 flex items-center justify-center text-sm font-bold text-green-400"}:Tt?{icon:T.jsx(qp,{className:"w-4 h-4"}),status:"locked",numberClass:"w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-700 flex items-center justify-center text-sm font-bold text-gray-500"}:{icon:T.jsx(qp,{className:"w-4 h-4"}),status:"locked",numberClass:"w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-700 flex items-center justify-center text-sm font-bold text-gray-500"}};return a===pt.LOGIN?T.jsx(HS,{onLogin:ft}):T.jsxs("div",{className:"flex h-screen bg-neutral-950 text-white overflow-hidden font-sans selection:bg-amber-500 selection:text-black",children:[T.jsxs("div",{className:`w-80 bg-black border-r border-gray-800 flex flex-col p-6 z-20 shadow-2xl fixed md:relative h-full transform transition-transform duration-300 ease-in-out ${W?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[T.jsxs("div",{className:"mb-10 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg flex items-center justify-center",children:T.jsx(U1,{className:"text-black w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"PRONUNCIATION"}),T.jsx("p",{className:"text-xs text-gray-500",children:"The Examination of Pronunciation"})]})]}),T.jsx("button",{onClick:()=>Et(!1),className:"md:hidden text-gray-400 hover:text-white transition-colors",children:T.jsx(F1,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:O(a,1),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:A(1).numberClass,children:"1"}),T.jsx("span",{children:"Session 01"})]}),A(1).icon]}),T.jsxs("div",{className:O(a,2),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:A(2).numberClass,children:"2"}),T.jsx("span",{children:"Session 02"})]}),A(2).icon]}),T.jsxs("div",{className:O(a,3),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:A(3).numberClass,children:"3"}),T.jsx("span",{children:"Session 03"})]}),A(3).icon]})]}),T.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-900",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Logged in as"}),T.jsx("p",{className:"text-amber-500 font-bold truncate",children:l==null?void 0:l.fullName}),T.jsx("button",{onClick:ct,className:"mt-2 text-xs text-gray-400 hover:text-red-400 transition-colors",children:"Logout"})]})]}),W&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-10 md:hidden",onClick:()=>Et(!1)}),T.jsxs("main",{className:"flex-1 p-4 md:p-8 relative overflow-y-auto",children:[T.jsxs("div",{className:"md:hidden flex justify-between items-center mb-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>Et(!0),className:"text-gray-400 hover:text-white transition-colors",children:T.jsx(D1,{className:"w-6 h-6"})}),T.jsx("span",{className:"font-bold text-amber-500",children:"The Examination of Pronunciation"})]}),T.jsx("div",{className:"text-xs bg-gray-800 px-2 py-1 rounded",children:a.replace("_"," ")})]}),T.jsxs("div",{className:"max-w-6xl mx-auto h-full",children:[a===pt.DASHBOARD&&l&&T.jsx(bv,{ref:nt,user:l,onStart:w,onDeviceStatusUpdate:S}),a===pt.SESSION_1&&l&&T.jsx(gf,{user:l,sessionNumber:1,title:"Tongue Twister (American Accent)",textContent:T.jsxs("p",{children:['"Betty Botter bought some butter,',T.jsx("br",{}),"but she said, 'This butter's bitter.'",T.jsx("br",{}),"'If I put it in my batter,",T.jsx("br",{}),"it will make my batter bitter.'",T.jsx("br",{}),"But a bit of better butter",T.jsx("br",{}),"will make my batter better.'",T.jsx("br",{}),"So, it was better:",T.jsx("br",{}),'Betty Botter bought a bit of better butter."']}),mediaStream:$,onComplete:it=>I(it,1)}),a===pt.BREAK_1&&T.jsx(Jy,{nextSessionName:"Phonetic Transcription (IPA)",onContinue:()=>{r(pt.SESSION_2),D(2,!1)},onReload:x,videoReady:d,audioReady:_,mediaStream:$}),a===pt.SESSION_2&&l&&T.jsx(gf,{user:l,sessionNumber:2,title:"Phonetic Transcription (American IPA)",textContent:T.jsxs("p",{className:"font-mono text-amber-200",children:["a strtd lrn l jrz o, nd a strld t frst.",T.jsx("br",{}),"a prktst vri de, rpitd dfklt sntnsz, nd krktd ma msteks.",T.jsx("br",{}),"t tamz, a datd maslf, bt a rimandd maslf wa a strtd.",T.jsx("br",{}),T.jsx("br",{}),"a notst prrs ftr a wrkt hrd nd sted fokst.",T.jsx("br",{}),"i frt a nvstd rwrdd mi w knfdns nd skl.",T.jsx("br",{}),"ivn wn a flt tard r frstretd, a rimandd maslf t lrn z  prss, nd vri stp mtrd.",T.jsx("br",{}),T.jsx("br",{}),"a fnt lsnz a t a kdnt, slbretd sml wnz, nd rd wt a lrnd w rz.",T.jsx("br",{}),"ba ste dsplnd nd motvetd, a dskvrd t z a wns fand hrd ddnt fil hrd nimr."]}),mediaStream:$,onComplete:it=>I(it,2)}),a===pt.BREAK_2&&T.jsx(Jy,{nextSessionName:"Original Text Reading",onContinue:()=>{r(pt.SESSION_3),D(3,!1)},onReload:x,videoReady:d,audioReady:_,mediaStream:$}),a===pt.SESSION_3&&l&&T.jsx(gf,{user:l,sessionNumber:3,title:"Original Text Reading",textContent:T.jsxs("p",{children:["I started learning English years ago, and I struggled at first.",T.jsx("br",{}),"I practiced every day, repeated difficult sentences, and corrected my mistakes.",T.jsx("br",{}),"At times, I doubted myself, but I reminded myself why I started.",T.jsx("br",{}),T.jsx("br",{}),"I noticed progress after I worked hard and stayed focused.",T.jsx("br",{}),"The effort I invested rewarded me with confidence and skill.",T.jsx("br",{}),"Even when I felt tired or frustrated, I reminded myself that learning is a process, and every step mattered.",T.jsx("br",{}),T.jsx("br",{}),"I finished lessons I thought I couldn't, celebrated small wins, and shared what I learned with others.",T.jsx("br",{}),"By staying disciplined and motivated, I discovered that things I once found hard didn't feel hard anymore."]}),mediaStream:$,onComplete:it=>I(it,3)}),a===pt.COMPLETION&&l&&T.jsx(PS,{user:l,recordings:u})]})]})]})},Ev=document.getElementById("root");if(!Ev)throw new Error("Could not find root element to mount to");const QS=r1.createRoot(Ev);QS.render(T.jsx($y.StrictMode,{children:T.jsx(GS,{})}));
