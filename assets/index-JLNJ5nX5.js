(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();function h0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var sf={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function f1(){if(Hp)return Rl;Hp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:l,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Rl.Fragment=n,Rl.jsx=s,Rl.jsxs=s,Rl}var Pp;function d1(){return Pp||(Pp=1,sf.exports=f1()),sf.exports}var T=d1(),af={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function m1(){if(Gp)return xt;Gp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=z&&O[z]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,nt={};function St(O,G,J){this.props=O,this.context=G,this.refs=nt,this.updater=J||tt}St.prototype.isReactComponent={},St.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},St.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ot(){}ot.prototype=St.prototype;function yt(O,G,J){this.props=O,this.context=G,this.refs=nt,this.updater=J||tt}var rt=yt.prototype=new ot;rt.constructor=yt,at(rt,St.prototype),rt.isPureReactComponent=!0;var pt=Array.isArray;function ht(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,G,J){var $=J.ref;return{$$typeof:l,type:O,key:G,ref:$!==void 0?$:null,props:J}}function I(O,G){return R(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===l}function M(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(J){return G[J]})}var w=/\/+/g;function it(O,G){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):G.toString(36)}function lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ht,ht):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,G,J,$,ft){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case l:case n:Mt=!0;break;case x:return Mt=O._init,U(Mt(O._payload),G,J,$,ft)}}if(Mt)return ft=ft(O),Mt=$===""?"."+it(O,0):$,pt(ft)?(J="",Mt!=null&&(J=Mt.replace(w,"$&/")+"/"),U(ft,G,J,"",function(Os){return Os})):ft!=null&&(D(ft)&&(ft=I(ft,J+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(w,"$&/")+"/")+Mt)),G.push(ft)),1;Mt=0;var Ne=$===""?".":$+":";if(pt(O))for(var ie=0;ie<O.length;ie++)$=O[ie],At=Ne+it($,ie),Mt+=U($,G,J,At,ft);else if(ie=Y(O),typeof ie=="function")for(O=ie.call(O),ie=0;!($=O.next()).done;)$=$.value,At=Ne+it($,ie++),Mt+=U($,G,J,At,ft);else if(At==="object"){if(typeof O.then=="function")return U(lt(O),G,J,$,ft);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function Z(O,G,J){if(O==null)return O;var $=[],ft=0;return U(O,$,"","",function(At){return G.call(J,At,ft++)}),$}function W(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(J){(O._status===0||O._status===-1)&&(O._status=1,O._result=J)},function(J){(O._status===0||O._status===-1)&&(O._status=2,O._result=J)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ct={map:Z,forEach:function(O,G,J){Z(O,function(){G.apply(this,arguments)},J)},count:function(O){var G=0;return Z(O,function(){G++}),G},toArray:function(O){return Z(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xt.Activity=C,xt.Children=Ct,xt.Component=St,xt.Fragment=s,xt.Profiler=u,xt.PureComponent=yt,xt.StrictMode=r,xt.Suspense=_,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,xt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return A.H.useMemoCache(O)}},xt.cache=function(O){return function(){return O.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(O,G,J){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var $=at({},O.props),ft=O.key;if(G!=null)for(At in G.key!==void 0&&(ft=""+G.key),G)!S.call(G,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&G.ref===void 0||($[At]=G[At]);var At=arguments.length-2;if(At===1)$.children=J;else if(1<At){for(var Mt=Array(At),Ne=0;Ne<At;Ne++)Mt[Ne]=arguments[Ne+2];$.children=Mt}return R(O.type,ft,$)},xt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},xt.createElement=function(O,G,J){var $,ft={},At=null;if(G!=null)for($ in G.key!==void 0&&(At=""+G.key),G)S.call(G,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ft[$]=G[$]);var Mt=arguments.length-2;if(Mt===1)ft.children=J;else if(1<Mt){for(var Ne=Array(Mt),ie=0;ie<Mt;ie++)Ne[ie]=arguments[ie+2];ft.children=Ne}if(O&&O.defaultProps)for($ in Mt=O.defaultProps,Mt)ft[$]===void 0&&(ft[$]=Mt[$]);return R(O,At,ft)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(O){return{$$typeof:y,render:O}},xt.isValidElement=D,xt.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:W}},xt.memo=function(O,G){return{$$typeof:v,type:O,compare:G===void 0?null:G}},xt.startTransition=function(O){var G=A.T,J={};A.T=J;try{var $=O(),ft=A.S;ft!==null&&ft(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ht,mt)}catch(At){mt(At)}finally{G!==null&&J.types!==null&&(G.types=J.types),A.T=G}},xt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},xt.use=function(O){return A.H.use(O)},xt.useActionState=function(O,G,J){return A.H.useActionState(O,G,J)},xt.useCallback=function(O,G){return A.H.useCallback(O,G)},xt.useContext=function(O){return A.H.useContext(O)},xt.useDebugValue=function(){},xt.useDeferredValue=function(O,G){return A.H.useDeferredValue(O,G)},xt.useEffect=function(O,G){return A.H.useEffect(O,G)},xt.useEffectEvent=function(O){return A.H.useEffectEvent(O)},xt.useId=function(){return A.H.useId()},xt.useImperativeHandle=function(O,G,J){return A.H.useImperativeHandle(O,G,J)},xt.useInsertionEffect=function(O,G){return A.H.useInsertionEffect(O,G)},xt.useLayoutEffect=function(O,G){return A.H.useLayoutEffect(O,G)},xt.useMemo=function(O,G){return A.H.useMemo(O,G)},xt.useOptimistic=function(O,G){return A.H.useOptimistic(O,G)},xt.useReducer=function(O,G,J){return A.H.useReducer(O,G,J)},xt.useRef=function(O){return A.H.useRef(O)},xt.useState=function(O){return A.H.useState(O)},xt.useSyncExternalStore=function(O,G,J){return A.H.useSyncExternalStore(O,G,J)},xt.useTransition=function(){return A.H.useTransition()},xt.version="19.2.3",xt}var Qp;function Ff(){return Qp||(Qp=1,af.exports=m1()),af.exports}var ut=Ff();const f0=h0(ut);var rf={exports:{}},Cl={},lf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function g1(){return Yp||(Yp=1,(function(l){function n(U,Z){var W=U.length;U.push(Z);t:for(;0<W;){var mt=W-1>>>1,Ct=U[mt];if(0<u(Ct,Z))U[mt]=Z,U[W]=Ct,W=mt;else break t}}function s(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],W=U.pop();if(W!==Z){U[0]=W;t:for(var mt=0,Ct=U.length,O=Ct>>>1;mt<O;){var G=2*(mt+1)-1,J=U[G],$=G+1,ft=U[$];if(0>u(J,W))$<Ct&&0>u(ft,J)?(U[mt]=ft,U[$]=W,mt=$):(U[mt]=J,U[G]=W,mt=G);else if($<Ct&&0>u(ft,W))U[mt]=ft,U[$]=W,mt=$;else break t}}return Z}function u(U,Z){var W=U.sortIndex-Z.sortIndex;return W!==0?W:U.id-Z.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();l.unstable_now=function(){return d.now()-y}}var _=[],v=[],x=1,C=null,z=3,Y=!1,tt=!1,at=!1,nt=!1,St=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function rt(U){for(var Z=s(v);Z!==null;){if(Z.callback===null)r(v);else if(Z.startTime<=U)r(v),Z.sortIndex=Z.expirationTime,n(_,Z);else break;Z=s(v)}}function pt(U){if(at=!1,rt(U),!tt)if(s(_)!==null)tt=!0,ht||(ht=!0,M());else{var Z=s(v);Z!==null&&lt(pt,Z.startTime-U)}}var ht=!1,A=-1,S=5,R=-1;function I(){return nt?!0:!(l.unstable_now()-R<S)}function D(){if(nt=!1,ht){var U=l.unstable_now();R=U;var Z=!0;try{t:{tt=!1,at&&(at=!1,ot(A),A=-1),Y=!0;var W=z;try{e:{for(rt(U),C=s(_);C!==null&&!(C.expirationTime>U&&I());){var mt=C.callback;if(typeof mt=="function"){C.callback=null,z=C.priorityLevel;var Ct=mt(C.expirationTime<=U);if(U=l.unstable_now(),typeof Ct=="function"){C.callback=Ct,rt(U),Z=!0;break e}C===s(_)&&r(_),rt(U)}else r(_);C=s(_)}if(C!==null)Z=!0;else{var O=s(v);O!==null&&lt(pt,O.startTime-U),Z=!1}}break t}finally{C=null,z=W,Y=!1}Z=void 0}}finally{Z?M():ht=!1}}}var M;if(typeof yt=="function")M=function(){yt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,it=w.port2;w.port1.onmessage=D,M=function(){it.postMessage(null)}}else M=function(){St(D,0)};function lt(U,Z){A=St(function(){U(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(U){U.callback=null},l.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},l.unstable_getCurrentPriorityLevel=function(){return z},l.unstable_next=function(U){switch(z){case 1:case 2:case 3:var Z=3;break;default:Z=z}var W=z;z=Z;try{return U()}finally{z=W}},l.unstable_requestPaint=function(){nt=!0},l.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=z;z=U;try{return Z()}finally{z=W}},l.unstable_scheduleCallback=function(U,Z,W){var mt=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?mt+W:mt):W=mt,U){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=W+Ct,U={id:x++,callback:Z,priorityLevel:U,startTime:W,expirationTime:Ct,sortIndex:-1},W>mt?(U.sortIndex=W,n(v,U),s(_)===null&&U===s(v)&&(at?(ot(A),A=-1):at=!0,lt(pt,W-mt))):(U.sortIndex=Ct,n(_,U),tt||Y||(tt=!0,ht||(ht=!0,M()))),U},l.unstable_shouldYield=I,l.unstable_wrapCallback=function(U){var Z=z;return function(){var W=z;z=Z;try{return U.apply(this,arguments)}finally{z=W}}}})(of)),of}var Fp;function p1(){return Fp||(Fp=1,lf.exports=g1()),lf.exports}var uf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function y1(){if(Kp)return Ye;Kp=1;var l=Ff();function n(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:x}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(_,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(_,v,null,x)},Ye.flushSync=function(_){var v=d.T,x=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=x,r.d.f()}},Ye.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Ye.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ye.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var x=v.as,C=y(x,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:z,fetchPriority:Y}):x==="script"&&r.d.X(_,{crossOrigin:C,integrity:z,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ye.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=y(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Ye.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,C=y(x,v.crossOrigin);r.d.L(_,x,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ye.preloadModule=function(_,v){if(typeof _=="string")if(v){var x=y(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Ye.requestFormReset=function(_){r.d.r(_)},Ye.unstable_batchedUpdates=function(_,v){return _(v)},Ye.useFormState=function(_,v,x){return d.H.useFormState(_,v,x)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Xp;function v1(){if(Xp)return uf.exports;Xp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),uf.exports=y1(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function _1(){if(Zp)return Cl;Zp=1;var l=p1(),n=Ff(),s=v1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function v(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,a=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return _(c),t;if(f===a)return _(c),e;f=f.sibling}throw Error(r(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,E=c.child;E;){if(E===i){g=!0,i=c,a=f;break}if(E===a){g=!0,a=c,i=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===i){g=!0,i=f,a=c;break}if(E===a){g=!0,a=f,i=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function x(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=x(t),e!==null)return e;t=t.sibling}return null}var C=Object.assign,z=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),St=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case at:return"Fragment";case St:return"Profiler";case nt:return"StrictMode";case pt:return"Suspense";case ht:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case yt:return t.displayName||"Context";case ot:return(t._context.displayName||"Context")+".Consumer";case rt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return e=t.displayName||null,e!==null?e:it(t.type)||"Memo";case S:e=t._payload,t=t._init;try{return it(t(e))}catch{}}return null}var lt=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},mt=[],Ct=-1;function O(t){return{current:t}}function G(t){0>Ct||(t.current=mt[Ct],mt[Ct]=null,Ct--)}function J(t,e){Ct++,mt[Ct]=t.current,t.current=e}var $=O(null),ft=O(null),At=O(null),Mt=O(null);function Ne(t,e){switch(J(At,e),J(ft,t),J($,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hp(e),t=fp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G($),J($,t)}function ie(){G($),G(ft),G(At)}function Os(t){t.memoizedState!==null&&J(Mt,t);var e=$.current,i=fp(e,t.type);e!==i&&(J(ft,t),J($,i))}function ga(t){ft.current===t&&(G($),G(ft)),Mt.current===t&&(G(Mt),Sl._currentValue=W)}var pa,ya;function Gn(t){if(pa===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);pa=e&&e[1]||"",ya=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ya}var Sr=!1;function Vs(t,e){if(!t||Sr)return"";Sr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(P){var q=P}Reflect.construct(t,[],K)}else{try{K.call()}catch(P){q=P}t.call(K.prototype)}}else{try{throw Error()}catch(P){q=P}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(P){if(P&&q&&typeof P.stack=="string")return[P.stack,q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),B=E.split(`
`);for(c=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(a===N.length||c===B.length)for(a=N.length-1,c=B.length-1;1<=a&&0<=c&&N[a]!==B[c];)c--;for(;1<=a&&0<=c;a--,c--)if(N[a]!==B[c]){if(a!==1||c!==1)do if(a--,c--,0>c||N[a]!==B[c]){var Q=`
`+N[a].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=a&&0<=c);break}}}finally{Sr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Gn(i):""}function Ar(t,e){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==e&&e!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Vs(t.type,!1);case 11:return Vs(t.type.render,!1);case 1:return Vs(t.type,!0);case 31:return Gn("Activity");default:return""}}function xr(t){try{var e="",i=null;do e+=Ar(t,i),i=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ye=Object.prototype.hasOwnProperty,De=l.unstable_scheduleCallback,ki=l.unstable_cancelCallback,ac=l.unstable_shouldYield,Jl=l.unstable_requestPaint,Ze=l.unstable_now,Is=l.unstable_getCurrentPriorityLevel,wr=l.unstable_ImmediatePriority,Rr=l.unstable_UserBlockingPriority,Bi=l.unstable_NormalPriority,rc=l.unstable_LowPriority,$l=l.unstable_IdlePriority,Wl=l.log,to=l.unstable_setDisableYieldValue,Vn=null,Le=null;function _n(t){if(typeof Wl=="function"&&to(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Vn,t)}catch{}}var he=Math.clz32?Math.clz32:no,eo=Math.log,va=Math.LN2;function no(t){return t>>>=0,t===0?32:31-(eo(t)/va|0)|0}var Qn=256,Ms=262144,ve=4194304;function Yn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fn(t,e,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=a&134217727;return E!==0?(a=E&~f,a!==0?c=Yn(a):(g&=E,g!==0?c=Yn(g):i||(i=E&~t,i!==0&&(c=Yn(i))))):(E=a&~f,E!==0?c=Yn(E):g!==0?c=Yn(g):i||(i=a&~t,i!==0&&(c=Yn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function In(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function lc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function Kn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function js(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oc(t,e,i,a,c,f){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(i=g&~i;0<i;){var Q=31-he(i),K=1<<Q;E[Q]=0,N[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var P=q[Q];P!==null&&(P.lane&=-536870913)}i&=~K}a!==0&&zs(t,a,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function zs(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-he(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|i&261930}function Cr(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var a=31-he(i),c=1<<a;c&e|t[a]&e&&(t[a]|=e),i&=~c}}function Nr(t,e){var i=e&-e;return i=(i&42)!==0?1:Us(i),(i&(t.suspendedLanes|e))!==0?0:i}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function so(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:jp(t.type))}function Mn(t,e){var i=Z.p;try{return Z.p=t,e()}finally{Z.p=i}}var jn=Math.random().toString(36).slice(2),_e="__reactFiber$"+jn,Me="__reactProps$"+jn,Xn="__reactContainer$"+jn,_a="__reactEvents$"+jn,uc="__reactListeners$"+jn,ao="__reactHandles$"+jn,ro="__reactResources$"+jn,Zn="__reactMarker$"+jn;function Ea(t){delete t[_e],delete t[Me],delete t[_a],delete t[uc],delete t[ao]}function Jn(t){var e=t[_e];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Xn]||i[_e]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=_p(t);t!==null;){if(i=t[_e])return i;t=_p(t)}return e}t=i,i=t.parentNode}return null}function En(t){if(t=t[_e]||t[Xn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function cn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function $n(t){var e=t[ro];return e||(e=t[ro]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ee(t){t[Zn]=!0}var Dr=new Set,Or={};function Wn(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(Or[t]=e,t=0;t<e.length;t++)Dr.add(e[t])}var Vr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Mr={};function lo(t){return ye.call(Mr,t)?!0:ye.call(Ir,t)?!1:Vr.test(t)?Mr[t]=!0:(Ir[t]=!0,!1)}function ba(t,e,i){if(lo(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function hn(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function be(t,e,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+a)}}function je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jr(t,e,i){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ft(t){if(!t._valueTracker){var e=qi(t)?"checked":"value";t._valueTracker=jr(t,e,""+t[e])}}function Ls(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),a="";return t&&(a=qi(t)?t.checked?"true":"false":t.value),t=a,t!==i?(e.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ks=/[\n"\\]/g;function en(t){return t.replace(ks,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ta(t,e,i,a,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+je(e)):t.value!==""+je(e)&&(t.value=""+je(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?zr(t,g,je(e)):i!=null?zr(t,g,je(i)):a!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+je(E):t.removeAttribute("name")}function oo(t,e,i,a,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Ft(t);return}i=i!=null?""+je(i):"",e=e!=null?""+je(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=E?t.checked:!!a,t.defaultChecked=!!a,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function zr(t,e,i){e==="number"&&ei(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Hi(t,e,i,a){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&a&&(t[i].defaultSelected=!0)}else{for(i=""+je(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function uo(t,e,i){if(e!=null&&(e=""+je(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+je(i):""}function Pi(t,e,i,a){if(e==null){if(a!=null){if(i!=null)throw Error(r(92));if(lt(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),e=i}i=je(e),t.defaultValue=i,a=t.textContent,a===i&&a!==""&&a!==null&&(t.value=a),Ft(t)}function nn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(t,e,i){var a=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,i):typeof i!="number"||i===0||co.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Lr(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var c in e)a=e[c],e.hasOwnProperty(c)&&i[c]!==a&&Ur(t,c,a)}else for(var f in e)e.hasOwnProperty(f)&&Ur(t,f,e[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var kr=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,ni=null;function Bs(t){var e=En(t);if(e&&(t=e.stateNode)){var i=t[Me]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ta(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+en(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var a=i[e];if(a!==t&&a.form===t.form){var c=a[Me]||null;if(!c)throw Error(r(90));Ta(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)a=i[e],a.form===t.form&&Ls(a)}break t;case"textarea":uo(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Hi(t,!!i.multiple,e,!1)}}}var xa=!1;function Yi(t,e,i){if(xa)return t(e,i);xa=!0;try{var a=t(e);return a}finally{if(xa=!1,(Qi!==null||ni!==null)&&(au(),Qi&&(e=Qi,t=ni,ni=Qi=null,Bs(e),t)))for(e=0;e<t.length;e++)Bs(t[e])}}function Un(t,e){var i=t.stateNode;if(i===null)return null;var a=i[Me]||null;if(a===null)return null;i=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Tn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{qs=!1}var ii=null,Br=null,Hs=null;function qr(){if(Hs)return Hs;var t,e=Br,i=e.length,a,c="value"in ii?ii.value:ii.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var g=i-t;for(a=1;a<=g&&e[i-a]===c[f-a];a++);return Hs=c.slice(t,1<a?1-a:void 0)}function Ps(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function Ln(){return!1}function ke(t){function e(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_i:Ln,this.isPropagationStopped=Ln,this}return C(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=ke(Ei),Fi=C({},Ei,{view:0,detail:0}),Hr=ke(Fi),Ki,wa,ai,Ra=C({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Ki=t.screenX-ai.screenX,wa=t.screenY-ai.screenY):wa=Ki=0,ai=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Pr=ke(Ra),Gs=C({},Ra,{dataTransfer:0}),fo=ke(Gs),mo=C({},Fi,{relatedTarget:0}),Qs=ke(mo),Gr=C({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),go=ke(Gr),Ca=C({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),po=ke(Ca),yo=C({},Ei,{data:0}),ri=ke(yo),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eo[t])?!!e[t]:!1}function Xi(){return bo}var Je=C({},Fi,{key:function(t){if(t.key){var e=vo[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=ke(Je),So=C({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=ke(So),o=C({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),m=ke(o),p=C({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=ke(p),L=C({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=ke(L),et=C({},Ei,{newState:0,oldState:0}),Nt=ke(et),fe=[9,13,27,32],Qt=Tn&&"CompositionEvent"in window,se=null;Tn&&"documentMode"in document&&(se=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!se,li=Tn&&(!Qt||se&&8<se&&11>=se),kn=" ",Bn=!1;function Ys(t,e){switch(t){case"keyup":return fe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function zv(t,e){switch(t){case"compositionend":return Na(e);case"keypress":return e.which!==32?null:(Bn=!0,kn);case"textInput":return t=e.data,t===kn&&Bn?null:t;default:return null}}function Uv(t,e){if(Da)return t==="compositionend"||!Qt&&Ys(t,e)?(t=qr(),Hs=Br=ii=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return li&&e.locale!=="ko"?null:e.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lv[t.type]:e==="textarea"}function Sd(t,e,i,a){Qi?ni?ni.push(a):ni=[a]:Qi=a,e=fu(e,"onChange"),0<e.length&&(i=new si("onChange","change",null,i,a),t.push({event:i,listeners:e}))}var Qr=null,Yr=null;function kv(t){ap(t,0)}function Ao(t){var e=cn(t);if(Ls(e))return t}function Ad(t,e){if(t==="change")return e}var xd=!1;if(Tn){var cc;if(Tn){var hc="oninput"in document;if(!hc){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),hc=typeof wd.oninput=="function"}cc=hc}else cc=!1;xd=cc&&(!document.documentMode||9<document.documentMode)}function Rd(){Qr&&(Qr.detachEvent("onpropertychange",Cd),Yr=Qr=null)}function Cd(t){if(t.propertyName==="value"&&Ao(Yr)){var e=[];Sd(e,Yr,t,bn(t)),Yi(kv,e)}}function Bv(t,e,i){t==="focusin"?(Rd(),Qr=e,Yr=i,Qr.attachEvent("onpropertychange",Cd)):t==="focusout"&&Rd()}function qv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Yr)}function Hv(t,e){if(t==="click")return Ao(e)}function Pv(t,e){if(t==="input"||t==="change")return Ao(e)}function Gv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:Gv;function Fr(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!ye.call(e,c)||!fn(t[c],e[c]))return!1}return!0}function Nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,e){var i=Nd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=e&&a>=e)return{node:i,offset:e-t};t=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Nd(i)}}function Od(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Od(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ei(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=ei(t.document)}return e}function fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Qv=Tn&&"documentMode"in document&&11>=document.documentMode,Oa=null,dc=null,Kr=null,mc=!1;function Id(t,e,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mc||Oa==null||Oa!==ei(a)||(a=Oa,"selectionStart"in a&&fc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Kr&&Fr(Kr,a)||(Kr=a,a=fu(dc,"onSelect"),0<a.length&&(e=new si("onSelect","select",null,e,i),t.push({event:e,listeners:a}),e.target=Oa)))}function Fs(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Va={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},gc={},Md={};Tn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Ks(t){if(gc[t])return gc[t];if(!Va[t])return t;var e=Va[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Md)return gc[t]=e[i];return t}var jd=Ks("animationend"),zd=Ks("animationiteration"),Ud=Ks("animationstart"),Yv=Ks("transitionrun"),Fv=Ks("transitionstart"),Kv=Ks("transitioncancel"),Ld=Ks("transitionend"),kd=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function qn(t,e){kd.set(t,e),Wn(e,[t])}var xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],Ia=0,yc=0;function wo(){for(var t=Ia,e=yc=Ia=0;e<t;){var i=An[e];An[e++]=null;var a=An[e];An[e++]=null;var c=An[e];An[e++]=null;var f=An[e];if(An[e++]=null,a!==null&&c!==null){var g=a.pending;g===null?c.next=c:(c.next=g.next,g.next=c),a.pending=c}f!==0&&Bd(i,c,f)}}function Ro(t,e,i,a){An[Ia++]=t,An[Ia++]=e,An[Ia++]=i,An[Ia++]=a,yc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function vc(t,e,i,a){return Ro(t,e,i,a),Co(t)}function Xs(t,e){return Ro(t,null,null,e),Co(t)}function Bd(t,e,i){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,a=f.alternate,a!==null&&(a.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-he(i),t=f.hiddenUpdates,a=t[c],a===null?t[c]=[e]:a.push(e),e.lane=i|536870912),f):null}function Co(t){if(50<pl)throw pl=0,Rh=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ma={};function Xv(t,e,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,i,a){return new Xv(t,e,i,a)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,e){var i=t.alternate;return i===null?(i=dn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function qd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function No(t,e,i,a,c,f){var g=0;if(a=t,typeof t=="function")_c(t)&&(g=1);else if(typeof t=="string")g=t1(t,i,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=dn(31,i,e,c),t.elementType=R,t.lanes=f,t;case at:return Zs(i.children,c,f,e);case nt:g=8,c|=24;break;case St:return t=dn(12,i,e,c|2),t.elementType=St,t.lanes=f,t;case pt:return t=dn(13,i,e,c),t.elementType=pt,t.lanes=f,t;case ht:return t=dn(19,i,e,c),t.elementType=ht,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yt:g=10;break t;case ot:g=9;break t;case rt:g=11;break t;case A:g=14;break t;case S:g=16,a=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=dn(g,i,e,c),e.elementType=t,e.type=a,e.lanes=f,e}function Zs(t,e,i,a){return t=dn(7,t,a,e),t.lanes=i,t}function Ec(t,e,i){return t=dn(6,t,null,e),t.lanes=i,t}function Hd(t){var e=dn(18,null,null,0);return e.stateNode=t,e}function bc(t,e,i){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Pd=new WeakMap;function xn(t,e){if(typeof t=="object"&&t!==null){var i=Pd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:xr(e)},Pd.set(t,e),e)}return{value:t,source:e,stack:xr(e)}}var ja=[],za=0,Do=null,Xr=0,wn=[],Rn=0,Zi=null,oi=1,ui="";function Si(t,e){ja[za++]=Xr,ja[za++]=Do,Do=t,Xr=e}function Gd(t,e,i){wn[Rn++]=oi,wn[Rn++]=ui,wn[Rn++]=Zi,Zi=t;var a=oi;t=ui;var c=32-he(a)-1;a&=~(1<<c),i+=1;var f=32-he(e)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,oi=1<<32-he(e)+c|i<<c|a,ui=f+t}else oi=1<<f|i<<c|a,ui=t}function Tc(t){t.return!==null&&(Si(t,1),Gd(t,1,0))}function Sc(t){for(;t===Do;)Do=ja[--za],ja[za]=null,Xr=ja[--za],ja[za]=null;for(;t===Zi;)Zi=wn[--Rn],wn[Rn]=null,ui=wn[--Rn],wn[Rn]=null,oi=wn[--Rn],wn[Rn]=null}function Qd(t,e){wn[Rn++]=oi,wn[Rn++]=ui,wn[Rn++]=Zi,oi=e.id,ui=e.overflow,Zi=t}var Be=null,ee=null,Ut=!1,Ji=null,Cn=!1,Ac=Error(r(519));function $i(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(xn(e,t)),Ac}function Yd(t){var e=t.stateNode,i=t.type,a=t.memoizedProps;switch(e[_e]=t,e[Me]=a,i){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(i=0;i<vl.length;i++)It(vl[i],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),oo(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),Pi(e,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||a.suppressHydrationWarning===!0||up(e.textContent,i)?(a.popover!=null&&(It("beforetoggle",e),It("toggle",e)),a.onScroll!=null&&It("scroll",e),a.onScrollEnd!=null&&It("scrollend",e),a.onClick!=null&&(e.onclick=zn),e=!0):e=!1,e||$i(t,!0)}function Fd(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Be=Be.return}}function Ua(t){if(t!==Be)return!1;if(!Ut)return Fd(t),Ut=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Hh(t.type,t.memoizedProps)),i=!i),i&&ee&&$i(t),Fd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=vp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=vp(t)}else e===27?(e=ee,fs(t.type)?(t=Fh,Fh=null,ee=t):ee=e):ee=Be?Dn(t.stateNode.nextSibling):null;return!0}function Js(){ee=Be=null,Ut=!1}function xc(){var t=Ji;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ji=null),t}function Zr(t){Ji===null?Ji=[t]:Ji.push(t)}var wc=O(null),$s=null,Ai=null;function Wi(t,e,i){J(wc,e._currentValue),e._currentValue=i}function xi(t){t._currentValue=wc.current,G(wc)}function Rc(t,e,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===i)break;t=t.return}}function Cc(t,e,i,a){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<e.length;N++)if(E.context===e[N]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),Rc(f.return,i,t),a||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Rc(g,i,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function La(t,e,i,a){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&Cc(e,t,i,a),e.flags|=262144}function Oo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){$s=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Kd($s,t)}function Vo(t,e){return $s===null&&Ws(t),Kd(t,e)}function Kd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Ai===null){if(t===null)throw Error(r(308));Ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ai=Ai.next=e;return i}var Zv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Jv=l.unstable_scheduleCallback,$v=l.unstable_NormalPriority,Te={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Zv,data:new Map,refCount:0}}function Jr(t){t.refCount--,t.refCount===0&&Jv($v,function(){t.controller.abort()})}var $r=null,Dc=0,ka=0,Ba=null;function Wv(t,e){if($r===null){var i=$r=[];Dc=0,ka=Ih(),Ba={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Dc++,e.then(Xd,Xd),e}function Xd(){if(--Dc===0&&$r!==null){Ba!==null&&(Ba.status="fulfilled");var t=$r;$r=null,ka=0,Ba=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function t_(t,e){var i=[],a={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(a.status="rejected",a.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),a}var Zd=U.S;U.S=function(t,e){Ig=Ze(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Wv(t,e),Zd!==null&&Zd(t,e)};var ta=O(null);function Oc(){var t=ta.current;return t!==null?t:te.pooledCache}function Io(t,e){e===null?J(ta,ta.current):J(ta,e.pool)}function Jd(){var t=Oc();return t===null?null:{parent:Te._currentValue,pool:t}}var qa=Error(r(460)),Vc=Error(r(474)),Mo=Error(r(542)),jo={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(zn,zn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,em(t),t;default:if(typeof e.status=="string")e.then(zn,zn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=a}},function(a){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,em(t),t}throw na=e,qa}}function ea(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(na=i,qa):i}}var na=null;function tm(){if(na===null)throw Error(r(459));var t=na;return na=null,t}function em(t){if(t===qa||t===Mo)throw Error(r(483))}var Ha=null,Wr=0;function zo(t){var e=Wr;return Wr+=1,Ha===null&&(Ha=[]),Wd(Ha,t,e)}function tl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Uo(t,e){throw e.$$typeof===z?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nm(t){function e(j,V){if(t){var k=j.deletions;k===null?(j.deletions=[V],j.flags|=16):k.push(V)}}function i(j,V){if(!t)return null;for(;V!==null;)e(j,V),V=V.sibling;return null}function a(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function c(j,V){return j=Ti(j,V),j.index=0,j.sibling=null,j}function f(j,V,k){return j.index=k,t?(k=j.alternate,k!==null?(k=k.index,k<V?(j.flags|=67108866,V):k):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,V,k,F){return V===null||V.tag!==6?(V=Ec(k,j.mode,F),V.return=j,V):(V=c(V,k),V.return=j,V)}function N(j,V,k,F){var _t=k.type;return _t===at?Q(j,V,k.props.children,F,k.key):V!==null&&(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&ea(_t)===V.type)?(V=c(V,k.props),tl(V,k),V.return=j,V):(V=No(k.type,k.key,k.props,null,j.mode,F),tl(V,k),V.return=j,V)}function B(j,V,k,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=bc(k,j.mode,F),V.return=j,V):(V=c(V,k.children||[]),V.return=j,V)}function Q(j,V,k,F,_t){return V===null||V.tag!==7?(V=Zs(k,j.mode,F,_t),V.return=j,V):(V=c(V,k),V.return=j,V)}function K(j,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ec(""+V,j.mode,k),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Y:return k=No(V.type,V.key,V.props,null,j.mode,k),tl(k,V),k.return=j,k;case tt:return V=bc(V,j.mode,k),V.return=j,V;case S:return V=ea(V),K(j,V,k)}if(lt(V)||M(V))return V=Zs(V,j.mode,k,null),V.return=j,V;if(typeof V.then=="function")return K(j,zo(V),k);if(V.$$typeof===yt)return K(j,Vo(j,V),k);Uo(j,V)}return null}function q(j,V,k,F){var _t=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return _t!==null?null:E(j,V,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Y:return k.key===_t?N(j,V,k,F):null;case tt:return k.key===_t?B(j,V,k,F):null;case S:return k=ea(k),q(j,V,k,F)}if(lt(k)||M(k))return _t!==null?null:Q(j,V,k,F,null);if(typeof k.then=="function")return q(j,V,zo(k),F);if(k.$$typeof===yt)return q(j,V,Vo(j,k),F);Uo(j,k)}return null}function P(j,V,k,F,_t){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(k)||null,E(V,j,""+F,_t);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return j=j.get(F.key===null?k:F.key)||null,N(V,j,F,_t);case tt:return j=j.get(F.key===null?k:F.key)||null,B(V,j,F,_t);case S:return F=ea(F),P(j,V,k,F,_t)}if(lt(F)||M(F))return j=j.get(k)||null,Q(V,j,F,_t,null);if(typeof F.then=="function")return P(j,V,k,zo(F),_t);if(F.$$typeof===yt)return P(j,V,k,Vo(V,F),_t);Uo(V,F)}return null}function dt(j,V,k,F){for(var _t=null,Pt=null,gt=V,Ot=V=0,zt=null;gt!==null&&Ot<k.length;Ot++){gt.index>Ot?(zt=gt,gt=null):zt=gt.sibling;var Gt=q(j,gt,k[Ot],F);if(Gt===null){gt===null&&(gt=zt);break}t&&gt&&Gt.alternate===null&&e(j,gt),V=f(Gt,V,Ot),Pt===null?_t=Gt:Pt.sibling=Gt,Pt=Gt,gt=zt}if(Ot===k.length)return i(j,gt),Ut&&Si(j,Ot),_t;if(gt===null){for(;Ot<k.length;Ot++)gt=K(j,k[Ot],F),gt!==null&&(V=f(gt,V,Ot),Pt===null?_t=gt:Pt.sibling=gt,Pt=gt);return Ut&&Si(j,Ot),_t}for(gt=a(gt);Ot<k.length;Ot++)zt=P(gt,j,Ot,k[Ot],F),zt!==null&&(t&&zt.alternate!==null&&gt.delete(zt.key===null?Ot:zt.key),V=f(zt,V,Ot),Pt===null?_t=zt:Pt.sibling=zt,Pt=zt);return t&&gt.forEach(function(ys){return e(j,ys)}),Ut&&Si(j,Ot),_t}function bt(j,V,k,F){if(k==null)throw Error(r(151));for(var _t=null,Pt=null,gt=V,Ot=V=0,zt=null,Gt=k.next();gt!==null&&!Gt.done;Ot++,Gt=k.next()){gt.index>Ot?(zt=gt,gt=null):zt=gt.sibling;var ys=q(j,gt,Gt.value,F);if(ys===null){gt===null&&(gt=zt);break}t&&gt&&ys.alternate===null&&e(j,gt),V=f(ys,V,Ot),Pt===null?_t=ys:Pt.sibling=ys,Pt=ys,gt=zt}if(Gt.done)return i(j,gt),Ut&&Si(j,Ot),_t;if(gt===null){for(;!Gt.done;Ot++,Gt=k.next())Gt=K(j,Gt.value,F),Gt!==null&&(V=f(Gt,V,Ot),Pt===null?_t=Gt:Pt.sibling=Gt,Pt=Gt);return Ut&&Si(j,Ot),_t}for(gt=a(gt);!Gt.done;Ot++,Gt=k.next())Gt=P(gt,j,Ot,Gt.value,F),Gt!==null&&(t&&Gt.alternate!==null&&gt.delete(Gt.key===null?Ot:Gt.key),V=f(Gt,V,Ot),Pt===null?_t=Gt:Pt.sibling=Gt,Pt=Gt);return t&&gt.forEach(function(h1){return e(j,h1)}),Ut&&Si(j,Ot),_t}function Wt(j,V,k,F){if(typeof k=="object"&&k!==null&&k.type===at&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Y:t:{for(var _t=k.key;V!==null;){if(V.key===_t){if(_t=k.type,_t===at){if(V.tag===7){i(j,V.sibling),F=c(V,k.props.children),F.return=j,j=F;break t}}else if(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&ea(_t)===V.type){i(j,V.sibling),F=c(V,k.props),tl(F,k),F.return=j,j=F;break t}i(j,V);break}else e(j,V);V=V.sibling}k.type===at?(F=Zs(k.props.children,j.mode,F,k.key),F.return=j,j=F):(F=No(k.type,k.key,k.props,null,j.mode,F),tl(F,k),F.return=j,j=F)}return g(j);case tt:t:{for(_t=k.key;V!==null;){if(V.key===_t)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){i(j,V.sibling),F=c(V,k.children||[]),F.return=j,j=F;break t}else{i(j,V);break}else e(j,V);V=V.sibling}F=bc(k,j.mode,F),F.return=j,j=F}return g(j);case S:return k=ea(k),Wt(j,V,k,F)}if(lt(k))return dt(j,V,k,F);if(M(k)){if(_t=M(k),typeof _t!="function")throw Error(r(150));return k=_t.call(k),bt(j,V,k,F)}if(typeof k.then=="function")return Wt(j,V,zo(k),F);if(k.$$typeof===yt)return Wt(j,V,Vo(j,k),F);Uo(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(i(j,V.sibling),F=c(V,k),F.return=j,j=F):(i(j,V),F=Ec(k,j.mode,F),F.return=j,j=F),g(j)):i(j,V)}return function(j,V,k,F){try{Wr=0;var _t=Wt(j,V,k,F);return Ha=null,_t}catch(gt){if(gt===qa||gt===Mo)throw gt;var Pt=dn(29,gt,null,j.mode);return Pt.lanes=F,Pt.return=j,Pt}finally{}}}var ia=nm(!0),im=nm(!1),ts=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,e,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Yt&2)!==0){var c=a.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),a.pending=e,e=Co(t),Bd(t,null,i),e}return Ro(t,a,e,i),Co(t)}function el(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,Cr(t,i)}}function jc(t,e){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var zc=!1;function nl(){if(zc){var t=Ba;if(t!==null)throw t}}function il(t,e,i,a){zc=!1;var c=t.updateQueue;ts=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=N))}if(f!==null){var K=c.baseState;g=0,Q=B=N=null,E=f;do{var q=E.lane&-536870913,P=q!==E.lane;if(P?(jt&q)===q:(a&q)===q){q!==0&&q===ka&&(zc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,bt=E;q=e;var Wt=i;switch(bt.tag){case 1:if(dt=bt.payload,typeof dt=="function"){K=dt.call(Wt,K,q);break t}K=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=bt.payload,q=typeof dt=="function"?dt.call(Wt,K,q):dt,q==null)break t;K=C({},K,q);break t;case 2:ts=!0}}q=E.callback,q!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[q]:P.push(q))}else P={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=P,N=K):Q=Q.next=P,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);Q===null&&(N=K),c.baseState=N,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ls|=g,t.lanes=g,t.memoizedState=K}}function sm(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function am(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)sm(i[t],e)}var Pa=O(null),Lo=O(0);function rm(t,e){t=Mi,J(Lo,t),J(Pa,e),Mi=t|e.baseLanes}function Uc(){J(Lo,Mi),J(Pa,Pa.current)}function Lc(){Mi=Lo.current,G(Pa),G(Lo)}var mn=O(null),Nn=null;function is(t){var e=t.alternate;J(de,de.current&1),J(mn,t),Nn===null&&(e===null||Pa.current!==null||e.memoizedState!==null)&&(Nn=t)}function kc(t){J(de,de.current),J(mn,t),Nn===null&&(Nn=t)}function lm(t){t.tag===22?(J(de,de.current),J(mn,t),Nn===null&&(Nn=t)):ss()}function ss(){J(de,de.current),J(mn,mn.current)}function gn(t){G(mn),Nn===t&&(Nn=null),G(de)}var de=O(0);function ko(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Qh(i)||Yh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,Dt=null,Jt=null,Se=null,Bo=!1,Ga=!1,sa=!1,qo=0,sl=0,Qa=null,e_=0;function oe(){throw Error(r(321))}function Bc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!fn(t[i],e[i]))return!1;return!0}function qc(t,e,i,a,c,f){return wi=f,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U.H=t===null||t.memoizedState===null?Gm:nh,sa=!1,f=i(a,c),sa=!1,Ga&&(f=um(e,i,a,c)),om(t),f}function om(t){U.H=ll;var e=Jt!==null&&Jt.next!==null;if(wi=0,Se=Jt=Dt=null,Bo=!1,sl=0,Qa=null,e)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&Oo(t)&&(Ae=!0))}function um(t,e,i,a){Dt=t;var c=0;do{if(Ga&&(Qa=null),sl=0,Ga=!1,25<=c)throw Error(r(301));if(c+=1,Se=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Qm,f=e(i,a)}while(Ga);return f}function n_(){var t=U.H,e=t.useState()[0];return e=typeof e.then=="function"?al(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Dt.flags|=1024),e}function Hc(){var t=qo!==0;return qo=0,t}function Pc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Gc(t){if(Bo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Bo=!1}wi=0,Se=Jt=Dt=null,Ga=!1,sl=qo=0,Qa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Dt.memoizedState=Se=t:Se=Se.next=t,Se}function me(){if(Jt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=Se===null?Dt.memoizedState:Se.next;if(e!==null)Se=e,Jt=t;else{if(t===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Dt.memoizedState=Se=t:Se=Se.next=t}return Se}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var e=sl;return sl+=1,Qa===null&&(Qa=[]),t=Wd(Qa,t,e),e=Dt,(Se===null?e.memoizedState:Se.next)===null&&(e=e.alternate,U.H=e===null||e.memoizedState===null?Gm:nh),t}function Po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===yt)return qe(t)}throw Error(r(438,String(t)))}function Qc(t){var e=null,i=Dt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var a=Dt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Ho(),Dt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),a=0;a<t;a++)i[a]=I;return e.index++,i}function Ri(t,e){return typeof e=="function"?e(t):e}function Go(t){var e=me();return Yc(e,Jt,t)}function Yc(t,e,i){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var c=t.baseQueue,f=a.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}e.baseQueue=c=f,a.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=g=null,N=null,B=e,Q=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(jt&K)===K:(wi&K)===K){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===ka&&(Q=!0);else if((wi&q)===q){B=B.next,q===ka&&(Q=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=K,g=f):N=N.next=K,Dt.lanes|=q,ls|=q;K=B.action,sa&&i(f,K),f=B.hasEagerState?B.eagerState:i(f,K)}else q={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=q,g=f):N=N.next=q,Dt.lanes|=K,ls|=K;B=B.next}while(B!==null&&B!==e);if(N===null?g=f:N.next=E,!fn(f,t.memoizedState)&&(Ae=!0,Q&&(i=Ba,i!==null)))throw i;t.memoizedState=f,t.baseState=g,t.baseQueue=N,a.lastRenderedState=f}return c===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Fc(t){var e=me(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var a=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,e.memoizedState)||(Ae=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,a]}function cm(t,e,i){var a=Dt,c=me(),f=Ut;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!fn((Jt||c).memoizedState,i);if(g&&(c.memoizedState=i,Ae=!0),c=c.queue,Zc(dm.bind(null,a,c,t),[t]),c.getSnapshot!==e||g||Se!==null&&Se.memoizedState.tag&1){if(a.flags|=2048,Ya(9,{destroy:void 0},fm.bind(null,a,c,i,e),null),te===null)throw Error(r(349));f||(wi&127)!==0||hm(a,e,i)}return i}function hm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Dt.updateQueue,e===null?(e=Ho(),Dt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function fm(t,e,i,a){e.value=i,e.getSnapshot=a,mm(e)&&gm(t)}function dm(t,e,i){return i(function(){mm(e)&&gm(t)})}function mm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!fn(t,i)}catch{return!0}}function gm(t){var e=Xs(t,2);e!==null&&on(e,t,2)}function Kc(t){var e=$e();if(typeof t=="function"){var i=t;if(t=i(),sa){_n(!0);try{i()}finally{_n(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},e}function pm(t,e,i,a){return t.baseState=i,Yc(t,Jt,typeof a=="function"?a:Ri)}function i_(t,e,i,a,c){if(Fo(t))throw Error(r(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?i(!0):f.isTransition=!1,a(f),i=e.pending,i===null?(f.next=e.pending=f,ym(e,f)):(f.next=i.next,e.pending=i.next=f)}}function ym(t,e){var i=e.action,a=e.payload,c=t.state;if(e.isTransition){var f=U.T,g={};U.T=g;try{var E=i(c,a),N=U.S;N!==null&&N(g,E),vm(t,e,E)}catch(B){Xc(t,e,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=i(c,a),vm(t,e,f)}catch(B){Xc(t,e,B)}}function vm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){_m(t,e,a)},function(a){return Xc(t,e,a)}):_m(t,e,i)}function _m(t,e,i){e.status="fulfilled",e.value=i,Em(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,ym(t,i)))}function Xc(t,e,i){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=i,Em(e),e=e.next;while(e!==a)}t.action=null}function Em(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bm(t,e){return e}function Tm(t,e){if(Ut){var i=te.formState;if(i!==null){t:{var a=Dt;if(Ut){if(ee){e:{for(var c=ee,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Dn(c.nextSibling),a=c.data==="F!";break t}}$i(a)}a=!1}a&&(e=i[0])}}return i=$e(),i.memoizedState=i.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:e},i.queue=a,i=qm.bind(null,Dt,a),a.dispatch=i,a=Kc(!1),f=eh.bind(null,Dt,!1,a.queue),a=$e(),c={state:e,dispatch:null,action:t,pending:null},a.queue=c,i=i_.bind(null,Dt,c,f,i),c.dispatch=i,a.memoizedState=t,[e,i,!1]}function Sm(t){var e=me();return Am(e,Jt,t)}function Am(t,e,i){if(e=Yc(t,e,bm)[0],t=Go(Ri)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=al(e)}catch(g){throw g===qa?Mo:g}else a=e;e=me();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(Dt.flags|=2048,Ya(9,{destroy:void 0},s_.bind(null,c,i),null)),[a,f,t]}function s_(t,e){t.action=e}function xm(t){var e=me(),i=Jt;if(i!==null)return Am(e,i,t);me(),e=e.memoizedState,i=me();var a=i.queue.dispatch;return i.memoizedState=t,[e,a,!1]}function Ya(t,e,i,a){return t={tag:t,create:i,deps:a,inst:e,next:null},e=Dt.updateQueue,e===null&&(e=Ho(),Dt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,e.lastEffect=t),t}function wm(){return me().memoizedState}function Qo(t,e,i,a){var c=$e();Dt.flags|=t,c.memoizedState=Ya(1|e,{destroy:void 0},i,a===void 0?null:a)}function Yo(t,e,i,a){var c=me();a=a===void 0?null:a;var f=c.memoizedState.inst;Jt!==null&&a!==null&&Bc(a,Jt.memoizedState.deps)?c.memoizedState=Ya(e,f,i,a):(Dt.flags|=t,c.memoizedState=Ya(1|e,f,i,a))}function Rm(t,e){Qo(8390656,8,t,e)}function Zc(t,e){Yo(2048,8,t,e)}function a_(t){Dt.flags|=4;var e=Dt.updateQueue;if(e===null)e=Ho(),Dt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Cm(t){var e=me().memoizedState;return a_({ref:e,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Nm(t,e){return Yo(4,2,t,e)}function Dm(t,e){return Yo(4,4,t,e)}function Om(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vm(t,e,i){i=i!=null?i.concat([t]):null,Yo(4,4,Om.bind(null,e,t),i)}function Jc(){}function Im(t,e){var i=me();e=e===void 0?null:e;var a=i.memoizedState;return e!==null&&Bc(e,a[1])?a[0]:(i.memoizedState=[t,e],t)}function Mm(t,e){var i=me();e=e===void 0?null:e;var a=i.memoizedState;if(e!==null&&Bc(e,a[1]))return a[0];if(a=t(),sa){_n(!0);try{t()}finally{_n(!1)}}return i.memoizedState=[a,e],a}function $c(t,e,i){return i===void 0||(wi&1073741824)!==0&&(jt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=jg(),Dt.lanes|=t,ls|=t,i)}function jm(t,e,i,a){return fn(i,e)?i:Pa.current!==null?(t=$c(t,i,a),fn(t,e)||(Ae=!0),t):(wi&42)===0||(wi&1073741824)!==0&&(jt&261930)===0?(Ae=!0,t.memoizedState=i):(t=jg(),Dt.lanes|=t,ls|=t,e)}function zm(t,e,i,a,c){var f=Z.p;Z.p=f!==0&&8>f?f:8;var g=U.T,E={};U.T=E,eh(t,!1,e,i);try{var N=c(),B=U.S;if(B!==null&&B(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=t_(N,a);rl(t,e,Q,vn(t))}else rl(t,e,a,vn(t))}catch(K){rl(t,e,{then:function(){},status:"rejected",reason:K},vn())}finally{Z.p=f,g!==null&&E.types!==null&&(g.types=E.types),U.T=g}}function r_(){}function Wc(t,e,i,a){if(t.tag!==5)throw Error(r(476));var c=Um(t).queue;zm(t,c,e,W,i===null?r_:function(){return Lm(t),i(a)})}function Um(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:W},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Lm(t){var e=Um(t);e.next===null&&(e=t.alternate.memoizedState),rl(t,e.next.queue,{},vn())}function th(){return qe(Sl)}function km(){return me().memoizedState}function Bm(){return me().memoizedState}function l_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=vn();t=es(i);var a=ns(e,t,i);a!==null&&(on(a,e,i),el(a,e,i)),e={cache:Nc()},t.payload=e;return}e=e.return}}function o_(t,e,i){var a=vn();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fo(t)?Hm(e,i):(i=vc(t,e,i,a),i!==null&&(on(i,t,a),Pm(i,e,a)))}function qm(t,e,i){var a=vn();rl(t,e,i,a)}function rl(t,e,i,a){var c={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fo(t))Hm(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,E=f(g,i);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Ro(t,e,c,0),te===null&&wo(),!1}catch{}finally{}if(i=vc(t,e,c,a),i!==null)return on(i,t,a),Pm(i,e,a),!0}return!1}function eh(t,e,i,a){if(a={lane:2,revertLane:Ih(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fo(t)){if(e)throw Error(r(479))}else e=vc(t,i,a,2),e!==null&&on(e,t,2)}function Fo(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function Hm(t,e){Ga=Bo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Pm(t,e,i){if((i&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,Cr(t,i)}}var ll={readContext:qe,use:Po,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};ll.useEffectEvent=oe;var Gm={readContext:qe,use:Po,useCallback:function(t,e){return $e().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:Rm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Qo(4194308,4,Om.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){Qo(4,2,t,e)},useMemo:function(t,e){var i=$e();e=e===void 0?null:e;var a=t();if(sa){_n(!0);try{t()}finally{_n(!1)}}return i.memoizedState=[a,e],a},useReducer:function(t,e,i){var a=$e();if(i!==void 0){var c=i(e);if(sa){_n(!0);try{i(e)}finally{_n(!1)}}}else c=e;return a.memoizedState=a.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},a.queue=t,t=t.dispatch=o_.bind(null,Dt,t),[a.memoizedState,t]},useRef:function(t){var e=$e();return t={current:t},e.memoizedState=t},useState:function(t){t=Kc(t);var e=t.queue,i=qm.bind(null,Dt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Jc,useDeferredValue:function(t,e){var i=$e();return $c(i,t,e)},useTransition:function(){var t=Kc(!1);return t=zm.bind(null,Dt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var a=Dt,c=$e();if(Ut){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),te===null)throw Error(r(349));(jt&127)!==0||hm(a,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,Rm(dm.bind(null,a,f,t),[t]),a.flags|=2048,Ya(9,{destroy:void 0},fm.bind(null,a,f,i,e),null),i},useId:function(){var t=$e(),e=te.identifierPrefix;if(Ut){var i=ui,a=oi;i=(a&~(1<<32-he(a)-1)).toString(32)+i,e="_"+e+"R_"+i,i=qo++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=e_++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:th,useFormState:Tm,useActionState:Tm,useOptimistic:function(t){var e=$e();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=eh.bind(null,Dt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Qc,useCacheRefresh:function(){return $e().memoizedState=l_.bind(null,Dt)},useEffectEvent:function(t){var e=$e(),i={impl:t};return e.memoizedState=i,function(){if((Yt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},nh={readContext:qe,use:Po,useCallback:Im,useContext:qe,useEffect:Zc,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Dm,useMemo:Mm,useReducer:Go,useRef:wm,useState:function(){return Go(Ri)},useDebugValue:Jc,useDeferredValue:function(t,e){var i=me();return jm(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Go(Ri)[0],e=me().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:cm,useId:km,useHostTransitionStatus:th,useFormState:Sm,useActionState:Sm,useOptimistic:function(t,e){var i=me();return pm(i,Jt,t,e)},useMemoCache:Qc,useCacheRefresh:Bm};nh.useEffectEvent=Cm;var Qm={readContext:qe,use:Po,useCallback:Im,useContext:qe,useEffect:Zc,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Dm,useMemo:Mm,useReducer:Fc,useRef:wm,useState:function(){return Fc(Ri)},useDebugValue:Jc,useDeferredValue:function(t,e){var i=me();return Jt===null?$c(i,t,e):jm(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Fc(Ri)[0],e=me().memoizedState;return[typeof t=="boolean"?t:al(t),e]},useSyncExternalStore:cm,useId:km,useHostTransitionStatus:th,useFormState:xm,useActionState:xm,useOptimistic:function(t,e){var i=me();return Jt!==null?pm(i,Jt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:Bm};Qm.useEffectEvent=Cm;function ih(t,e,i,a){e=t.memoizedState,i=i(a,e),i=i==null?e:C({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var sh={enqueueSetState:function(t,e,i){t=t._reactInternals;var a=vn(),c=es(a);c.payload=e,i!=null&&(c.callback=i),e=ns(t,c,a),e!==null&&(on(e,t,a),el(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var a=vn(),c=es(a);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=ns(t,c,a),e!==null&&(on(e,t,a),el(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=vn(),a=es(i);a.tag=2,e!=null&&(a.callback=e),e=ns(t,a,i),e!==null&&(on(e,t,i),el(e,t,i))}};function Ym(t,e,i,a,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):e.prototype&&e.prototype.isPureReactComponent?!Fr(i,a)||!Fr(c,f):!0}function Fm(t,e,i,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,a),e.state!==t&&sh.enqueueReplaceState(e,e.state,null)}function aa(t,e){var i=e;if("ref"in e){i={};for(var a in e)a!=="ref"&&(i[a]=e[a])}if(t=t.defaultProps){i===e&&(i=C({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}function Km(t){xo(t)}function Xm(t){console.error(t)}function Zm(t){xo(t)}function Ko(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Jm(t,e,i){try{var a=t.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ah(t,e,i){return i=es(i),i.tag=3,i.payload={element:null},i.callback=function(){Ko(t,e)},i}function $m(t){return t=es(t),t.tag=3,t}function Wm(t,e,i,a){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=a.value;t.payload=function(){return c(f)},t.callback=function(){Jm(e,i,a)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jm(e,i,a),typeof c!="function"&&(os===null?os=new Set([this]):os.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function u_(t,e,i,a,c){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=i.alternate,e!==null&&La(e,i,c,!0),i=mn.current,i!==null){switch(i.tag){case 31:case 13:return Nn===null?ru():i.alternate===null&&ue===0&&(ue=3),i.flags&=-257,i.flags|=65536,i.lanes=c,a===jo?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([a]):e.add(a),Dh(t,a,c)),!1;case 22:return i.flags|=65536,a===jo?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([a]):i.add(a)),Dh(t,a,c)),!1}throw Error(r(435,i.tag))}return Dh(t,a,c),ru(),!1}if(Ut)return e=mn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,a!==Ac&&(t=Error(r(422),{cause:a}),Zr(xn(t,i)))):(a!==Ac&&(e=Error(r(423),{cause:a}),Zr(xn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,a=xn(a,i),c=ah(t.stateNode,a,c),jc(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:a});if(f=xn(f,i),gl===null?gl=[f]:gl.push(f),ue!==4&&(ue=2),e===null)return!0;a=xn(a,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=ah(i.stateNode,a,t),jc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(os===null||!os.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=$m(c),Wm(c,t,i,a),jc(i,c),!1}i=i.return}while(i!==null);return!1}var rh=Error(r(461)),Ae=!1;function He(t,e,i,a){e.child=t===null?im(e,null,i,a):ia(e,t.child,i,a)}function tg(t,e,i,a,c){i=i.render;var f=e.ref;if("ref"in a){var g={};for(var E in a)E!=="ref"&&(g[E]=a[E])}else g=a;return Ws(e),a=qc(t,e,i,g,f,c),E=Hc(),t!==null&&!Ae?(Pc(t,e,c),Ci(t,e,c)):(Ut&&E&&Tc(e),e.flags|=1,He(t,e,a,c),e.child)}function eg(t,e,i,a,c){if(t===null){var f=i.type;return typeof f=="function"&&!_c(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,ng(t,e,f,a,c)):(t=No(i.type,null,a,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!mh(t,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Fr,i(g,a)&&t.ref===e.ref)return Ci(t,e,c)}return e.flags|=1,t=Ti(f,a),t.ref=e.ref,t.return=e,e.child=t}function ng(t,e,i,a,c){if(t!==null){var f=t.memoizedProps;if(Fr(f,a)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=a=f,mh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return e.lanes=t.lanes,Ci(t,e,c)}return lh(t,e,i,a,c)}function ig(t,e,i,a){var c=a.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(a=e.child=t.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~f}else a=0,e.child=null;return sg(t,e,f,i,a)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Io(e,f!==null?f.cachePool:null),f!==null?rm(e,f):Uc(),lm(e);else return a=e.lanes=536870912,sg(t,e,f!==null?f.baseLanes|i:i,i,a)}else f!==null?(Io(e,f.cachePool),rm(e,f),ss(),e.memoizedState=null):(t!==null&&Io(e,null),Uc(),ss());return He(t,e,c,i),e.child}function ol(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function sg(t,e,i,a,c){var f=Oc();return f=f===null?null:{parent:Te._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&Io(e,null),Uc(),lm(e),t!==null&&La(t,e,a,!0),e.childLanes=c,null}function Xo(t,e){return e=Jo({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function ag(t,e,i){return ia(e,t.child,null,i),t=Xo(e,e.pendingProps),t.flags|=2,gn(e),e.memoizedState=null,t}function c_(t,e,i){var a=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ut){if(a.mode==="hidden")return t=Xo(e,a),e.lanes=536870912,ol(null,t);if(kc(e),(t=ee)?(t=yp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},i=Hd(t),i.return=e,e.child=i,Be=e,ee=null)):t=null,t===null)throw $i(e);return e.lanes=536870912,null}return Xo(e,a)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(kc(e),c)if(e.flags&256)e.flags&=-257,e=ag(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(Ae||La(t,e,i,!1),c=(i&t.childLanes)!==0,Ae||c){if(a=te,a!==null&&(g=Nr(a,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xs(t,g),on(a,t,g),rh;ru(),e=ag(t,e,i)}else t=f.treeContext,ee=Dn(g.nextSibling),Be=e,Ut=!0,Ji=null,Cn=!1,t!==null&&Qd(e,t),e=Xo(e,a),e.flags|=4096;return e}return t=Ti(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Zo(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function lh(t,e,i,a,c){return Ws(e),i=qc(t,e,i,a,void 0,c),a=Hc(),t!==null&&!Ae?(Pc(t,e,c),Ci(t,e,c)):(Ut&&a&&Tc(e),e.flags|=1,He(t,e,i,c),e.child)}function rg(t,e,i,a,c,f){return Ws(e),e.updateQueue=null,i=um(e,a,i,c),om(t),a=Hc(),t!==null&&!Ae?(Pc(t,e,f),Ci(t,e,f)):(Ut&&a&&Tc(e),e.flags|=1,He(t,e,i,f),e.child)}function lg(t,e,i,a,c){if(Ws(e),e.stateNode===null){var f=Ma,g=i.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new i(a,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sh,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=a,f.state=e.memoizedState,f.refs={},Ic(e),g=i.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Ma,f.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ih(e,i,g,a),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&sh.enqueueReplaceState(f,f.state,null),il(e,a,f,c),nl(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,N=aa(i,E);f.props=N;var B=f.context,Q=i.contextType;g=Ma,typeof Q=="object"&&Q!==null&&(g=qe(Q));var K=i.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Fm(e,f,a,g),ts=!1;var q=e.memoizedState;f.state=q,il(e,a,f,c),nl(),B=e.memoizedState,E||q!==B||ts?(typeof K=="function"&&(ih(e,i,K,a),B=e.memoizedState),(N=ts||Ym(e,i,N,a,q,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=B),f.props=a,f.state=B,f.context=g,a=N):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{f=e.stateNode,Mc(t,e),g=e.memoizedProps,Q=aa(i,g),f.props=Q,K=e.pendingProps,q=f.context,B=i.contextType,N=Ma,typeof B=="object"&&B!==null&&(N=qe(B)),E=i.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||q!==N)&&Fm(e,f,a,N),ts=!1,q=e.memoizedState,f.state=q,il(e,a,f,c),nl();var P=e.memoizedState;g!==K||q!==P||ts||t!==null&&t.dependencies!==null&&Oo(t.dependencies)?(typeof E=="function"&&(ih(e,i,E,a),P=e.memoizedState),(Q=ts||Ym(e,i,Q,a,q,P,N)||t!==null&&t.dependencies!==null&&Oo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,P,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,P,N)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=P),f.props=a,f.state=P,f.context=N,a=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),a=!1)}return f=a,Zo(t,e),a=(e.flags&128)!==0,f||a?(f=e.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&a?(e.child=ia(e,t.child,null,c),e.child=ia(e,null,i,c)):He(t,e,i,c),e.memoizedState=f.state,t=e.child):t=Ci(t,e,c),t}function og(t,e,i,a){return Js(),e.flags|=256,He(t,e,i,a),e.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(t){return{baseLanes:t,cachePool:Jd()}}function ch(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=yn),t}function ug(t,e,i){var a=e.pendingProps,c=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ut){if(c?is(e):ss(),(t=ee)?(t=yp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},i=Hd(t),i.return=e,e.child=i,Be=e,ee=null)):t=null,t===null)throw $i(e);return Yh(t)?e.lanes=32:e.lanes=536870912,null}var E=a.children;return a=a.fallback,c?(ss(),c=e.mode,E=Jo({mode:"hidden",children:E},c),a=Zs(a,c,i,null),E.return=e,a.return=e,E.sibling=a,e.child=E,a=e.child,a.memoizedState=uh(i),a.childLanes=ch(t,g,i),e.memoizedState=oh,ol(null,a)):(is(e),hh(e,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)e.flags&256?(is(e),e.flags&=-257,e=fh(t,e,i)):e.memoizedState!==null?(ss(),e.child=t.child,e.flags|=128,e=null):(ss(),E=a.fallback,c=e.mode,a=Jo({mode:"visible",children:a.children},c),E=Zs(E,c,i,null),E.flags|=2,a.return=e,E.return=e,a.sibling=E,e.child=a,ia(e,t.child,null,i),a=e.child,a.memoizedState=uh(i),a.childLanes=ch(t,g,i),e.memoizedState=oh,e=ol(null,a));else if(is(e),Yh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,a=Error(r(419)),a.stack="",a.digest=g,Zr({value:a,source:null,stack:null}),e=fh(t,e,i)}else if(Ae||La(t,e,i,!1),g=(i&t.childLanes)!==0,Ae||g){if(g=te,g!==null&&(a=Nr(g,i),a!==0&&a!==N.retryLane))throw N.retryLane=a,Xs(t,a),on(g,t,a),rh;Qh(E)||ru(),e=fh(t,e,i)}else Qh(E)?(e.flags|=192,e.child=t.child,e=null):(t=N.treeContext,ee=Dn(E.nextSibling),Be=e,Ut=!0,Ji=null,Cn=!1,t!==null&&Qd(e,t),e=hh(e,a.children),e.flags|=4096);return e}return c?(ss(),E=a.fallback,c=e.mode,N=t.child,B=N.sibling,a=Ti(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,B!==null?E=Ti(B,E):(E=Zs(E,c,i,null),E.flags|=2),E.return=e,a.return=e,a.sibling=E,e.child=a,ol(null,a),a=e.child,E=t.child.memoizedState,E===null?E=uh(i):(c=E.cachePool,c!==null?(N=Te._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Jd(),E={baseLanes:E.baseLanes|i,cachePool:c}),a.memoizedState=E,a.childLanes=ch(t,g,i),e.memoizedState=oh,ol(t.child,a)):(is(e),i=t.child,t=i.sibling,i=Ti(i,{mode:"visible",children:a.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function hh(t,e){return e=Jo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Jo(t,e){return t=dn(22,t,null,e),t.lanes=0,t}function fh(t,e,i){return ia(e,t.child,null,i),t=hh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cg(t,e,i){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Rc(t.return,e,i)}function dh(t,e,i,a,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function hg(t,e,i){var a=e.pendingProps,c=a.revealOrder,f=a.tail;a=a.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,e.flags|=128):g&=1,J(de,g),He(t,e,a,i),a=Ut?Xr:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,i,e);else if(t.tag===19)cg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&ko(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),dh(e,!1,c,i,f,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&ko(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}dh(e,!0,i,null,f,a);break;case"together":dh(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Ci(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(La(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=Ti(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ti(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function mh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Oo(t)))}function h_(t,e,i){switch(e.tag){case 3:Ne(e,e.stateNode.containerInfo),Wi(e,Te,t.memoizedState.cache),Js();break;case 27:case 5:Os(e);break;case 4:Ne(e,e.stateNode.containerInfo);break;case 10:Wi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,kc(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(is(e),e.flags|=128,null):(i&e.child.childLanes)!==0?ug(t,e,i):(is(e),t=Ci(t,e,i),t!==null?t.sibling:null);is(e);break;case 19:var c=(t.flags&128)!==0;if(a=(i&e.childLanes)!==0,a||(La(t,e,i,!1),a=(i&e.childLanes)!==0),c){if(a)return hg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(de,de.current),a)break;return null;case 22:return e.lanes=0,ig(t,e,i,e.pendingProps);case 24:Wi(e,Te,t.memoizedState.cache)}return Ci(t,e,i)}function fg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ae=!0;else{if(!mh(t,i)&&(e.flags&128)===0)return Ae=!1,h_(t,e,i);Ae=(t.flags&131072)!==0}else Ae=!1,Ut&&(e.flags&1048576)!==0&&Gd(e,Xr,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=ea(e.elementType),e.type=t,typeof t=="function")_c(t)?(a=aa(t,a),e.tag=1,e=lg(null,e,t,a,i)):(e.tag=0,e=lh(null,e,t,a,i));else{if(t!=null){var c=t.$$typeof;if(c===rt){e.tag=11,e=tg(null,e,t,a,i);break t}else if(c===A){e.tag=14,e=eg(null,e,t,a,i);break t}}throw e=it(t)||t,Error(r(306,e,""))}}return e;case 0:return lh(t,e,e.type,e.pendingProps,i);case 1:return a=e.type,c=aa(a,e.pendingProps),lg(t,e,a,c,i);case 3:t:{if(Ne(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var f=e.memoizedState;c=f.element,Mc(t,e),il(e,a,null,i);var g=e.memoizedState;if(a=g.cache,Wi(e,Te,a),a!==f.cache&&Cc(e,[Te],i,!0),nl(),a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=og(t,e,a,i);break t}else if(a!==c){c=xn(Error(r(424)),e),Zr(c),e=og(t,e,a,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Dn(t.firstChild),Be=e,Ut=!0,Ji=null,Cn=!0,i=im(e,null,a,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Js(),a===c){e=Ci(t,e,i);break t}He(t,e,a,i)}e=e.child}return e;case 26:return Zo(t,e),t===null?(i=Sp(e.type,null,e.pendingProps,null))?e.memoizedState=i:Ut||(i=e.type,t=e.pendingProps,a=du(At.current).createElement(i),a[_e]=e,a[Me]=t,Pe(a,i,t),Ee(a),e.stateNode=a):e.memoizedState=Sp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Os(e),t===null&&Ut&&(a=e.stateNode=Ep(e.type,e.pendingProps,At.current),Be=e,Cn=!0,c=ee,fs(e.type)?(Fh=c,ee=Dn(a.firstChild)):ee=c),He(t,e,e.pendingProps.children,i),Zo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ut&&((c=a=ee)&&(a=q_(a,e.type,e.pendingProps,Cn),a!==null?(e.stateNode=a,Be=e,ee=Dn(a.firstChild),Cn=!1,c=!0):c=!1),c||$i(e)),Os(e),c=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,a=f.children,Hh(c,f)?a=null:g!==null&&Hh(c,g)&&(e.flags|=32),e.memoizedState!==null&&(c=qc(t,e,n_,null,null,i),Sl._currentValue=c),Zo(t,e),He(t,e,a,i),e.child;case 6:return t===null&&Ut&&((t=i=ee)&&(i=H_(i,e.pendingProps,Cn),i!==null?(e.stateNode=i,Be=e,ee=null,t=!0):t=!1),t||$i(e)),null;case 13:return ug(t,e,i);case 4:return Ne(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ia(e,null,a,i):He(t,e,a,i),e.child;case 11:return tg(t,e,e.type,e.pendingProps,i);case 7:return He(t,e,e.pendingProps,i),e.child;case 8:return He(t,e,e.pendingProps.children,i),e.child;case 12:return He(t,e,e.pendingProps.children,i),e.child;case 10:return a=e.pendingProps,Wi(e,e.type,a.value),He(t,e,a.children,i),e.child;case 9:return c=e.type._context,a=e.pendingProps.children,Ws(e),c=qe(c),a=a(c),e.flags|=1,He(t,e,a,i),e.child;case 14:return eg(t,e,e.type,e.pendingProps,i);case 15:return ng(t,e,e.type,e.pendingProps,i);case 19:return hg(t,e,i);case 31:return c_(t,e,i);case 22:return ig(t,e,i,e.pendingProps);case 24:return Ws(e),a=qe(Te),t===null?(c=Oc(),c===null&&(c=te,f=Nc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:a,cache:c},Ic(e),Wi(e,Te,c)):((t.lanes&i)!==0&&(Mc(t,e),il(e,null,null,i),nl()),c=t.memoizedState,f=e.memoizedState,c.parent!==a?(c={parent:a,cache:a},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Wi(e,Te,a)):(a=f.cache,Wi(e,Te,a),a!==c.cache&&Cc(e,[Te],i,!0))),He(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ni(t){t.flags|=4}function gh(t,e,i,a,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(kg())t.flags|=8192;else throw na=jo,Vc}else t.flags&=-16777217}function dg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(e))if(kg())t.flags|=8192;else throw na=jo,Vc}function $o(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?io():536870912,t.lanes|=e,Za|=e)}function ul(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=i,e}function f_(t,e,i){var a=e.pendingProps;switch(Sc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return i=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),xi(Te),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ua(e)?Ni(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,xc())),ne(e),null;case 26:var c=e.type,f=e.memoizedState;return t===null?(Ni(e),f!==null?(ne(e),dg(e,f)):(ne(e),gh(e,c,null,a,i))):f?f!==t.memoizedState?(Ni(e),ne(e),dg(e,f)):(ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ni(e),ne(e),gh(e,c,t,a,i)),null;case 27:if(ga(e),i=At.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ni(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return ne(e),null}t=$.current,Ua(e)?Yd(e):(t=Ep(c,a,i),e.stateNode=t,Ni(e))}return ne(e),null;case 5:if(ga(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ni(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return ne(e),null}if(f=$.current,Ua(e))Yd(e);else{var g=du(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?g.createElement("select",{is:a.is}):g.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?g.createElement(c,{is:a.is}):g.createElement(c)}}f[_e]=e,f[Me]=a;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=f;t:switch(Pe(f,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ni(e)}}return ne(e),gh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ni(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=At.current,Ua(e)){if(t=e.stateNode,i=e.memoizedProps,a=null,c=Be,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}t[_e]=e,t=!!(t.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||up(t.nodeValue,i)),t||$i(e,!0)}else t=du(t).createTextNode(a),t[_e]=e,e.stateNode=t}return ne(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ua(e),i!==null){if(t===null){if(!a)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=e}else Js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),t=!1}else i=xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(gn(e),e):(gn(e),null);if((e.flags&128)!==0)throw Error(r(558))}return ne(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ua(e),a!==null&&a.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=e}else Js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),c=!1}else c=xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(gn(e),e):(gn(e),null)}return gn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=a!==null,t=t!==null&&t.memoizedState!==null,i&&(a=e.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),$o(e,e.updateQueue),ne(e),null);case 4:return ie(),t===null&&Uh(e.stateNode.containerInfo),ne(e),null;case 10:return xi(e.type),ne(e),null;case 19:if(G(de),a=e.memoizedState,a===null)return ne(e),null;if(c=(e.flags&128)!==0,f=a.rendering,f===null)if(c)ul(a,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=ko(t),f!==null){for(e.flags|=128,ul(a,!1),t=f.updateQueue,e.updateQueue=t,$o(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)qd(i,t),i=i.sibling;return J(de,de.current&1|2),Ut&&Si(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&Ze()>iu&&(e.flags|=128,c=!0,ul(a,!1),e.lanes=4194304)}else{if(!c)if(t=ko(f),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,$o(e,t),ul(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!Ut)return ne(e),null}else 2*Ze()-a.renderingStartTime>iu&&i!==536870912&&(e.flags|=128,c=!0,ul(a,!1),e.lanes=4194304);a.isBackwards?(f.sibling=e.child,e.child=f):(t=a.last,t!==null?t.sibling=f:e.child=f,a.last=f)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,i=de.current,J(de,c?i&1|2:i&1),Ut&&Si(e,a.treeForkCount),t):(ne(e),null);case 22:case 23:return gn(e),Lc(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(i&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),i=e.updateQueue,i!==null&&$o(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==i&&(e.flags|=2048),t!==null&&G(ta),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),xi(Te),ne(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function d_(t,e){switch(Sc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xi(Te),ie(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ga(e),null;case 31:if(e.memoizedState!==null){if(gn(e),e.alternate===null)throw Error(r(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(de),null;case 4:return ie(),null;case 10:return xi(e.type),null;case 22:case 23:return gn(e),Lc(),t!==null&&G(ta),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return xi(Te),null;case 25:return null;default:return null}}function mg(t,e){switch(Sc(e),e.tag){case 3:xi(Te),ie();break;case 26:case 27:case 5:ga(e);break;case 4:ie();break;case 31:e.memoizedState!==null&&gn(e);break;case 13:gn(e);break;case 19:G(de);break;case 10:xi(e.type);break;case 22:case 23:gn(e),Lc(),t!==null&&G(ta);break;case 24:xi(Te)}}function cl(t,e){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var c=a.next;i=c;do{if((i.tag&t)===t){a=void 0;var f=i.create,g=i.inst;a=f(),g.destroy=a}i=i.next}while(i!==c)}}catch(E){Xt(e,e.return,E)}}function as(t,e,i){try{var a=e.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){var g=a.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=e;var N=i,B=E;try{B()}catch(Q){Xt(c,N,Q)}}}a=a.next}while(a!==f)}}catch(Q){Xt(e,e.return,Q)}}function gg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{am(e,i)}catch(a){Xt(t,t.return,a)}}}function pg(t,e,i){i.props=aa(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(a){Xt(t,e,a)}}function hl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof i=="function"?t.refCleanup=i(a):i.current=a}}catch(c){Xt(t,e,c)}}function ci(t,e){var i=t.ref,a=t.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(c){Xt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Xt(t,e,c)}else i.current=null}function yg(t){var e=t.type,i=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(c){Xt(t,t.return,c)}}function ph(t,e,i){try{var a=t.stateNode;j_(a,t.type,i,e),a[Me]=e}catch(c){Xt(t,t.return,c)}}function vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fs(t.type)||t.tag===4}function yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vh(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=zn));else if(a!==4&&(a===27&&fs(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(vh(t,e,i),t=t.sibling;t!==null;)vh(t,e,i),t=t.sibling}function Wo(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(a!==4&&(a===27&&fs(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Wo(t,e,i),t=t.sibling;t!==null;)Wo(t,e,i),t=t.sibling}function _g(t){var e=t.stateNode,i=t.memoizedProps;try{for(var a=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Pe(e,a,i),e[_e]=t,e[Me]=i}catch(f){Xt(t,t.return,f)}}var Di=!1,xe=!1,_h=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function m_(t,e){if(t=t.containerInfo,Bh=Eu,t=Vd(t),fc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var g=0,E=-1,N=-1,B=0,Q=0,K=t,q=null;e:for(;;){for(var P;K!==i||c!==0&&K.nodeType!==3||(E=g+c),K!==f||a!==0&&K.nodeType!==3||(N=g+a),K.nodeType===3&&(g+=K.nodeValue.length),(P=K.firstChild)!==null;)q=K,K=P;for(;;){if(K===t)break e;if(q===i&&++B===c&&(E=g),q===f&&++Q===a&&(N=g),(P=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=P}i=E===-1||N===-1?null:{start:E,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(qh={focusedElem:t,selectionRange:i},Eu=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)c=t[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,a=i.stateNode;try{var dt=aa(i.type,c);t=a.getSnapshotBeforeUpdate(dt,f),a.__reactInternalSnapshotBeforeUpdate=t}catch(bt){Xt(i,i.return,bt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Gh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function bg(t,e,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Vi(t,i),a&4&&cl(5,i);break;case 1:if(Vi(t,i),a&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){Xt(i,i.return,g)}else{var c=aa(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(i,i.return,g)}}a&64&&gg(i),a&512&&hl(i,i.return);break;case 3:if(Vi(t,i),a&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{am(t,e)}catch(g){Xt(i,i.return,g)}}break;case 27:e===null&&a&4&&_g(i);case 26:case 5:Vi(t,i),e===null&&a&4&&yg(i),a&512&&hl(i,i.return);break;case 12:Vi(t,i);break;case 31:Vi(t,i),a&4&&Ag(t,i);break;case 13:Vi(t,i),a&4&&xg(t,i),a&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=S_.bind(null,i),P_(t,i))));break;case 22:if(a=i.memoizedState!==null||Di,!a){e=e!==null&&e.memoizedState!==null||xe,c=Di;var f=xe;Di=a,(xe=e)&&!f?Ii(t,i,(i.subtreeFlags&8772)!==0):Vi(t,i),Di=c,xe=f}break;case 30:break;default:Vi(t,i)}}function Tg(t){var e=t.alternate;e!==null&&(t.alternate=null,Tg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ea(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,sn=!1;function Oi(t,e,i){for(i=i.child;i!==null;)Sg(t,e,i),i=i.sibling}function Sg(t,e,i){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Vn,i)}catch{}switch(i.tag){case 26:xe||ci(i,e),Oi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xe||ci(i,e);var a=ae,c=sn;fs(i.type)&&(ae=i.stateNode,sn=!1),Oi(t,e,i),El(i.stateNode),ae=a,sn=c;break;case 5:xe||ci(i,e);case 6:if(a=ae,c=sn,ae=null,Oi(t,e,i),ae=a,sn=c,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(i.stateNode)}catch(f){Xt(i,e,f)}else try{ae.removeChild(i.stateNode)}catch(f){Xt(i,e,f)}break;case 18:ae!==null&&(sn?(t=ae,gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),sr(t)):gp(ae,i.stateNode));break;case 4:a=ae,c=sn,ae=i.stateNode.containerInfo,sn=!0,Oi(t,e,i),ae=a,sn=c;break;case 0:case 11:case 14:case 15:as(2,i,e),xe||as(4,i,e),Oi(t,e,i);break;case 1:xe||(ci(i,e),a=i.stateNode,typeof a.componentWillUnmount=="function"&&pg(i,e,a)),Oi(t,e,i);break;case 21:Oi(t,e,i);break;case 22:xe=(a=xe)||i.memoizedState!==null,Oi(t,e,i),xe=a;break;default:Oi(t,e,i)}}function Ag(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sr(t)}catch(i){Xt(e,e.return,i)}}}function xg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sr(t)}catch(i){Xt(e,e.return,i)}}function g_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Eg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Eg),e;default:throw Error(r(435,t.tag))}}function tu(t,e){var i=g_(t);e.forEach(function(a){if(!i.has(a)){i.add(a);var c=A_.bind(null,t,a);a.then(c,c)}})}function an(t,e){var i=e.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a],f=t,g=e,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(fs(E.type)){ae=E.stateNode,sn=!1;break t}break;case 5:ae=E.stateNode,sn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));Sg(f,g,c),ae=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)wg(e,t),e=e.sibling}var Hn=null;function wg(t,e){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(e,t),rn(t),a&4&&(as(3,t,t.return),cl(3,t),as(5,t,t.return));break;case 1:an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),a&64&&Di&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var c=Hn;if(an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),a&4){var f=i!==null?i.memoizedState:null;if(a=t.memoizedState,i===null)if(a===null)if(t.stateNode===null){t:{a=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(a){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zn]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(a),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,a,i),f[_e]=t,Ee(f),a=f;break t;case"link":var g=wp("link","href",c).get(a+(i.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(a),Pe(f,a,i),c.head.appendChild(f);break;case"meta":if(g=wp("meta","content",c).get(a+(i.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(E,1);break e}}f=c.createElement(a),Pe(f,a,i),c.head.appendChild(f);break;default:throw Error(r(468,a))}f[_e]=t,Ee(f),a=f}t.stateNode=a}else Rp(c,t.type,t.stateNode);else t.stateNode=xp(c,a,t.memoizedProps);else f!==a?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,a===null?Rp(c,t.type,t.stateNode):xp(c,a,t.memoizedProps)):a===null&&t.stateNode!==null&&ph(t,t.memoizedProps,i.memoizedProps)}break;case 27:an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),i!==null&&a&4&&ph(t,t.memoizedProps,i.memoizedProps);break;case 5:if(an(e,t),rn(t),a&512&&(xe||i===null||ci(i,i.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(dt){Xt(t,t.return,dt)}}a&4&&t.stateNode!=null&&(c=t.memoizedProps,ph(t,c,i!==null?i.memoizedProps:c)),a&1024&&(_h=!0);break;case 6:if(an(e,t),rn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,i=t.stateNode;try{i.nodeValue=a}catch(dt){Xt(t,t.return,dt)}}break;case 3:if(pu=null,c=Hn,Hn=mu(e.containerInfo),an(e,t),Hn=c,rn(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{sr(e.containerInfo)}catch(dt){Xt(t,t.return,dt)}_h&&(_h=!1,Rg(t));break;case 4:a=Hn,Hn=mu(t.stateNode.containerInfo),an(e,t),rn(t),Hn=a;break;case 12:an(e,t),rn(t);break;case 31:an(e,t),rn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,tu(t,a)));break;case 13:an(e,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(nu=Ze()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,tu(t,a)));break;case 22:c=t.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,B=Di,Q=xe;if(Di=B||c,xe=Q||N,an(e,t),xe=Q,Di=B,rn(t),a&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||N||Di||xe||ra(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){N=i=e;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){Xt(N,N.return,dt)}}}else if(e.tag===6){if(i===null){N=e;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(dt){Xt(N,N.return,dt)}}}else if(e.tag===18){if(i===null){N=e;try{var P=N.stateNode;c?pp(P,!0):pp(N.stateNode,!1)}catch(dt){Xt(N,N.return,dt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,tu(t,i))));break;case 19:an(e,t),rn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,tu(t,a)));break;case 30:break;case 21:break;default:an(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{for(var i,a=t.return;a!==null;){if(vg(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var c=i.stateNode,f=yh(t);Wo(t,f,c);break;case 5:var g=i.stateNode;i.flags&32&&(nn(g,""),i.flags&=-33);var E=yh(t);Wo(t,E,g);break;case 3:case 4:var N=i.stateNode.containerInfo,B=yh(t);vh(t,B,N);break;default:throw Error(r(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Rg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)bg(t,e.alternate,e),e=e.sibling}function ra(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:as(4,e,e.return),ra(e);break;case 1:ci(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&pg(e,e.return,i),ra(e);break;case 27:El(e.stateNode);case 26:case 5:ci(e,e.return),ra(e);break;case 22:e.memoizedState===null&&ra(e);break;case 30:ra(e);break;default:ra(e)}t=t.sibling}}function Ii(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,c=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ii(c,f,i),cl(4,f);break;case 1:if(Ii(c,f,i),a=f,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(a,a.return,B)}if(a=f,c=a.updateQueue,c!==null){var E=a.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)sm(N[c],E)}catch(B){Xt(a,a.return,B)}}i&&g&64&&gg(f),hl(f,f.return);break;case 27:_g(f);case 26:case 5:Ii(c,f,i),i&&a===null&&g&4&&yg(f),hl(f,f.return);break;case 12:Ii(c,f,i);break;case 31:Ii(c,f,i),i&&g&4&&Ag(c,f);break;case 13:Ii(c,f,i),i&&g&4&&xg(c,f);break;case 22:f.memoizedState===null&&Ii(c,f,i),hl(f,f.return);break;case 30:break;default:Ii(c,f,i)}e=e.sibling}}function Eh(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Jr(i))}function bh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jr(t))}function Pn(t,e,i,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(t,e,i,a),e=e.sibling}function Cg(t,e,i,a){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Pn(t,e,i,a),c&2048&&cl(9,e);break;case 1:Pn(t,e,i,a);break;case 3:Pn(t,e,i,a),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jr(t)));break;case 12:if(c&2048){Pn(t,e,i,a),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xt(e,e.return,N)}}else Pn(t,e,i,a);break;case 31:Pn(t,e,i,a);break;case 13:Pn(t,e,i,a);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?Pn(t,e,i,a):fl(t,e):f._visibility&2?Pn(t,e,i,a):(f._visibility|=2,Fa(t,e,i,a,(e.subtreeFlags&10256)!==0||!1)),c&2048&&Eh(g,e);break;case 24:Pn(t,e,i,a),c&2048&&bh(e.alternate,e);break;default:Pn(t,e,i,a)}}function Fa(t,e,i,a,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,g=e,E=i,N=a,B=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(f,g,E,N,c),cl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Fa(f,g,E,N,c):fl(f,g):(Q._visibility|=2,Fa(f,g,E,N,c)),c&&B&2048&&Eh(g.alternate,g);break;case 24:Fa(f,g,E,N,c),c&&B&2048&&bh(g.alternate,g);break;default:Fa(f,g,E,N,c)}e=e.sibling}}function fl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,a=e,c=a.flags;switch(a.tag){case 22:fl(i,a),c&2048&&Eh(a.alternate,a);break;case 24:fl(i,a),c&2048&&bh(a.alternate,a);break;default:fl(i,a)}e=e.sibling}}var dl=8192;function Ka(t,e,i){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Ng(t,e,i),t=t.sibling}function Ng(t,e,i){switch(t.tag){case 26:Ka(t,e,i),t.flags&dl&&t.memoizedState!==null&&e1(i,Hn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,e,i);break;case 3:case 4:var a=Hn;Hn=mu(t.stateNode.containerInfo),Ka(t,e,i),Hn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=dl,dl=16777216,Ka(t,e,i),dl=a):Ka(t,e,i));break;default:Ka(t,e,i)}}function Dg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ml(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];ze=a,Vg(a,t)}Dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&as(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,eu(t)):ml(t);break;default:ml(t)}}function eu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];ze=a,Vg(a,t)}Dg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:as(8,e,e.return),eu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,eu(e));break;default:eu(e)}t=t.sibling}}function Vg(t,e){for(;ze!==null;){var i=ze;switch(i.tag){case 0:case 11:case 15:as(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Jr(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,ze=a;else t:for(i=t;ze!==null;){a=ze;var c=a.sibling,f=a.return;if(Tg(a),a===i){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var p_={getCacheForType:function(t){var e=qe(Te),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return qe(Te).controller.signal}},y_=typeof WeakMap=="function"?WeakMap:Map,Yt=0,te=null,Vt=null,jt=0,Kt=0,pn=null,rs=!1,Xa=!1,Th=!1,Mi=0,ue=0,ls=0,la=0,Sh=0,yn=0,Za=0,gl=null,ln=null,Ah=!1,nu=0,Ig=0,iu=1/0,su=null,os=null,Oe=0,us=null,Ja=null,ji=0,xh=0,wh=null,Mg=null,pl=0,Rh=null;function vn(){return(Yt&2)!==0&&jt!==0?jt&-jt:U.T!==null?Ih():so()}function jg(){if(yn===0)if((jt&536870912)===0||Ut){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function on(t,e,i){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&($a(t,0),cs(t,jt,yn,!1)),js(t,i),((Yt&2)===0||t!==te)&&(t===te&&((Yt&2)===0&&(la|=i),ue===4&&cs(t,jt,yn,!1)),hi(t))}function zg(t,e,i){if((Yt&6)!==0)throw Error(r(327));var a=!i&&(e&127)===0&&(e&t.expiredLanes)===0||In(t,e),c=a?E_(t,e):Nh(t,e,!0),f=a;do{if(c===0){Xa&&!a&&cs(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!v_(i)){c=Nh(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var E=t;c=gl;var N=E.current.memoizedState.isDehydrated;if(N&&($a(E,g).flags|=256),g=Nh(E,g,!1),g!==2){if(Th&&!N){E.errorRecoveryDisabledLanes|=f,la|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){$a(t,0),cs(t,e,0,!0);break}t:{switch(a=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:cs(a,e,yn,!rs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=nu+300-Ze(),10<c)){if(cs(a,e,yn,!rs),Fn(a,0,!0)!==0)break t;ji=e,a.timeoutHandle=dp(Ug.bind(null,a,i,ln,su,Ah,e,yn,la,Za,rs,f,"Throttled",-0,0),c);break t}Ug(a,i,ln,su,Ah,e,yn,la,Za,rs,f,null,-0,0)}}break}while(!0);hi(t)}function Ug(t,e,i,a,c,f,g,E,N,B,Q,K,q,P){if(t.timeoutHandle=-1,K=e.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Ng(e,f,K);var dt=(f&62914560)===f?nu-Ze():(f&4194048)===f?Ig-Ze():0;if(dt=n1(K,dt),dt!==null){ji=f,t.cancelPendingCommit=dt(Qg.bind(null,t,e,f,i,a,c,g,E,N,Q,K,null,q,P)),cs(t,f,g,!B);return}}Qg(t,e,f,i,a,c,g,E,N)}function v_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e,i,a){e&=~Sh,e&=~la,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var c=e;0<c;){var f=31-he(c),g=1<<f;a[f]=-1,c&=~g}i!==0&&zs(t,i,e)}function au(){return(Yt&6)===0?(yl(0),!1):!0}function Ch(){if(Vt!==null){if(Kt===0)var t=Vt.return;else t=Vt,Ai=$s=null,Gc(t),Ha=null,Wr=0,t=Vt;for(;t!==null;)mg(t.alternate,t),t=t.return;Vt=null}}function $a(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,L_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ji=0,Ch(),te=t,Vt=i=Ti(t.current,null),jt=e,Kt=0,pn=null,rs=!1,Xa=In(t,e),Th=!1,Za=yn=Sh=la=ls=ue=0,ln=gl=null,Ah=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var c=31-he(a),f=1<<c;e|=t[c],a&=~f}return Mi=e,wo(),i}function Lg(t,e){Dt=null,U.H=ll,e===qa||e===Mo?(e=tm(),Kt=3):e===Vc?(e=tm(),Kt=4):Kt=e===rh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pn=e,Vt===null&&(ue=1,Ko(t,xn(e,t.current)))}function kg(){var t=mn.current;return t===null?!0:(jt&4194048)===jt?Nn===null:(jt&62914560)===jt||(jt&536870912)!==0?t===Nn:!1}function Bg(){var t=U.H;return U.H=ll,t===null?ll:t}function qg(){var t=U.A;return U.A=p_,t}function ru(){ue=4,rs||(jt&4194048)!==jt&&mn.current!==null||(Xa=!0),(ls&134217727)===0&&(la&134217727)===0||te===null||cs(te,jt,yn,!1)}function Nh(t,e,i){var a=Yt;Yt|=2;var c=Bg(),f=qg();(te!==t||jt!==e)&&(su=null,$a(t,e)),e=!1;var g=ue;t:do try{if(Kt!==0&&Vt!==null){var E=Vt,N=pn;switch(Kt){case 8:Ch(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(e=!0);var B=Kt;if(Kt=0,pn=null,Wa(t,E,N,B),i&&Xa){g=0;break t}break;default:B=Kt,Kt=0,pn=null,Wa(t,E,N,B)}}__(),g=ue;break}catch(Q){Lg(t,Q)}while(!0);return e&&t.shellSuspendCounter++,Ai=$s=null,Yt=a,U.H=c,U.A=f,Vt===null&&(te=null,jt=0,wo()),g}function __(){for(;Vt!==null;)Hg(Vt)}function E_(t,e){var i=Yt;Yt|=2;var a=Bg(),c=qg();te!==t||jt!==e?(su=null,iu=Ze()+500,$a(t,e)):Xa=In(t,e);t:do try{if(Kt!==0&&Vt!==null){e=Vt;var f=pn;e:switch(Kt){case 1:Kt=0,pn=null,Wa(t,e,f,1);break;case 2:case 9:if($d(f)){Kt=0,pn=null,Pg(e);break}e=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),hi(t)},f.then(e,e);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:$d(f)?(Kt=0,pn=null,Pg(e)):(Kt=0,pn=null,Wa(t,e,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?Cp(g):E.stateNode.complete){Kt=0,pn=null;var N=E.sibling;if(N!==null)Vt=N;else{var B=E.return;B!==null?(Vt=B,lu(B)):Vt=null}break e}}Kt=0,pn=null,Wa(t,e,f,5);break;case 6:Kt=0,pn=null,Wa(t,e,f,6);break;case 8:Ch(),ue=6;break t;default:throw Error(r(462))}}b_();break}catch(Q){Lg(t,Q)}while(!0);return Ai=$s=null,U.H=a,U.A=c,Yt=i,Vt!==null?0:(te=null,jt=0,wo(),ue)}function b_(){for(;Vt!==null&&!ac();)Hg(Vt)}function Hg(t){var e=fg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?lu(t):Vt=e}function Pg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=rg(i,e,e.pendingProps,e.type,void 0,jt);break;case 11:e=rg(i,e,e.pendingProps,e.type.render,e.ref,jt);break;case 5:Gc(e);default:mg(i,e),e=Vt=qd(e,Mi),e=fg(i,e,Mi)}t.memoizedProps=t.pendingProps,e===null?lu(t):Vt=e}function Wa(t,e,i,a){Ai=$s=null,Gc(e),Ha=null,Wr=0;var c=e.return;try{if(u_(t,c,e,i,jt)){ue=1,Ko(t,xn(i,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ue=1,Ko(t,xn(i,t.current)),Vt=null;return}e.flags&32768?(Ut||a===1?t=!0:Xa||(jt&536870912)!==0?t=!1:(rs=t=!0,(a===2||a===9||a===3||a===6)&&(a=mn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Gg(e,t)):lu(e)}function lu(t){var e=t;do{if((e.flags&32768)!==0){Gg(e,rs);return}t=e.return;var i=f_(e.alternate,e,Mi);if(i!==null){Vt=i;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);ue===0&&(ue=5)}function Gg(t,e){do{var i=d_(t.alternate,t);if(i!==null){i.flags&=32767,Vt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=i}while(t!==null);ue=6,Vt=null}function Qg(t,e,i,a,c,f,g,E,N){t.cancelPendingCommit=null;do ou();while(Oe!==0);if((Yt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(f=e.lanes|e.childLanes,f|=yc,oc(t,i,f,g,E,N),t===te&&(Vt=te=null,jt=0),Ja=e,us=t,ji=i,xh=f,wh=c,Mg=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,x_(Bi,function(){return Zg(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=U.T,U.T=null,c=Z.p,Z.p=2,g=Yt,Yt|=4;try{m_(t,e,i)}finally{Yt=g,Z.p=c,U.T=a}}Oe=1,Yg(),Fg(),Kg()}}function Yg(){if(Oe===1){Oe=0;var t=us,e=Ja,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var a=Z.p;Z.p=2;var c=Yt;Yt|=4;try{wg(e,t);var f=qh,g=Vd(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Od(E.ownerDocument.documentElement,E)){if(N!==null&&fc(E)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var P=q.getSelection(),dt=E.textContent.length,bt=Math.min(N.start,dt),Wt=N.end===void 0?bt:Math.min(N.end,dt);!P.extend&&bt>Wt&&(g=Wt,Wt=bt,bt=g);var j=Dd(E,bt),V=Dd(E,Wt);if(j&&V&&(P.rangeCount!==1||P.anchorNode!==j.node||P.anchorOffset!==j.offset||P.focusNode!==V.node||P.focusOffset!==V.offset)){var k=K.createRange();k.setStart(j.node,j.offset),P.removeAllRanges(),bt>Wt?(P.addRange(k),P.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),P.addRange(k))}}}}for(K=[],P=E;P=P.parentNode;)P.nodeType===1&&K.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Eu=!!Bh,qh=Bh=null}finally{Yt=c,Z.p=a,U.T=i}}t.current=e,Oe=2}}function Fg(){if(Oe===2){Oe=0;var t=us,e=Ja,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var a=Z.p;Z.p=2;var c=Yt;Yt|=4;try{bg(t,e.alternate,e)}finally{Yt=c,Z.p=a,U.T=i}}Oe=3}}function Kg(){if(Oe===4||Oe===3){Oe=0,Jl();var t=us,e=Ja,i=ji,a=Mg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Oe=5:(Oe=0,Ja=us=null,Xg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(os=null),vi(i),e=e.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Vn,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=U.T,c=Z.p,Z.p=2,U.T=null;try{for(var f=t.onRecoverableError,g=0;g<a.length;g++){var E=a[g];f(E.value,{componentStack:E.stack})}}finally{U.T=e,Z.p=c}}(ji&3)!==0&&ou(),hi(t),c=t.pendingLanes,(i&261930)!==0&&(c&42)!==0?t===Rh?pl++:(pl=0,Rh=t):pl=0,yl(0)}}function Xg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Jr(e)))}function ou(){return Yg(),Fg(),Kg(),Zg()}function Zg(){if(Oe!==5)return!1;var t=us,e=xh;xh=0;var i=vi(ji),a=U.T,c=Z.p;try{Z.p=32>i?32:i,U.T=null,i=wh,wh=null;var f=us,g=ji;if(Oe=0,Ja=us=null,ji=0,(Yt&6)!==0)throw Error(r(331));var E=Yt;if(Yt|=4,Og(f.current),Cg(f,f.current,g,i),Yt=E,yl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Vn,f)}catch{}return!0}finally{Z.p=c,U.T=a,Xg(t,e)}}function Jg(t,e,i){e=xn(i,e),e=ah(t.stateNode,e,2),t=ns(t,e,2),t!==null&&(js(t,2),hi(t))}function Xt(t,e,i){if(t.tag===3)Jg(t,t,i);else for(;e!==null;){if(e.tag===3){Jg(e,t,i);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(os===null||!os.has(a))){t=xn(i,t),i=$m(2),a=ns(e,i,2),a!==null&&(Wm(i,a,e,t),js(a,2),hi(a));break}}e=e.return}}function Dh(t,e,i){var a=t.pingCache;if(a===null){a=t.pingCache=new y_;var c=new Set;a.set(e,c)}else c=a.get(e),c===void 0&&(c=new Set,a.set(e,c));c.has(i)||(Th=!0,c.add(i),t=T_.bind(null,t,e,i),e.then(t,t))}function T_(t,e,i){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(jt&i)===i&&(ue===4||ue===3&&(jt&62914560)===jt&&300>Ze()-nu?(Yt&2)===0&&$a(t,0):Sh|=i,Za===jt&&(Za=0)),hi(t)}function $g(t,e){e===0&&(e=io()),t=Xs(t,e),t!==null&&(js(t,e),hi(t))}function S_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),$g(t,i)}function A_(t,e){var i=0;switch(t.tag){case 31:case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),$g(t,i)}function x_(t,e){return De(t,e)}var uu=null,tr=null,Oh=!1,cu=!1,Vh=!1,hs=0;function hi(t){t!==tr&&t.next===null&&(tr===null?uu=tr=t:tr=tr.next=t),cu=!0,Oh||(Oh=!0,R_())}function yl(t,e){if(!Vh&&cu){Vh=!0;do for(var i=!1,a=uu;a!==null;){if(t!==0){var c=a.pendingLanes;if(c===0)var f=0;else{var g=a.suspendedLanes,E=a.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,np(a,f))}else f=jt,f=Fn(a,a===te?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||In(a,f)||(i=!0,np(a,f));a=a.next}while(i);Vh=!1}}function w_(){Wg()}function Wg(){cu=Oh=!1;var t=0;hs!==0&&U_()&&(t=hs);for(var e=Ze(),i=null,a=uu;a!==null;){var c=a.next,f=tp(a,e);f===0?(a.next=null,i===null?uu=c:i.next=c,c===null&&(tr=i)):(i=a,(t!==0||(f&3)!==0)&&(cu=!0)),a=c}Oe!==0&&Oe!==5||yl(t),hs!==0&&(hs=0)}function tp(t,e){for(var i=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,N=c[g];N===-1?((E&i)===0||(E&a)!==0)&&(c[g]=lc(E,e)):N<=e&&(t.expiredLanes|=E),f&=~E}if(e=te,i=jt,i=Fn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,i===0||t===e&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&ki(a),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||In(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(a!==null&&ki(a),vi(i)){case 2:case 8:i=Rr;break;case 32:i=Bi;break;case 268435456:i=$l;break;default:i=Bi}return a=ep.bind(null,t),i=De(i,a),t.callbackPriority=e,t.callbackNode=i,e}return a!==null&&a!==null&&ki(a),t.callbackPriority=2,t.callbackNode=null,2}function ep(t,e){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(ou()&&t.callbackNode!==i)return null;var a=jt;return a=Fn(t,t===te?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(zg(t,a,e),tp(t,Ze()),t.callbackNode!=null&&t.callbackNode===i?ep.bind(null,t):null)}function np(t,e){if(ou())return null;zg(t,e,!0)}function R_(){k_(function(){(Yt&6)!==0?De(wr,w_):Wg()})}function Ih(){if(hs===0){var t=ka;t===0&&(t=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),hs=t}return hs}function ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function sp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function C_(t,e,i,a,c){if(e==="submit"&&i&&i.stateNode===c){var f=ip((c[Me]||null).action),g=a.submitter;g&&(e=(e=g[Me]||null)?ip(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var E=new si("action","action",null,a,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(hs!==0){var N=g?sp(c,g):new FormData(c);Wc(i,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?sp(c,g):new FormData(c),Wc(i,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var Mh=0;Mh<pc.length;Mh++){var jh=pc[Mh],N_=jh.toLowerCase(),D_=jh[0].toUpperCase()+jh.slice(1);qn(N_,"on"+D_)}qn(jd,"onAnimationEnd"),qn(zd,"onAnimationIteration"),qn(Ud,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Yv,"onTransitionRun"),qn(Fv,"onTransitionStart"),qn(Kv,"onTransitionCancel"),qn(Ld,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function ap(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],c=a.event;a=a.listeners;t:{var f=void 0;if(e)for(var g=a.length-1;0<=g;g--){var E=a[g],N=E.instance,B=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){xo(Q)}c.currentTarget=null,f=N}else for(g=0;g<a.length;g++){if(E=a[g],N=E.instance,B=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){xo(Q)}c.currentTarget=null,f=N}}}}function It(t,e){var i=e[_a];i===void 0&&(i=e[_a]=new Set);var a=t+"__bubble";i.has(a)||(rp(e,t,2,!1),i.add(a))}function zh(t,e,i){var a=0;e&&(a|=4),rp(i,t,a,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Uh(t){if(!t[hu]){t[hu]=!0,Dr.forEach(function(i){i!=="selectionchange"&&(O_.has(i)||zh(i,!1,t),zh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,zh("selectionchange",!1,e))}}function rp(t,e,i,a){switch(jp(e)){case 2:var c=a1;break;case 8:c=r1;break;default:c=$h}i=c.bind(null,e,i,t),c=void 0,!qs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Lh(t,e,i,a,c){var f=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var E=a.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=a.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Jn(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){a=f=g;continue t}E=E.parentNode}}a=a.return}Yi(function(){var B=f,Q=bn(i),K=[];t:{var q=kd.get(t);if(q!==void 0){var P=si,dt=t;switch(t){case"keypress":if(Ps(i)===0)break t;case"keydown":case"keyup":P=To;break;case"focusin":dt="focus",P=Qs;break;case"focusout":dt="blur",P=Qs;break;case"beforeblur":case"afterblur":P=Qs;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case jd:case zd:case Ud:P=go;break;case Ld:P=b;break;case"scroll":case"scrollend":P=Hr;break;case"wheel":P=H;break;case"copy":case"cut":case"paste":P=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=bi;break;case"toggle":case"beforetoggle":P=Nt}var bt=(e&4)!==0,Wt=!bt&&(t==="scroll"||t==="scrollend"),j=bt?q!==null?q+"Capture":null:q;bt=[];for(var V=B,k;V!==null;){var F=V;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||j===null||(F=Un(V,j),F!=null&&bt.push(_l(V,F,k))),Wt)break;V=V.return}0<bt.length&&(q=new P(q,dt,null,i,Q),K.push({event:q,listeners:bt}))}}if((e&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",q&&i!==kr&&(dt=i.relatedTarget||i.fromElement)&&(Jn(dt)||dt[Xn]))break t;if((P||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,P?(dt=i.relatedTarget||i.toElement,P=B,dt=dt?Jn(dt):null,dt!==null&&(Wt=h(dt),bt=dt.tag,dt!==Wt||bt!==5&&bt!==27&&bt!==6)&&(dt=null)):(P=null,dt=B),P!==dt)){if(bt=Pr,F="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(bt=bi,F="onPointerLeave",j="onPointerEnter",V="pointer"),Wt=P==null?q:cn(P),k=dt==null?q:cn(dt),q=new bt(F,V+"leave",P,i,Q),q.target=Wt,q.relatedTarget=k,F=null,Jn(Q)===B&&(bt=new bt(j,V+"enter",dt,i,Q),bt.target=k,bt.relatedTarget=Wt,F=bt),Wt=F,P&&dt)e:{for(bt=V_,j=P,V=dt,k=0,F=j;F;F=bt(F))k++;F=0;for(var _t=V;_t;_t=bt(_t))F++;for(;0<k-F;)j=bt(j),k--;for(;0<F-k;)V=bt(V),F--;for(;k--;){if(j===V||V!==null&&j===V.alternate){bt=j;break e}j=bt(j),V=bt(V)}bt=null}else bt=null;P!==null&&lp(K,q,P,bt,!1),dt!==null&&Wt!==null&&lp(K,Wt,dt,bt,!0)}}t:{if(q=B?cn(B):window,P=q.nodeName&&q.nodeName.toLowerCase(),P==="select"||P==="input"&&q.type==="file")var Pt=Ad;else if(Td(q))if(xd)Pt=Pv;else{Pt=qv;var gt=Bv}else P=q.nodeName,!P||P.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Sa(B.elementType)&&(Pt=Ad):Pt=Hv;if(Pt&&(Pt=Pt(t,B))){Sd(K,Pt,i,Q);break t}gt&&gt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&zr(q,"number",q.value)}switch(gt=B?cn(B):window,t){case"focusin":(Td(gt)||gt.contentEditable==="true")&&(Oa=gt,dc=B,Kr=null);break;case"focusout":Kr=dc=Oa=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Id(K,i,Q);break;case"selectionchange":if(Qv)break;case"keydown":case"keyup":Id(K,i,Q)}var Ot;if(Qt)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Da?Ys(t,i)&&(zt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(zt="onCompositionStart");zt&&(li&&i.locale!=="ko"&&(Da||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Da&&(Ot=qr()):(ii=Q,Br="value"in ii?ii.value:ii.textContent,Da=!0)),gt=fu(B,zt),0<gt.length&&(zt=new ri(zt,t,null,i,Q),K.push({event:zt,listeners:gt}),Ot?zt.data=Ot:(Ot=Na(i),Ot!==null&&(zt.data=Ot)))),(Ot=Sn?zv(t,i):Uv(t,i))&&(zt=fu(B,"onBeforeInput"),0<zt.length&&(gt=new ri("onBeforeInput","beforeinput",null,i,Q),K.push({event:gt,listeners:zt}),gt.data=Ot)),C_(K,t,B,i,Q)}ap(K,e)})}function _l(t,e,i){return{instance:t,listener:e,currentTarget:i}}function fu(t,e){for(var i=e+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Un(t,i),c!=null&&a.unshift(_l(t,c,f)),c=Un(t,e),c!=null&&a.push(_l(t,c,f))),t.tag===3)return a;t=t.return}return[]}function V_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lp(t,e,i,a,c){for(var f=e._reactName,g=[];i!==null&&i!==a;){var E=i,N=E.alternate,B=E.stateNode;if(E=E.tag,N!==null&&N===a)break;E!==5&&E!==26&&E!==27||B===null||(N=B,c?(B=Un(i,f),B!=null&&g.unshift(_l(i,B,N))):c||(B=Un(i,f),B!=null&&g.push(_l(i,B,N)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var I_=/\r\n?/g,M_=/\u0000|\uFFFD/g;function op(t){return(typeof t=="string"?t:""+t).replace(I_,`
`).replace(M_,"")}function up(t,e){return e=op(e),op(t)===e}function $t(t,e,i,a,c,f){switch(i){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||nn(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&nn(t,""+a);break;case"className":hn(t,"class",a);break;case"tabIndex":hn(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,i,a);break;case"style":Lr(t,a,f);break;case"data":if(e!=="object"){hn(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Aa(""+a),t.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&$t(t,e,"name",c.name,c,null),$t(t,e,"formEncType",c.formEncType,c,null),$t(t,e,"formMethod",c.formMethod,c,null),$t(t,e,"formTarget",c.formTarget,c,null)):($t(t,e,"encType",c.encType,c,null),$t(t,e,"method",c.method,c,null),$t(t,e,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Aa(""+a),t.setAttribute(i,a);break;case"onClick":a!=null&&(t.onclick=zn);break;case"onScroll":a!=null&&It("scroll",t);break;case"onScrollEnd":a!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}i=Aa(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""+a):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":a===!0?t.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,a):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(i,a):t.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(i):t.setAttribute(i,a);break;case"popover":It("beforetoggle",t),It("toggle",t),ba(t,"popover",a);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ba(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ho.get(i)||i,ba(t,i,a))}}function kh(t,e,i,a,c,f){switch(i){case"style":Lr(t,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof a=="string"?nn(t,a):(typeof a=="number"||typeof a=="bigint")&&nn(t,""+a);break;case"onScroll":a!=null&&It("scroll",t);break;case"onScrollEnd":a!=null&&It("scrollend",t);break;case"onClick":a!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[Me]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof a=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,a,c);break t}i in t?t[i]=a:a===!0?t.setAttribute(i,""):ba(t,i,a)}}}function Pe(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var a=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:$t(t,e,f,g,i,null)}}c&&$t(t,e,"srcSet",i.srcSet,i,null),a&&$t(t,e,"src",i.src,i,null);return;case"input":It("invalid",t);var E=f=g=c=null,N=null,B=null;for(a in i)if(i.hasOwnProperty(a)){var Q=i[a];if(Q!=null)switch(a){case"name":c=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,e));break;default:$t(t,e,a,Q,i,null)}}oo(t,f,E,N,B,g,c,!1);return;case"select":It("invalid",t),a=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":a=E;default:$t(t,e,c,E,i,null)}e=f,i=g,t.multiple=!!a,e!=null?Hi(t,!!a,e,!1):i!=null&&Hi(t,!!a,i,!0);return;case"textarea":It("invalid",t),f=c=a=null;for(g in i)if(i.hasOwnProperty(g)&&(E=i[g],E!=null))switch(g){case"value":a=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$t(t,e,g,E,i,null)}Pi(t,a,c,f);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:$t(t,e,N,a,i,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(a=0;a<vl.length;a++)It(vl[a],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(a=i[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:$t(t,e,B,a,i,null)}return;default:if(Sa(e)){for(Q in i)i.hasOwnProperty(Q)&&(a=i[Q],a!==void 0&&kh(t,e,Q,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&$t(t,e,E,a,i,null))}function j_(t,e,i,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,B=null,Q=null;for(P in i){var K=i[P];if(i.hasOwnProperty(P)&&K!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":N=K;default:a.hasOwnProperty(P)||$t(t,e,P,null,a,K)}}for(var q in a){var P=a[q];if(K=i[q],a.hasOwnProperty(q)&&(P!=null||K!=null))switch(q){case"type":f=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":Q=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:P!==K&&$t(t,e,q,P,a,K)}}Ta(t,g,E,N,B,Q,f,c);return;case"select":P=g=E=q=null;for(f in i)if(N=i[f],i.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":P=N;default:a.hasOwnProperty(f)||$t(t,e,f,null,a,N)}for(c in a)if(f=a[c],N=i[c],a.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&$t(t,e,c,f,a,N)}e=E,i=g,a=P,q!=null?Hi(t,!!i,q,!1):!!a!=!!i&&(e!=null?Hi(t,!!i,e,!0):Hi(t,!!i,i?[]:"",!1));return;case"textarea":P=q=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,e,E,null,a,c)}for(g in a)if(c=a[g],f=i[g],a.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$t(t,e,g,c,a,f)}uo(t,q,P);return;case"option":for(var dt in i)if(q=i[dt],i.hasOwnProperty(dt)&&q!=null&&!a.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:$t(t,e,dt,null,a,q)}for(N in a)if(q=a[N],P=i[N],a.hasOwnProperty(N)&&q!==P&&(q!=null||P!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(t,e,N,q,a,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in i)q=i[bt],i.hasOwnProperty(bt)&&q!=null&&!a.hasOwnProperty(bt)&&$t(t,e,bt,null,a,q);for(B in a)if(q=a[B],P=i[B],a.hasOwnProperty(B)&&q!==P&&(q!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,e));break;default:$t(t,e,B,q,a,P)}return;default:if(Sa(e)){for(var Wt in i)q=i[Wt],i.hasOwnProperty(Wt)&&q!==void 0&&!a.hasOwnProperty(Wt)&&kh(t,e,Wt,void 0,a,q);for(Q in a)q=a[Q],P=i[Q],!a.hasOwnProperty(Q)||q===P||q===void 0&&P===void 0||kh(t,e,Q,q,a,P);return}}for(var j in i)q=i[j],i.hasOwnProperty(j)&&q!=null&&!a.hasOwnProperty(j)&&$t(t,e,j,null,a,q);for(K in a)q=a[K],P=i[K],!a.hasOwnProperty(K)||q===P||q==null&&P==null||$t(t,e,K,q,a,P)}function cp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var c=i[a],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&cp(g)){for(g=0,E=c.responseEnd,a+=1;a<i.length;a++){var N=i[a],B=N.startTime;if(B>E)break;var Q=N.transferSize,K=N.initiatorType;Q&&cp(K)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-B)/(N-B)))}if(--a,e+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bh=null,qh=null;function du(t){return t.nodeType===9?t:t.ownerDocument}function hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=null;function U_(){var t=window.event;return t&&t.type==="popstate"?t===Ph?!1:(Ph=t,!0):(Ph=null,!1)}var dp=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,k_=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(t){return mp.resolve(null).then(t).catch(B_)}:dp;function B_(t){setTimeout(function(){throw t})}function fs(t){return t==="head"}function gp(t,e){var i=e,a=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(a===0){t.removeChild(c),sr(e);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")El(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,El(i);for(var f=i.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Zn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&El(t.ownerDocument.body);i=c}while(i);sr(e)}function pp(t,e){var i=t;t=0;do{var a=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=a}while(i)}function Gh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gh(i),Ea(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function q_(t,e,i,a){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Zn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function H_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function yp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Dn(t.nextSibling),t===null))return null;return t}function Qh(t){return t.data==="$?"||t.data==="$~"}function Yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function P_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var a=function(){e(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Fh=null;function vp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Dn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Ep(t,e,i){switch(e=du(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function El(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ea(t)}var On=new Map,bp=new Set;function mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zi=Z.d;Z.d={f:G_,r:Q_,D:Y_,C:F_,L:K_,m:X_,X:J_,S:Z_,M:$_};function G_(){var t=zi.f(),e=au();return t||e}function Q_(t){var e=En(t);e!==null&&e.tag===5&&e.type==="form"?Lm(e):zi.r(t)}var er=typeof document>"u"?null:document;function Tp(t,e,i){var a=er;if(a&&typeof e=="string"&&e){var c=en(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),bp.has(c)||(bp.add(c),t={rel:t,crossOrigin:i,href:e},a.querySelector(c)===null&&(e=a.createElement("link"),Pe(e,"link",t),Ee(e),a.head.appendChild(e)))}}function Y_(t){zi.D(t),Tp("dns-prefetch",t,null)}function F_(t,e){zi.C(t,e),Tp("preconnect",t,e)}function K_(t,e,i){zi.L(t,e,i);var a=er;if(a&&t&&e){var c='link[rel="preload"][as="'+en(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+en(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+en(i.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var f=c;switch(e){case"style":f=nr(t);break;case"script":f=ir(t)}On.has(f)||(t=C({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),On.set(f,t),a.querySelector(c)!==null||e==="style"&&a.querySelector(bl(f))||e==="script"&&a.querySelector(Tl(f))||(e=a.createElement("link"),Pe(e,"link",t),Ee(e),a.head.appendChild(e)))}}function X_(t,e){zi.m(t,e);var i=er;if(i&&t){var a=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+en(a)+'"][href="'+en(t)+'"]',f=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ir(t)}if(!On.has(f)&&(t=C({rel:"modulepreload",href:t},e),On.set(f,t),i.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Tl(f)))return}a=i.createElement("link"),Pe(a,"link",t),Ee(a),i.head.appendChild(a)}}}function Z_(t,e,i){zi.S(t,e,i);var a=er;if(a&&t){var c=$n(a).hoistableStyles,f=nr(t);e=e||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=a.querySelector(bl(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":e},i),(i=On.get(f))&&Kh(t,i);var N=g=a.createElement("link");Ee(N),Pe(N,"link",t),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gu(g,e,a)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function J_(t,e){zi.X(t,e);var i=er;if(i&&t){var a=$n(i).hoistableScripts,c=ir(t),f=a.get(c);f||(f=i.querySelector(Tl(c)),f||(t=C({src:t,async:!0},e),(e=On.get(c))&&Xh(t,e),f=i.createElement("script"),Ee(f),Pe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(c,f))}}function $_(t,e){zi.M(t,e);var i=er;if(i&&t){var a=$n(i).hoistableScripts,c=ir(t),f=a.get(c);f||(f=i.querySelector(Tl(c)),f||(t=C({src:t,async:!0,type:"module"},e),(e=On.get(c))&&Xh(t,e),f=i.createElement("script"),Ee(f),Pe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(c,f))}}function Sp(t,e,i,a){var c=(c=At.current)?mu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=nr(i.href),i=$n(c).hoistableStyles,a=i.get(e),a||(a={type:"style",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=nr(i.href);var f=$n(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(bl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},On.set(t,i),f||W_(c,t,i,g.state))),e&&a===null)throw Error(r(528,""));return g}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ir(i),i=$n(c).hoistableScripts,a=i.get(e),a||(a={type:"script",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function nr(t){return'href="'+en(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Ap(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function W_(t,e,i,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Pe(e,"link",i),Ee(e),t.head.appendChild(e))}function ir(t){return'[src="'+en(t)+'"]'}function Tl(t){return"script[async]"+t}function xp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+en(i.href)+'"]');if(a)return e.instance=a,Ee(a),a;var c=C({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Ee(a),Pe(a,"style",c),gu(a,i.precedence,t),e.instance=a;case"stylesheet":c=nr(i.href);var f=t.querySelector(bl(c));if(f)return e.state.loading|=4,e.instance=f,Ee(f),f;a=Ap(i),(c=On.get(c))&&Kh(a,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Pe(f,"link",a),e.state.loading|=4,gu(f,i.precedence,t),e.instance=f;case"script":return f=ir(i.src),(c=t.querySelector(Tl(f)))?(e.instance=c,Ee(c),c):(a=i,(c=On.get(f))&&(a=C({},i),Xh(a,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),Pe(c,"link",a),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,gu(a,i.precedence,t));return e.instance}function gu(t,e,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,f=c,g=0;g<a.length;g++){var E=a[g];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Kh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pu=null;function wp(t,e,i){if(pu===null){var a=new Map,c=pu=new Map;c.set(i,a)}else c=pu,a=c.get(i),a||(a=new Map,c.set(i,a));if(a.has(t))return a;for(a.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[Zn]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var E=a.get(g);E?E.push(f):a.set(g,[f])}}return a}function Rp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function t1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function e1(t,e,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=nr(a.href),f=e.querySelector(bl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=yu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,Ee(f);return}f=e.ownerDocument||e,a=Ap(a),(c=On.get(c))&&Kh(a,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Pe(f,"link",a),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=yu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Zh=0;function n1(t,e){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var a=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&Zh===0&&(Zh=62500*z_());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vu=null;function _u(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vu=new Map,e.forEach(i1,t),vu=null,yu.call(t))}function i1(t,e){if(!(e.state.loading&4)){var i=vu.get(t);if(i)var a=i.get(null);else{i=new Map,vu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),a=g)}a&&i.set(null,a)}c=e.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||a,f===a&&i.set(null,c),i.set(g,c),this.count++,a=yu.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Sl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function s1(t,e,i,a,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Np(t,e,i,a,c,f,g,E,N,B,Q,K){return t=new s1(t,e,i,g,N,B,Q,K,E),e=1,f===!0&&(e|=24),f=dn(3,null,null,e),t.current=f,f.stateNode=t,e=Nc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:a,isDehydrated:i,cache:e},Ic(f),t}function Dp(t){return t?(t=Ma,t):Ma}function Op(t,e,i,a,c,f){c=Dp(c),a.context===null?a.context=c:a.pendingContext=c,a=es(e),a.payload={element:i},f=f===void 0?null:f,f!==null&&(a.callback=f),i=ns(t,a,e),i!==null&&(on(i,t,e),el(i,t,e))}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Jh(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function Ip(t){if(t.tag===13||t.tag===31){var e=Xs(t,67108864);e!==null&&on(e,t,67108864),Jh(t,67108864)}}function Mp(t){if(t.tag===13||t.tag===31){var e=vn();e=Us(e);var i=Xs(t,e);i!==null&&on(i,t,e),Jh(t,e)}}var Eu=!0;function a1(t,e,i,a){var c=U.T;U.T=null;var f=Z.p;try{Z.p=2,$h(t,e,i,a)}finally{Z.p=f,U.T=c}}function r1(t,e,i,a){var c=U.T;U.T=null;var f=Z.p;try{Z.p=8,$h(t,e,i,a)}finally{Z.p=f,U.T=c}}function $h(t,e,i,a){if(Eu){var c=Wh(a);if(c===null)Lh(t,e,a,bu,i),zp(t,a);else if(o1(c,t,e,i,a))a.stopPropagation();else if(zp(t,a),e&4&&-1<l1.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Yn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-he(g);E.entanglements[1]|=N,g&=~N}hi(f),(Yt&6)===0&&(iu=Ze()+500,yl(0))}}break;case 31:case 13:E=Xs(f,2),E!==null&&on(E,f,2),au(),Jh(f,2)}if(f=Wh(a),f===null&&Lh(t,e,a,bu,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Lh(t,e,a,null,i)}}function Wh(t){return t=bn(t),tf(t)}var bu=null;function tf(t){if(bu=null,t=Jn(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===31){if(t=y(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return bu=t,null}function jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Is()){case wr:return 2;case Rr:return 8;case Bi:case rc:return 32;case $l:return 268435456;default:return 32}default:return 32}}var ef=!1,ds=null,ms=null,gs=null,Al=new Map,xl=new Map,ps=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function wl(t,e,i,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},e!==null&&(e=En(e),e!==null&&Ip(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function o1(t,e,i,a,c){switch(e){case"focusin":return ds=wl(ds,t,e,i,a,c),!0;case"dragenter":return ms=wl(ms,t,e,i,a,c),!0;case"mouseover":return gs=wl(gs,t,e,i,a,c),!0;case"pointerover":var f=c.pointerId;return Al.set(f,wl(Al.get(f)||null,t,e,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,wl(xl.get(f)||null,t,e,i,a,c)),!0}return!1}function Up(t){var e=Jn(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,Mn(t.priority,function(){Mp(i)});return}}else if(e===31){if(e=y(i),e!==null){t.blockedOn=e,Mn(t.priority,function(){Mp(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Wh(t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);kr=a,i.target.dispatchEvent(a),kr=null}else return e=En(i),e!==null&&Ip(e),t.blockedOn=i,!1;e.shift()}return!0}function Lp(t,e,i){Tu(t)&&i.delete(e)}function u1(){ef=!1,ds!==null&&Tu(ds)&&(ds=null),ms!==null&&Tu(ms)&&(ms=null),gs!==null&&Tu(gs)&&(gs=null),Al.forEach(Lp),xl.forEach(Lp)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,ef||(ef=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,u1)))}var Au=null;function kp(t){Au!==t&&(Au=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var e=0;e<t.length;e+=3){var i=t[e],a=t[e+1],c=t[e+2];if(typeof a!="function"){if(tf(a||i)===null)continue;break}var f=En(i);f!==null&&(t.splice(e,3),e-=3,Wc(f,{pending:!0,data:c,method:i.method,action:a},a,c))}}))}function sr(t){function e(N){return Su(N,t)}ds!==null&&Su(ds,t),ms!==null&&Su(ms,t),gs!==null&&Su(gs,t),Al.forEach(e),xl.forEach(e);for(var i=0;i<ps.length;i++){var a=ps[i];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ps.length&&(i=ps[0],i.blockedOn===null);)Up(i),i.blockedOn===null&&ps.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var c=i[a],f=i[a+1],g=c[Me]||null;if(typeof f=="function")g||kp(i);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(tf(c)!==null)continue}else E=g.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),kp(i)}}}function Bp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function nf(t){this._internalRoot=t}xu.prototype.render=nf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,a=vn();Op(i,a,t,e,null,null)},xu.prototype.unmount=nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Op(t.current,2,null,t,null,null),au(),e[Xn]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=so();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ps.length&&e!==0&&e<ps[i].priority;i++);ps.splice(i,0,t),i===0&&Up(t)}};var qp=n.version;if(qp!=="19.2.3")throw Error(r(527,qp,"19.2.3"));Z.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(e),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var c1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Vn=wu.inject(c1),Le=wu}catch{}}return Cl.createRoot=function(t,e){if(!u(t))throw Error(r(299));var i=!1,a="",c=Km,f=Xm,g=Zm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Np(t,1,!1,null,null,i,a,null,c,f,g,Bp),t[Xn]=e.current,Uh(t),new nf(e)},Cl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(r(299));var a=!1,c="",f=Km,g=Xm,E=Zm,N=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),e=Np(t,1,!0,e,i??null,a,c,N,f,g,E,Bp),e.context=Dp(null),i=e.current,a=vn(),a=Us(a),c=es(a),c.callback=null,ns(i,c,a),i=a,e.current.lanes=i,js(e,i),hi(e),t[Xn]=e.current,Uh(t),new xu(e)},Cl.version="19.2.3",Cl}var Jp;function E1(){if(Jp)return rf.exports;Jp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),rf.exports=_1(),rf.exports}var b1=E1();const T1=h0(b1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),$p=l=>{const n=A1(l);return n.charAt(0).toUpperCase()+n.slice(1)},d0=(...l)=>l.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),x1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ut.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:u="",children:h,iconNode:d,...y},_)=>ut.createElement("svg",{ref:_,...w1,width:n,height:n,stroke:l,strokeWidth:r?Number(s)*24/Number(n):s,className:d0("lucide",u),...!h&&!x1(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,x])=>ut.createElement(v,x)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(l,n)=>{const s=ut.forwardRef(({className:r,...u},h)=>ut.createElement(R1,{ref:h,iconNode:n,className:d0(`lucide-${S1($p(l))}`,`lucide-${l}`,r),...u}));return s.displayName=$p(l),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],m0=ce("arrow-right",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bf=ce("camera",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],g0=ce("circle-alert",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],V1=ce("circle-check-big",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],M1=ce("cloud-upload",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],z1=ce("coffee",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wp=ce("download",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],k1=ce("eye-off",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q1=ce("eye",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],P1=ce("lock-open",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ty=ce("lock",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Y1=ce("menu",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],ey=ce("mic-off",F1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Kf=ce("mic",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Z1=ce("play",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],p0=ce("refresh-cw",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],W1=ce("settings-2",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],eE=ce("timer",tE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iE=ce("triangle-alert",nE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tf=ce("video-off",sE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],rE=ce("video",aE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oE=ce("x",lE),uE=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},cE=function(l){const n=[];let s=0,r=0;for(;s<l.length;){const u=l[s++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=l[s++];n[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=l[s++],d=l[s++],y=l[s++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const h=l[s++],d=l[s++];n[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return n.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const h=l[u],d=u+1<l.length,y=d?l[u+1]:0,_=u+2<l.length,v=_?l[u+2]:0,x=h>>2,C=(h&3)<<4|y>>4;let z=(y&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(z=64)),r.push(s[x],s[C],s[z],s[Y])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(y0(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):cE(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const h=s[l.charAt(u++)],y=u<l.length?s[l.charAt(u)]:0;++u;const v=u<l.length?s[l.charAt(u)]:64;++u;const C=u<l.length?s[l.charAt(u)]:64;if(++u,h==null||y==null||v==null||C==null)throw new hE;const z=h<<2|y>>4;if(r.push(z),v!==64){const Y=y<<4&240|v>>2;if(r.push(Y),C!==64){const tt=v<<6&192|C;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class hE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fE=function(l){const n=y0(l);return v0.encodeByteArray(n,!0)},Uu=function(l){return fE(l).replace(/\./g,"")},dE=function(l){try{return v0.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=()=>mE().__FIREBASE_DEFAULTS__,pE=()=>{if(typeof process>"u"||typeof ny>"u")return;const l=ny.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},yE=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&dE(l[1]);return n&&JSON.parse(n)},Xf=()=>{try{return uE()||gE()||pE()||yE()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},vE=l=>{var n,s;return(s=(n=Xf())==null?void 0:n.emulatorHosts)==null?void 0:s[l]},_E=l=>{const n=vE(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},_0=()=>{var l;return(l=Xf())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bE(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,h=l.sub||l.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Uu(JSON.stringify(s)),Uu(JSON.stringify(d)),""].join(".")}const Il={};function SE(){const l={prod:[],emulator:[]};for(const n of Object.keys(Il))Il[n]?l.emulator.push(n):l.prod.push(n);return l}function AE(l){let n=document.getElementById(l),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),s=!0),{created:s,element:n}}let iy=!1;function xE(l,n){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||Il[l]===n||Il[l]||iy)return;Il[l]=n;function s(z){return`__firebase__banner__${z}`}const r="__firebase__banner",h=SE().prod.length>0;function d(){const z=document.getElementById(r);z&&z.remove()}function y(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function _(z,Y){z.setAttribute("width","24"),z.setAttribute("id",Y),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function v(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{iy=!0,d()},z}function x(z,Y){z.setAttribute("id",Y),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function C(){const z=AE(r),Y=s("text"),tt=document.getElementById(Y)||document.createElement("span"),at=s("learnmore"),nt=document.getElementById(at)||document.createElement("a"),St=s("preprendIcon"),ot=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const yt=z.element;y(yt),x(nt,at);const rt=v();_(ot,St),yt.append(ot,tt,nt,rt),document.body.appendChild(yt)}h?(tt.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RE(){var n;const l=(n=Xf())==null?void 0:n.forceEnvironment;if(l==="node")return!0;if(l==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CE(){return!RE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NE(){try{return typeof indexedDB=="object"}catch{return!1}}function DE(){return new Promise((l,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),s||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{s=!1},u.onerror=()=>{var h;n(((h=u.error)==null?void 0:h.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="FirebaseError";class _r extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=OE,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E0.prototype.create)}}class E0{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},u=`${this.service}/${n}`,h=this.errors[n],d=h?VE(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new _r(u,y,r)}}function VE(l,n){return l.replace(IE,(s,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const IE=/\{\$([^}]+)}/g;function Lu(l,n){if(l===n)return!0;const s=Object.keys(l),r=Object.keys(n);for(const u of s){if(!r.includes(u))return!1;const h=l[u],d=n[u];if(sy(h)&&sy(d)){if(!Lu(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!s.includes(u))return!1;return!0}function sy(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(l){return l&&l._delegate?l._delegate:l}class kl{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new EE;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:s});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(UE(n))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(n=oa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=oa){return this.instances.has(n)}getOptions(n=oa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&n(h,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const u of r)try{u(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zE(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=oa){return this.component?this.component.multipleInstances?n:oa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zE(l){return l===oa?void 0:l}function UE(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new jE(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Bt||(Bt={}));const kE={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},BE=Bt.INFO,qE={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},HE=(l,n,...s)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=qE[n];if(u)console[u](`[${r}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class b0{constructor(n){this.name=n,this._logLevel=BE,this._logHandler=HE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Bt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?kE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...n),this._logHandler(this,Bt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...n),this._logHandler(this,Bt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...n),this._logHandler(this,Bt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...n),this._logHandler(this,Bt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...n),this._logHandler(this,Bt.ERROR,...n)}}const PE=(l,n)=>n.some(s=>l instanceof s);let ay,ry;function GE(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QE(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Sf=new WeakMap,S0=new WeakMap,cf=new WeakMap,Jf=new WeakMap;function YE(l){const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("success",h),l.removeEventListener("error",d)},h=()=>{s(Es(l.result)),u()},d=()=>{r(l.error),u()};l.addEventListener("success",h),l.addEventListener("error",d)});return n.then(s=>{s instanceof IDBCursor&&T0.set(s,l)}).catch(()=>{}),Jf.set(n,l),n}function FE(l){if(Sf.has(l))return;const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("complete",h),l.removeEventListener("error",d),l.removeEventListener("abort",d)},h=()=>{s(),u()},d=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",h),l.addEventListener("error",d),l.addEventListener("abort",d)});Sf.set(l,n)}let Af={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return Sf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||S0.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Es(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function KE(l){Af=l(Af)}function XE(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=l.call(hf(this),n,...s);return S0.set(r,n.sort?n.sort():[n]),Es(r)}:QE().includes(l)?function(...n){return l.apply(hf(this),n),Es(T0.get(this))}:function(...n){return Es(l.apply(hf(this),n))}}function ZE(l){return typeof l=="function"?XE(l):(l instanceof IDBTransaction&&FE(l),PE(l,GE())?new Proxy(l,Af):l)}function Es(l){if(l instanceof IDBRequest)return YE(l);if(cf.has(l))return cf.get(l);const n=ZE(l);return n!==l&&(cf.set(l,n),Jf.set(n,l)),n}const hf=l=>Jf.get(l);function JE(l,n,{blocked:s,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(l,n),y=Es(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Es(d.result),_.oldVersion,_.newVersion,Es(d.transaction),_)}),s&&d.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const $E=["get","getKey","getAll","getAllKeys","count"],WE=["put","add","delete","clear"],ff=new Map;function ly(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(ff.get(n))return ff.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,u=WE.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(u||$E.includes(s)))return;const h=async function(d,...y){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(y.shift())),(await Promise.all([v[s](...y),u&&_.done]))[0]};return ff.set(n,h),h}KE(l=>({...l,get:(n,s,r)=>ly(n,s)||l.get(n,s,r),has:(n,s)=>!!ly(n,s)||l.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(eb(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function eb(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const xf="@firebase/app",oy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new b0("@firebase/app"),nb="@firebase/app-compat",ib="@firebase/analytics-compat",sb="@firebase/analytics",ab="@firebase/app-check-compat",rb="@firebase/app-check",lb="@firebase/auth",ob="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/data-connect",hb="@firebase/database-compat",fb="@firebase/functions",db="@firebase/functions-compat",mb="@firebase/installations",gb="@firebase/installations-compat",pb="@firebase/messaging",yb="@firebase/messaging-compat",vb="@firebase/performance",_b="@firebase/performance-compat",Eb="@firebase/remote-config",bb="@firebase/remote-config-compat",Tb="@firebase/storage",Sb="@firebase/storage-compat",Ab="@firebase/firestore",xb="@firebase/ai",wb="@firebase/firestore-compat",Rb="firebase",Cb="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",Nb={[xf]:"fire-core",[nb]:"fire-core-compat",[sb]:"fire-analytics",[ib]:"fire-analytics-compat",[rb]:"fire-app-check",[ab]:"fire-app-check-compat",[lb]:"fire-auth",[ob]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-data-connect",[hb]:"fire-rtdb-compat",[fb]:"fire-fn",[db]:"fire-fn-compat",[mb]:"fire-iid",[gb]:"fire-iid-compat",[pb]:"fire-fcm",[yb]:"fire-fcm-compat",[vb]:"fire-perf",[_b]:"fire-perf-compat",[Eb]:"fire-rc",[bb]:"fire-rc-compat",[Tb]:"fire-gcs",[Sb]:"fire-gcs-compat",[Ab]:"fire-fst",[wb]:"fire-fst-compat",[xb]:"fire-vertex","fire-js":"fire-js",[Rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,Db=new Map,Rf=new Map;function uy(l,n){try{l.container.addComponent(n)}catch(s){Ui.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function Bu(l){const n=l.name;if(Rf.has(n))return Ui.debug(`There were multiple attempts to register component ${n}.`),!1;Rf.set(n,l);for(const s of ku.values())uy(s,l);for(const s of Db.values())uy(s,l);return!0}function Ob(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function Vb(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new E0("app","Firebase",Ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=Cb;function A0(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const r={name:wf,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw bs.create("bad-app-name",{appName:String(u)});if(s||(s=_0()),!s)throw bs.create("no-options");const h=ku.get(u);if(h){if(Lu(s,h.options)&&Lu(r,h.config))return h;throw bs.create("duplicate-app",{appName:u})}const d=new LE(u);for(const _ of Rf.values())d.addComponent(_);const y=new Mb(s,r,d);return ku.set(u,y),y}function zb(l=wf){const n=ku.get(l);if(!n&&l===wf&&_0())return A0();if(!n)throw bs.create("no-app",{appName:l});return n}function ur(l,n,s){let r=Nb[l]??l;s&&(r+=`-${s}`);const u=r.match(/\s|\//),h=n.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${n}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}Bu(new kl(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebase-heartbeat-database",Lb=1,Bl="firebase-heartbeat-store";let df=null;function x0(){return df||(df=JE(Ub,Lb,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Bl)}catch(s){console.warn(s)}}}}).catch(l=>{throw bs.create("idb-open",{originalErrorMessage:l.message})})),df}async function kb(l){try{const s=(await x0()).transaction(Bl),r=await s.objectStore(Bl).get(w0(l));return await s.done,r}catch(n){if(n instanceof _r)Ui.warn(n.message);else{const s=bs.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(s.message)}}}async function cy(l,n){try{const r=(await x0()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(n,w0(l)),await r.done}catch(s){if(s instanceof _r)Ui.warn(s.message);else{const r=bs.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Ui.warn(r.message)}}}function w0(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,qb=30;class Hb{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Gb(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,s;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=hy();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>qb){const d=Qb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=hy(),{heartbeatsToSend:r,unsentEntries:u}=Pb(this._heartbeatsCache.heartbeats),h=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(s){return Ui.warn(s),""}}}function hy(){return new Date().toISOString().substring(0,10)}function Pb(l,n=Bb){const s=[];let r=l.slice();for(const u of l){const h=s.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),fy(s)>n){h.dates.pop();break}}else if(s.push({agent:u.agent,dates:[u.date]}),fy(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class Gb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NE()?DE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await kb(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return cy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return cy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function fy(l){return Uu(JSON.stringify({version:2,heartbeats:l})).length}function Qb(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let r=1;r<l.length;r++)l[r].date<s&&(s=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(l){Bu(new kl("platform-logger",n=>new tb(n),"PRIVATE")),Bu(new kl("heartbeat",n=>new Hb(n),"PRIVATE")),ur(xf,oy,l),ur(xf,oy,"esm2020"),ur("fire-js","")}Yb("");var Fb="firebase",Kb="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(Fb,Kb,"app");var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,R0;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(A,S){function R(){}R.prototype=S.prototype,A.F=S.prototype,A.prototype=new R,A.prototype.constructor=A,A.D=function(I,D,M){for(var w=Array(arguments.length-2),it=2;it<arguments.length;it++)w[it-2]=arguments[it];return S.prototype[D].apply(I,w)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}n(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(A,S,R){R||(R=0);const I=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)I[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=A.g[0],R=A.g[1],D=A.g[2];let M=A.g[3],w;w=S+(M^R&(D^M))+I[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+I[1]+3905402710&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+I[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+I[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(M^R&(D^M))+I[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+I[5]+1200080426&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+I[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+I[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(M^R&(D^M))+I[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+I[9]+2336552879&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+I[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+I[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(M^R&(D^M))+I[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(D^S&(R^D))+I[13]+4254626195&4294967295,M=S+(w<<12&4294967295|w>>>20),w=D+(R^M&(S^R))+I[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=R+(S^D&(M^S))+I[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(D^M&(R^D))+I[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+I[6]+3225465664&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+I[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+I[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^M&(R^D))+I[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+I[10]+38016083&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+I[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+I[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^M&(R^D))+I[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+I[14]+3275163606&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+I[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+I[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^M&(R^D))+I[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^D&(S^R))+I[2]+4243563512&4294967295,M=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(M^S))+I[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(D^M))+I[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(R^D^M)+I[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+I[8]+2272392833&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+I[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+I[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^M)+I[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+I[4]+1272893353&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+I[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+I[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^M)+I[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+I[0]+3936430074&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+I[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+I[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^M)+I[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^D)+I[12]+3873151461&4294967295,M=S+(w<<11&4294967295|w>>>21),w=D+(M^S^R)+I[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=R+(D^M^S)+I[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(D^(R|~M))+I[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+I[7]+1126891415&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+I[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+I[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~M))+I[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+I[3]+2399980690&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+I[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+I[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~M))+I[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+I[15]+4264355552&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+I[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+I[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~M))+I[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~D))+I[11]+3174756917&4294967295,M=S+(w<<10&4294967295|w>>>22),w=D+(S^(M|~R))+I[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=R+(M^(D|~S))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+M&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const R=S-this.blockSize,I=this.C;let D=this.h,M=0;for(;M<S;){if(D==0)for(;M<=R;)u(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<S;)if(I[D++]=A.charCodeAt(M++),D==this.blockSize){u(this,I),D=0;break}}else for(;M<S;)if(I[D++]=A[M++],D==this.blockSize){u(this,I),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var R=A.length-8;R<A.length;++R)A[R]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)A[S++]=this.g[R]>>>I&255;return A};function h(A,S){var R=y;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=S(A)}function d(A,S){this.h=S;const R=[];let I=!0;for(let D=A.length-1;D>=0;D--){const M=A[D]|0;I&&M==S||(R[D]=M,I=!1)}this.g=R}var y={};function _(A){return-128<=A&&A<128?h(A,function(S){return new d([S|0],S<0?-1:0)}):new d([A|0],A<0?-1:0)}function v(A){if(isNaN(A)||!isFinite(A))return C;if(A<0)return nt(v(-A));const S=[];let R=1;for(let I=0;A>=R;I++)S[I]=A/R|0,R*=4294967296;return new d(S,0)}function x(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return nt(x(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(S,8));let I=C;for(let M=0;M<A.length;M+=8){var D=Math.min(8,A.length-M);const w=parseInt(A.substring(M,M+D),S);D<8?(D=v(Math.pow(S,D)),I=I.j(D).add(v(w))):(I=I.j(R),I=I.add(v(w)))}return I}var C=_(0),z=_(1),Y=_(16777216);l=d.prototype,l.m=function(){if(at(this))return-nt(this).m();let A=0,S=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);A+=(I>=0?I:4294967296+I)*S,S*=4294967296}return A},l.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(tt(this))return"0";if(at(this))return"-"+nt(this).toString(A);const S=v(Math.pow(A,6));var R=this;let I="";for(;;){const D=rt(R,S).g;R=St(R,D.j(S));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(A);if(R=D,tt(R))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},l.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function tt(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function at(A){return A.h==-1}l.l=function(A){return A=St(this,A),at(A)?-1:tt(A)?0:1};function nt(A){const S=A.g.length,R=[];for(let I=0;I<S;I++)R[I]=~A.g[I];return new d(R,~A.h).add(z)}l.abs=function(){return at(this)?nt(this):this},l.add=function(A){const S=Math.max(this.g.length,A.g.length),R=[];let I=0;for(let D=0;D<=S;D++){let M=I+(this.i(D)&65535)+(A.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);I=w>>>16,M&=65535,w&=65535,R[D]=w<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function St(A,S){return A.add(nt(S))}l.j=function(A){if(tt(this)||tt(A))return C;if(at(this))return at(A)?nt(this).j(nt(A)):nt(nt(this).j(A));if(at(A))return nt(this.j(nt(A)));if(this.l(Y)<0&&A.l(Y)<0)return v(this.m()*A.m());const S=this.g.length+A.g.length,R=[];for(var I=0;I<2*S;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<A.g.length;D++){const M=this.i(I)>>>16,w=this.i(I)&65535,it=A.i(D)>>>16,lt=A.i(D)&65535;R[2*I+2*D]+=w*lt,ot(R,2*I+2*D),R[2*I+2*D+1]+=M*lt,ot(R,2*I+2*D+1),R[2*I+2*D+1]+=w*it,ot(R,2*I+2*D+1),R[2*I+2*D+2]+=M*it,ot(R,2*I+2*D+2)}for(A=0;A<S;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=S;A<2*S;A++)R[A]=0;return new d(R,0)};function ot(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function yt(A,S){this.g=A,this.h=S}function rt(A,S){if(tt(S))throw Error("division by zero");if(tt(A))return new yt(C,C);if(at(A))return S=rt(nt(A),S),new yt(nt(S.g),nt(S.h));if(at(S))return S=rt(A,nt(S)),new yt(nt(S.g),S.h);if(A.g.length>30){if(at(A)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var R=z,I=S;I.l(A)<=0;)R=pt(R),I=pt(I);var D=ht(R,1),M=ht(I,1);for(I=ht(I,2),R=ht(R,2);!tt(I);){var w=M.add(I);w.l(A)<=0&&(D=D.add(R),M=w),I=ht(I,1),R=ht(R,1)}return S=St(A,D.j(S)),new yt(D,S)}for(D=C;A.l(S)>=0;){for(R=Math.max(1,Math.floor(A.m()/S.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=v(R),w=M.j(S);at(w)||w.l(A)>0;)R-=I,M=v(R),w=M.j(S);tt(M)&&(M=z),D=D.add(M),A=St(A,w)}return new yt(D,A)}l.B=function(A){return rt(this,A).h},l.and=function(A){const S=Math.max(this.g.length,A.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)&A.i(I);return new d(R,this.h&A.h)},l.or=function(A){const S=Math.max(this.g.length,A.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)|A.i(I);return new d(R,this.h|A.h)},l.xor=function(A){const S=Math.max(this.g.length,A.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)^A.i(I);return new d(R,this.h^A.h)};function pt(A){const S=A.g.length+1,R=[];for(let I=0;I<S;I++)R[I]=A.i(I)<<1|A.i(I-1)>>>31;return new d(R,A.h)}function ht(A,S){const R=S>>5;S%=32;const I=A.g.length-R,D=[];for(let M=0;M<I;M++)D[M]=S>0?A.i(M+R)>>>S|A.i(M+R+1)<<32-S:A.i(M+R);return new d(D,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,R0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,Ts=d}).apply(typeof dy<"u"?dy:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C0,Nl,N0,Vu,Cf,D0,O0,V0;(function(){var l,n=Object.defineProperty;function s(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=s(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var b=0;b<o.length-1;b++){var L=o[b];if(!(L in p))break t;p=p[L]}o=o[o.length-1],b=p[o],m=m(b),m!=b&&m!=null&&n(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function _(o,m,p){return o.call.apply(o.bind,arguments)}function v(o,m,p){return v=_,v.apply(null,arguments)}function x(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function C(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(b,L,H){for(var et=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)et[Nt-2]=arguments[Nt];return m.prototype[L].apply(b,et)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Y(o){const m=o.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=o[b];return p}return[]}function tt(o,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=o.length||0;const H=L.length||0;o.length=p+H;for(let et=0;et<H;et++)o[p+et]=L[et]}else o.push(L)}}class at{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(o){d.setTimeout(()=>{throw o},0)}function St(){var o=A;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,p){const b=yt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var yt=new at(()=>new rt,o=>o.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ht=!1,A=new ot,S=()=>{const o=Promise.resolve(void 0);pt=()=>{o.then(R)}};function R(){for(var o;o=St();){try{o.h.call(o.g)}catch(p){nt(p)}var m=yt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}ht=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function w(o){return/^[\s\xa0]*$/.test(o)}function it(o,m){D.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}C(it,D),it.prototype.init=function(o,m){const p=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(o,m,p,b,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=L,this.key=++U,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function mt(o,m,p){for(const b in o)m.call(p,o[b],b,o)}function Ct(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function O(o){const m={};for(const p in o)m[p]=o[p];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(o,m){let p,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(p in b)o[p]=b[p];for(let H=0;H<G.length;H++)p=G[H],Object.prototype.hasOwnProperty.call(b,p)&&(o[p]=b[p])}}function $(o){this.src=o,this.g={},this.h=0}$.prototype.add=function(o,m,p,b,L){const H=o.toString();o=this.g[H],o||(o=this.g[H]=[],this.h++);const et=At(o,m,b,L);return et>-1?(m=o[et],p||(m.fa=!1)):(m=new Z(m,this.src,H,!!b,L),m.fa=p,o.push(m)),m};function ft(o,m){const p=m.type;if(p in o.g){var b=o.g[p],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(W(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function At(o,m,p,b){for(let L=0;L<o.length;++L){const H=o[L];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==b)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ie(o,m,p,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ie(o,m[H],p,b,L);return null}return p=xr(p),o&&o[lt]?o.J(m,p,y(b)?!!b.capture:!1,L):Os(o,m,p,!1,b,L)}function Os(o,m,p,b,L,H){if(!m)throw Error("Invalid event type");const et=y(L)?!!L.capture:!!L;let Nt=Vs(o);if(Nt||(o[Mt]=Nt=new $(o)),p=Nt.add(m,p,b,et,H),p.proxy)return p;if(b=ga(),p.proxy=b,b.src=o,b.listener=p,o.addEventListener)M||(L=et),L===void 0&&(L=!1),o.addEventListener(m.toString(),b,L);else if(o.attachEvent)o.attachEvent(Gn(m.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ga(){function o(p){return m.call(o.src,o.listener,p)}const m=Sr;return o}function pa(o,m,p,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)pa(o,m[H],p,b,L);else b=y(b)?!!b.capture:!!b,p=xr(p),o&&o[lt]?(o=o.i,H=String(m).toString(),H in o.g&&(m=o.g[H],p=At(m,p,b,L),p>-1&&(W(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[H],o.h--)))):o&&(o=Vs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=At(m,p,b,L)),(p=o>-1?m[o]:null)&&ya(p))}function ya(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[lt])ft(m.i,o);else{var p=o.type,b=o.proxy;m.removeEventListener?m.removeEventListener(p,b,o.capture):m.detachEvent?m.detachEvent(Gn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Vs(m))?(ft(p,o),p.h==0&&(p.src=null,m[Mt]=null)):W(o)}}}function Gn(o){return o in Ne?Ne[o]:Ne[o]="on"+o}function Sr(o,m){if(o.da)o=!0;else{m=new it(m,this);const p=o.listener,b=o.ha||o.src;o.fa&&ya(o),o=p.call(b,m)}return o}function Vs(o){return o=o[Mt],o instanceof $?o:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(o){return typeof o=="function"?o:(o[Ar]||(o[Ar]=function(m){return o.handleEvent(m)}),o[Ar])}function ye(){I.call(this),this.i=new $(this),this.M=this,this.G=null}C(ye,I),ye.prototype[lt]=!0,ye.prototype.removeEventListener=function(o,m,p,b){pa(this,o,m,p,b)};function De(o,m){var p,b=o.G;if(b)for(p=[];b;b=b.G)p.push(b);if(o=o.M,b=m.type||m,typeof m=="string")m=new D(m,o);else if(m instanceof D)m.target=m.target||o;else{var L=m;m=new D(b,o),J(m,L)}L=!0;let H,et;if(p)for(et=p.length-1;et>=0;et--)H=m.g=p[et],L=ki(H,b,!0,m)&&L;if(H=m.g=o,L=ki(H,b,!0,m)&&L,L=ki(H,b,!1,m)&&L,p)for(et=0;et<p.length;et++)H=m.g=p[et],L=ki(H,b,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let b=0;b<p.length;b++)W(p[b]);delete o.g[m],o.h--}}this.G=null},ye.prototype.J=function(o,m,p,b){return this.i.add(String(o),m,!1,p,b)},ye.prototype.K=function(o,m,p,b){return this.i.add(String(o),m,!0,p,b)};function ki(o,m,p,b){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const et=m[H];if(et&&!et.da&&et.capture==p){const Nt=et.listener,fe=et.ha||et.src;et.fa&&ft(o.i,et),L=Nt.call(fe,b)!==!1&&L}}return L&&!b.defaultPrevented}function ac(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=v(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Jl(o){o.g=ac(()=>{o.g=null,o.i&&(o.i=!1,Jl(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ze extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(o){I.call(this),this.h=o,this.g={}}C(Is,I);var wr=[];function Rr(o){mt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ya(m)},o),o.g={}}Is.prototype.N=function(){Is.Z.N.call(this),Rr(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=d.JSON.stringify,rc=d.JSON.parse,$l=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function Wl(){}function to(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}C(Le,D);function _n(){D.call(this,"c")}C(_n,D);var he={},eo=null;function va(){return eo=eo||new ye}he.Ia="serverreachability";function no(o){D.call(this,he.Ia,o)}C(no,D);function Qn(o){const m=va();De(m,new no(m))}he.STAT_EVENT="statevent";function Ms(o,m){D.call(this,he.STAT_EVENT,o),this.stat=m}C(Ms,D);function ve(o){const m=va();De(m,new Ms(m,o))}he.Ja="timingevent";function Yn(o,m){D.call(this,he.Ja,o),this.size=m}C(Yn,D);function Fn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function lc(o,m,p,b,L,H){o.info(function(){if(o.g)if(H){var et="",Nt=H.split("&");for(let Qt=0;Qt<Nt.length;Qt++){var fe=Nt[Qt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Sn=se.split("_");et=Sn.length>=2&&Sn[1]=="type"?et+(se+"="+fe+"&"):et+(se+"=redacted&")}}}else et=null;else et=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function io(o,m,p,b,L,H,et){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+p+`
`+H+" "+et})}function Kn(o,m,p,b){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+oc(o,p)+(b?" "+b:"")})}function js(o,m){o.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function oc(o,m){if(!o.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(o=0;o<H.length;o++)if(Array.isArray(H[o])){var p=H[o];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return Bi(H)}catch{return m}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function Us(){}C(Us,Wl),Us.prototype.g=function(){return new XMLHttpRequest},Nr=new Us;function vi(o){return encodeURIComponent(String(o))}function so(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function Mn(o,m,p,b){this.j=o,this.i=m,this.l=p,this.S=b||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function Xn(o,m,p){o.M=1,o.A=Ls(be(m)),o.u=p,o.R=!0,_a(o,null)}function _a(o,m){o.F=Date.now(),Zn(o),o.B=be(o.A);var p=o.B,b=o.S;Array.isArray(b)||(b=[String(b)]),Sa(p.i,"t",b),o.C=0,p=o.j.L,o.h=new jn,o.g=Eo(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ze(v(o.Y,o,o.g),o.P)),m=o.V,p=o.g,b=o.ba;var L="readystatechange";Array.isArray(L)||(L&&(wr[0]=L.toString()),L=wr);for(let H=0;H<L.length;H++){const et=ie(p,L[H],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.J?O(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Qn(),lc(o.i,o.v,o.B,o.l,o.S,o.u)}Mn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Ln(o)==3?m.j():this.Y(o)},Mn.prototype.Y=function(o){try{if(o==this.g)t:{const Nt=Ln(this.g),fe=this.g.ya(),Qt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Nt!=4||fe==7||(fe==8||Qt<=0?Qn(3):Qn(2)),Jn(this);var m=this.g.ca();this.X=m;var p=uc(this);if(this.o=m==200,io(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var H=b;break e}}H=null}if(o=H)Kn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$n(this,o);else{this.o=!1,this.m=3,ve(12),cn(this),En(this);break t}}if(this.R){o=!0;let se;for(;!this.K&&this.C<p.length;)if(se=ro(this,p),se==Me){Nt==4&&(this.m=4,ve(14),o=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ve(15),Kn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Kn(this.i,this.l,se,null),$n(this,se);if(ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||p.length!=0||this.h.h||(this.m=1,ve(16),o=!1),this.o=this.o&&o,!o)Kn(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Gr(et),et.P=!0,ve(11))}}else Kn(this.i,this.l,p,null),$n(this,p);Nt==4&&cn(this),this.o&&!this.K&&(Nt==4?po(this.j,this):(this.o=!1,Zn(this)))}else Ei(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),cn(this),En(this)}}}catch{}finally{}};function uc(o){if(!ao(o))return o.g.la();const m=ke(o.g);if(m==="")return"";let p="";const b=m.length,L=Ln(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return cn(o),En(o),"";o.h.i=new d.TextDecoder}for(let H=0;H<b;H++)o.h.h=!0,p+=o.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function ao(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function ro(o,m){var p=o.C,b=m.indexOf(`
`,p);return b==-1?Me:(p=Number(m.substring(p,b)),isNaN(p)?_e:(b+=1,b+p>m.length?Me:(m=m.slice(b,b+p),o.C=b+p,m)))}Mn.prototype.cancel=function(){this.K=!0,cn(this)};function Zn(o){o.T=Date.now()+o.H,Ea(o,o.H)}function Ea(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Fn(v(o.aa,o),m)}function Jn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Mn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(js(this.i,this.B),this.M!=2&&(Qn(),ve(17)),cn(this),this.m=2,En(this)):Ea(this,this.T-o)};function En(o){o.j.I==0||o.K||po(o.j,o)}function cn(o){Jn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Rr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function $n(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ti(p.h,o))){if(!o.L&&ti(p.h,o)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Ca(p),Ki(p);else break t;Qs(p),ve(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Fn(v(p.Va,p),6e3));Wn(p.h)<=1&&p.ta&&(p.ta=void 0)}else ri(p,11)}else if((o.L||p.g==o)&&Ca(p),!w(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const se=Qt[0];if(!(se<=p.K))if(p.K=se,Qt=Qt[1],p.I==2)if(Qt[0]=="c"){p.M=Qt[1],p.ba=Qt[2];const Sn=Qt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const li=Qt[4];li!=null&&(p.za=li,p.j.info("SVER="+p.za));const kn=Qt[5];kn!=null&&typeof kn=="number"&&kn>0&&(b=1.5*kn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Bn=o.g;if(Bn){const Ys=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var H=b.h;H.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Vr(H,H.h),H.h=null))}if(b.G){const Na=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(b.wa=Na,Ft(b.J,b.G,Na))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var et=o;if(b.na=_o(b,b.L?b.ba:null,b.W),et.L){Ir(b.h,et);var Nt=et,fe=b.O;fe&&(Nt.H=fe),Nt.D&&(Jn(Nt),Zn(Nt)),b.g=et}else mo(b);p.i.length>0&&ai(p)}else Qt[0]!="stop"&&Qt[0]!="close"||ri(p,7);else p.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?ri(p,7):Hr(p):Qt[0]!="noop"&&p.l&&p.l.qa(Qt),p.A=0)}}Qn(4)}catch{}}var Ee=class{constructor(o,m){this.g=o,this.map=m}};function Dr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Or(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wn(o){return o.h?1:o.g?o.g.size:0}function ti(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Vr(o,m){o.g?o.g.add(m):o.h=m}function Ir(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Dr.prototype.cancel=function(){if(this.i=Mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Mr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return Y(o.i)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const b=o[p].indexOf("=");let L,H=null;b>=0?(L=o[p].substring(0,b),H=o[p].substring(b+1)):L=o[p],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function hn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof hn?(this.l=o.l,je(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.u),this.h=o.h,jr(this,ho(o.i)),this.m=o.m):o&&(m=String(o).match(lo))?(this.l=!1,je(this,m[1]||"",!0),this.o=ei(m[2]||""),this.g=ei(m[3]||"",!0),qi(this,m[4]),this.h=ei(m[5]||"",!0),jr(this,m[6]||"",!0),this.m=ei(m[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}hn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(ks(m,Ta,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(ks(m,Ta,!0),"@"),o.push(vi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(ks(p,p.charAt(0)=="/"?zr:oo,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",ks(p,uo)),o.join("")},hn.prototype.resolve=function(o){const m=be(this);let p=!!o.j;p?je(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var b=o.h;if(p)qi(m,o.u);else if(p=!!o.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let et=0;et<L.length;){const Nt=L[et++];Nt=="."?b&&et==L.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&et==L.length&&H.push("")):(H.push(Nt),b=!0)}b=H.join("/")}else b=L}return p?m.h=b:p=o.i.toString()!=="",p?jr(m,ho(o.i)):p=!!o.m,p&&(m.m=o.m),m};function be(o){return new hn(o)}function je(o,m,p){o.j=p?ei(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function jr(o,m,p){m instanceof Pi?(o.i=m,Aa(o.i,o.l)):(p||(m=ks(m,Hi)),o.i=new Pi(m,o.l))}function Ft(o,m,p){o.i.set(m,p)}function Ls(o){return Ft(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ei(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ks(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,en),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function en(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ta=/[#\/\?@]/g,oo=/[#\?:]/g,zr=/[#\?]/g,Hi=/[#\?@]/g,uo=/#/g;function Pi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function nn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}l=Pi.prototype,l.add=function(o,m){nn(this),this.i=null,o=Gi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function co(o,m){nn(o),m=Gi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Ur(o,m){return nn(o),m=Gi(o,m),o.g.has(m)}l.forEach=function(o,m){nn(this),this.g.forEach(function(p,b){p.forEach(function(L){o.call(m,L,b,this)},this)},this)};function Lr(o,m){nn(o);let p=[];if(typeof m=="string")Ur(o,m)&&(p=p.concat(o.g.get(Gi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}l.set=function(o,m){return nn(this),this.i=null,o=Gi(this,o),Ur(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},l.get=function(o,m){return o?(o=Lr(this,o),o.length>0?String(o[0]):m):m};function Sa(o,m,p){co(o,m),p.length>0&&(o.i=null,o.g.set(Gi(o,m),Y(p)),o.h+=p.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const L=vi(p);p=Lr(this,p);for(let H=0;H<p.length;H++){let et=L;p[H]!==""&&(et+="="+vi(p[H])),o.push(et)}}return this.i=o.join("&")};function ho(o){const m=new Pi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Gi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Aa(o,m){m&&!o.j&&(nn(o),o.i=null,o.g.forEach(function(p,b){const L=b.toLowerCase();b!=L&&(co(this,b),Sa(this,L,p))},o)),o.j=m}function zn(o,m){const p=new In;if(d.Image){const b=new Image;b.onload=x(bn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=x(bn,p,"TestLoadImage: error",!1,m,b),b.onabort=x(bn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=x(bn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else m(!1)}function kr(o,m){const p=new In,b=new AbortController,L=setTimeout(()=>{b.abort(),bn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?bn(p,"TestPingServer: ok",!0,m):bn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(p,"TestPingServer: error",!1,m)})}function bn(o,m,p,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(p)}catch{}}function Qi(){this.g=new $l}function ni(o){this.i=o.Sb||null,this.h=o.ab||!1}C(ni,Wl),ni.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(o,m){ye.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Bs,ye),l=Bs.prototype,l.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Un(this)},l.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},l.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}l.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Yi(this):Un(this),this.readyState==3&&xa(this)}},l.Oa=function(o){this.g&&(this.response=this.responseText=o,Yi(this))},l.Na=function(o){this.g&&(this.response=o,Yi(this))},l.ga=function(){this.g&&Yi(this)};function Yi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Un(o)}l.setRequestHeader=function(o,m){this.A.append(o,m)},l.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Un(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return mt(o,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function qs(o,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Tn(p),typeof o=="string"?p!=null&&vi(p):Ft(o,m,p))}function Zt(o){ye.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Zt,ye);var ii=/^https?$/i,Br=["POST","PUT"];l=Zt.prototype,l.Fa=function(o){this.H=o},l.ea=function(o,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=z(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(H){Hs(this,H);return}if(o=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)p.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())p.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Br,m,void 0)>=0)||b||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of p)this.g.setRequestHeader(H,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(H){Hs(this,H)}};function Hs(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,qr(o),_i(o)}function qr(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}l.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),_i(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Zt.Z.N.call(this)},l.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},l.Xa=function(){Ps(this)};function Ps(o){if(o.h&&typeof h<"u"){if(o.v&&Ln(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),Ln(o)==4){o.h=!1;try{const H=o.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=H===0){let et=String(o.D).match(lo)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!ii.test(et?et.toLowerCase():"")}p=b}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var L=Ln(o)>2?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.ca()+"]",qr(o)}}finally{_i(o)}}}}function _i(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}l.isActive=function(){return!!this.g};function Ln(o){return o.g?o.g.readyState:0}l.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},l.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),rc(m)}};function ke(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(o){const m={};o=(o.g&&Ln(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(w(o[b]))continue;var p=so(o[b]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[L]||[];m[L]=H,H.push(p)}Ct(m,function(b){return b.join(", ")})}l.ya=function(){return this.o},l.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Fi(o){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=si("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=si("baseRetryDelayMs",5e3,o),this.Za=si("retryDelaySeedMs",1e4,o),this.Ta=si("forwardChannelMaxRetries",2,o),this.va=si("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Dr(o&&o.concurrentRequestLimit),this.Ba=new Qi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}l=Fi.prototype,l.ka=8,l.I=1,l.connect=function(o,m,p,b){ve(0),this.W=o,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=_o(this,null,this.W),ai(this)};function Hr(o){if(wa(o),o.I==3){var m=o.V++,p=be(o.J);if(Ft(p,"SID",o.M),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Gs(o,p),m=new Mn(o,o.j,m),m.M=2,m.A=Ls(be(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Eo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zn(m)}vo(o)}function Ki(o){o.g&&(Gr(o),o.g.cancel(),o.g=null)}function wa(o){Ki(o),o.v&&(d.clearTimeout(o.v),o.v=null),Ca(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function ai(o){if(!Or(o.h)&&!o.m){o.m=!0;var m=o.Ea;pt||S(),ht||(pt(),ht=!0),A.add(m,o),o.D=0}}function Ra(o,m){return Wn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Fn(v(o.Ea,o,m),yo(o,o.D)),o.D++,!0)}l.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const L=new Mn(this,this.j,o);let H=this.o;if(this.U&&(H?(H=O(H),J(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=fo(this,L,m),p=be(this.J),Ft(p,"RID",o),Ft(p,"CVER",22),this.G&&Ft(p,"X-HTTP-Session-Id",this.G),Gs(this,p),H&&(this.R?m="headers="+vi(Tn(H))+"&"+m:this.u&&qs(p,this.u,H)),Vr(this.h,L),this.Ra&&Ft(p,"TYPE","init"),this.S?(Ft(p,"$req",m),Ft(p,"SID","null"),L.U=!0,Xn(L,p,null)):Xn(L,p,m),this.I=2}}else this.I==3&&(o?Pr(this,o):this.i.length==0||Or(this.h)||Pr(this))};function Pr(o,m){var p;m?p=m.l:p=o.V++;const b=be(o.J);Ft(b,"SID",o.M),Ft(b,"RID",p),Ft(b,"AID",o.K),Gs(o,b),o.u&&o.o&&qs(b,o.u,o.o),p=new Mn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=fo(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Vr(o.h,p),Xn(p,b,m)}function Gs(o,m){o.H&&mt(o.H,function(p,b){Ft(m,b,p)}),o.l&&mt({},function(p,b){Ft(m,b,p)})}function fo(o,m,p){p=Math.min(o.i.length,p);const b=o.l?v(o.l.Ka,o.l,o):null;t:{var L=o.i;let Nt=-1;for(;;){const fe=["count="+p];Nt==-1?p>0?(Nt=L[0].g,fe.push("ofs="+Nt)):Nt=0:fe.push("ofs="+Nt);let Qt=!0;for(let se=0;se<p;se++){var H=L[se].g;const Sn=L[se].map;if(H-=Nt,H<0)Nt=Math.max(0,L[se].g-100),Qt=!1;else try{H="req"+H+"_"||"";try{var et=Sn instanceof Map?Sn:Object.entries(Sn);for(const[li,kn]of et){let Bn=kn;y(kn)&&(Bn=Bi(kn)),fe.push(H+li+"="+encodeURIComponent(Bn))}}catch(li){throw fe.push(H+"type="+encodeURIComponent("_badmap")),li}}catch{b&&b(Sn)}}if(Qt){et=fe.join("&");break t}}et=void 0}return o=o.i.splice(0,p),m.G=o,et}function mo(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;pt||S(),ht||(pt(),ht=!0),A.add(m,o),o.A=0}}function Qs(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Fn(v(o.Da,o),yo(o,o.A)),o.A++,!0)}l.Da=function(){if(this.v=null,go(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Fn(v(this.Wa,this),o)}},l.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ki(this),go(this))};function Gr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function go(o){o.g=new Mn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=be(o.na);Ft(m,"RID","rpc"),Ft(m,"SID",o.M),Ft(m,"AID",o.K),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ft(m,"TO",o.ia),Ft(m,"TYPE","xmlhttp"),Gs(o,m),o.u&&o.o&&qs(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ls(be(m)),p.u=null,p.R=!0,_a(p,o)}l.Va=function(){this.C!=null&&(this.C=null,Ki(this),Qs(this),ve(19))};function Ca(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function po(o,m){var p=null;if(o.g==m){Ca(o),Gr(o),o.g=null;var b=2}else if(ti(o.h,m))p=m.G,Ir(o.h,m),b=1;else return;if(o.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=o.D;b=va(),De(b,new Yn(b,p)),ai(o)}else mo(o);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ra(o,m)||b==2&&Qs(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),L){case 1:ri(o,5);break;case 4:ri(o,10);break;case 3:ri(o,6);break;default:ri(o,2)}}}function yo(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ri(o,m){if(o.j.info("Error code "+m),m==2){var p=v(o.bb,o),b=o.Ua;const L=!b;b=new hn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(b,"https"),Ls(b),L?zn(b.toString(),p):kr(b.toString(),p)}else ve(2);o.I=0,o.l&&o.l.pa(m),vo(o),wa(o)}l.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vo(o){if(o.I=0,o.ja=[],o.l){const m=Mr(o.h);(m.length!=0||o.i.length!=0)&&(tt(o.ja,m),tt(o.ja,o.i),o.h.i.length=0,Y(o.i),o.i.length=0),o.l.oa()}}function _o(o,m,p){var b=p instanceof hn?be(p):new hn(p);if(b.g!="")m&&(b.g=m+"."+b.g),qi(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new hn(null);b&&je(H,b),m&&(H.g=m),L&&qi(H,L),p&&(H.h=p),b=H}return p=o.G,m=o.wa,p&&m&&Ft(b,p,m),Ft(b,"VER",o.ka),Gs(o,b),b}function Eo(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Zt(new ni({ab:p})):new Zt(o.ma),m.Fa(o.L),m}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}l=bo.prototype,l.ra=function(){},l.qa=function(){},l.pa=function(){},l.oa=function(){},l.isActive=function(){return!0},l.Ka=function(){};function Xi(){}Xi.prototype.g=function(o,m){return new Je(o,m)};function Je(o,m){ye.call(this),this.g=new Fi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!w(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new bi(this)}C(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Hr(this.g)},Je.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Bi(o),o=p);m.i.push(new Ee(m.Ya++,o)),m.I==3&&ai(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Hr(this.g),delete this.g,Je.Z.N.call(this)};function To(o){Le.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}C(To,Le);function So(){_n.call(this),this.status=1}C(So,_n);function bi(o){this.g=o}C(bi,bo),bi.prototype.ra=function(){De(this.g,"a")},bi.prototype.qa=function(o){De(this.g,new To(o))},bi.prototype.pa=function(o){De(this.g,new So)},bi.prototype.oa=function(){De(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,V0=function(){return new Xi},O0=function(){return va()},D0=he,Cf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Vu=zs,Cr.COMPLETE="complete",N0=Cr,to.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Nl=to,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,C0=Zt}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const my="@firebase/firestore",gy="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new b0("@firebase/firestore");function ar(){return da.logLevel}function ct(l,...n){if(da.logLevel<=Bt.DEBUG){const s=n.map($f);da.debug(`Firestore (${Er}): ${l}`,...s)}}function Li(l,...n){if(da.logLevel<=Bt.ERROR){const s=n.map($f);da.error(`Firestore (${Er}): ${l}`,...s)}}function fr(l,...n){if(da.logLevel<=Bt.WARN){const s=n.map($f);da.warn(`Firestore (${Er}): ${l}`,...s)}}function $f(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(l,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,I0(l,r,s)}function I0(l,n,s){let r=`FIRESTORE (${Er}) INTERNAL ASSERTION FAILED: ${n} (ID: ${l.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Li(r),new Error(r)}function le(l,n,s,r){let u="Unexpected state";typeof s=="string"?u=s:r=s,l||I0(n,u,r)}function qt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends _r{constructor(n,s){super(n,s),this.code=n,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise(((n,s)=>{this.resolve=n,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(n,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Xb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,s){n.enqueueRetryable((()=>s(Ke.UNAUTHENTICATED)))}shutdown(){}}class Zb{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,s){this.changeListener=s,n.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class Jb{constructor(n){this.t=n,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,s){le(this.o===void 0,42304);let r=this.i;const u=_=>this.i!==r?(r=this.i,s(_)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,n.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const _=h;n.enqueueRetryable((async()=>{await _.promise,await u(this.currentUser)}))},y=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}}),0),d()}getToken(){const n=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==n?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new M0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return le(n===null||typeof n=="string",2055,{h:n}),new Ke(n)}}class $b{constructor(n,s,r){this.P=n,this.T=s,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Wb{constructor(n,s,r){this.P=n,this.T=s,this.I=r}getToken(){return Promise.resolve(new $b(this.P,this.T,this.I))}start(n,s){n.enqueueRetryable((()=>s(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class py{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tT{constructor(n,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vb(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,s){le(this.o===void 0,3512);const r=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?s(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>r(h)))};const u=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new py(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((s=>s?(le(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new py(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(s);else for(let r=0;r<l;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=eT(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<s&&(r+=n.charAt(u[h]%62))}return r}}function Lt(l,n){return l<n?-1:l>n?1:0}function Nf(l,n){const s=Math.min(l.length,n.length);for(let r=0;r<s;r++){const u=l.charAt(r),h=n.charAt(r);if(u!==h)return mf(u)===mf(h)?Lt(u,h):mf(u)?1:-1}return Lt(l.length,n.length)}const nT=55296,iT=57343;function mf(l){const n=l.charCodeAt(0);return n>=nT&&n<=iT}function dr(l,n,s){return l.length===n.length&&l.every(((r,u)=>s(r,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="__name__";class fi{constructor(n,s,r){s===void 0?s=0:s>n.length&&Rt(637,{offset:s,range:n.length}),r===void 0?r=n.length-s:r>n.length-s&&Rt(1746,{length:r,range:n.length-s}),this.segments=n,this.offset=s,this.len=r}get length(){return this.len}isEqual(n){return fi.comparator(this,n)===0}child(n){const s=this.segments.slice(this.offset,this.limit());return n instanceof fi?n.forEach((r=>{s.push(r)})):s.push(n),this.construct(s)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}forEach(n){for(let s=this.offset,r=this.limit();s<r;s++)n(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,s){const r=Math.min(n.length,s.length);for(let u=0;u<r;u++){const h=fi.compareSegments(n.get(u),s.get(u));if(h!==0)return h}return Lt(n.length,s.length)}static compareSegments(n,s){const r=fi.isNumericId(n),u=fi.isNumericId(s);return r&&!u?-1:!r&&u?1:r&&u?fi.extractNumericId(n).compare(fi.extractNumericId(s)):Nf(n,s)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Ts.fromString(n.substring(4,n.length-2))}}class re extends fi{construct(n,s,r){return new re(n,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const s=[];for(const r of n){if(r.indexOf("//")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((u=>u.length>0)))}return new re(s)}static emptyPath(){return new re([])}}const sT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends fi{construct(n,s,r){return new We(n,s,r)}static isValidIdentifier(n){return sT.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yy}static keyField(){return new We([yy])}static fromServerFormat(n){const s=[];let r="",u=0;const h=()=>{if(r.length===0)throw new vt(st.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let d=!1;for(;u<n.length;){const y=n[u];if(y==="\\"){if(u+1===n.length)throw new vt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const _=n[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new vt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=_,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new vt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new We(s)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(n){this.path=n}static fromPath(n){return new Tt(re.fromString(n))}static fromName(n){return new Tt(re.fromString(n).popFirst(5))}static empty(){return new Tt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&re.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,s){return re.comparator(n.path,s.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Tt(new re(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(l,n,s){if(!s)throw new vt(st.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function rT(l,n,s,r){if(n===!0&&r===!0)throw new vt(st.INVALID_ARGUMENT,`${l} and ${s} cannot be used together.`)}function vy(l){if(!Tt.isDocumentKey(l))throw new vt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function lT(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function oT(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=(function(r){return r.constructor?r.constructor.name:null})(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":Rt(12329,{type:typeof l})}function Df(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new vt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=oT(l);throw new vt(st.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${s}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(l,n){const s={typeString:l};return n&&(s.value=n),s}function Yl(l,n){if(!lT(l))throw new vt(st.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in n)if(n[r]){const u=n[r].typeString,h="value"in n[r]?{value:n[r].value}:void 0;if(!(r in l)){s=`JSON missing required field: '${r}'`;break}const d=l[r];if(u&&typeof d!==u){s=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){s=`Expected '${r}' field to equal '${h.value}'`;break}}if(s)throw new vt(st.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-62135596800,Ey=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(n){return Re.fromMillis(n.getTime())}static fromMillis(n){const s=Math.floor(n/1e3),r=Math.floor((n-1e3*s)*Ey);return new Re(s,r)}constructor(n,s){if(this.seconds=n,this.nanoseconds=s,s<0)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(n<_y)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ey}_compareTo(n){return this.seconds===n.seconds?Lt(this.nanoseconds,n.nanoseconds):Lt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(Yl(n,Re._jsonSchema))return new Re(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-_y;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Ce("string",Re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(n){return new wt(n)}static min(){return new wt(new Re(0,0))}static max(){return new wt(new Re(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function uT(l,n){const s=l.toTimestamp().seconds,r=l.toTimestamp().nanoseconds+1,u=wt.fromTimestamp(r===1e9?new Re(s+1,0):new Re(s,r));return new xs(u,Tt.empty(),n)}function cT(l){return new xs(l.readTime,l.key,ql)}class xs{constructor(n,s,r){this.readTime=n,this.documentKey=s,this.largestBatchId=r}static min(){return new xs(wt.min(),Tt.empty(),ql)}static max(){return new xs(wt.max(),Tt.empty(),ql)}}function hT(l,n){let s=l.readTime.compareTo(n.readTime);return s!==0?s:(s=Tt.comparator(l.documentKey,n.documentKey),s!==0?s:Lt(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(l){if(l.code!==st.FAILED_PRECONDITION||l.message!==fT)throw l;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(n){return this.next(void 0,n)}next(n,s){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(n,this.result):new X(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(s,h).next(r,u)}}))}toPromise(){return new Promise(((n,s)=>{this.next(n,s)}))}wrapUserFunction(n){try{const s=n();return s instanceof X?s:X.resolve(s)}catch(s){return X.reject(s)}}wrapSuccess(n,s){return n?this.wrapUserFunction((()=>n(s))):X.resolve(s)}wrapFailure(n,s){return n?this.wrapUserFunction((()=>n(s))):X.reject(s)}static resolve(n){return new X(((s,r)=>{s(n)}))}static reject(n){return new X(((s,r)=>{r(n)}))}static waitFor(n){return new X(((s,r)=>{let u=0,h=0,d=!1;n.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&s()}),(_=>r(_)))})),d=!0,h===u&&s()}))}static or(n){let s=X.resolve(!1);for(const r of n)s=s.next((u=>u?X.resolve(u):r()));return s}static forEach(n,s){const r=[];return n.forEach(((u,h)=>{r.push(s.call(this,u,h))})),this.waitFor(r)}static mapArray(n,s){return new X(((r,u)=>{const h=n.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;s(n[v]).next((x=>{d[v]=x,++y,y===h&&r(d)}),(x=>u(x)))}}))}static doWhile(n,s){return new X(((r,u)=>{const h=()=>{n()===!0?s().next((()=>{h()}),u):r()};h()}))}}function mT(l){const n=l.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function br(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}Xu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=-1;function Zu(l){return l==null}function Of(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="";function pT(l){let n="";for(let s=0;s<l.length;s++)n.length>0&&(n=by(n)),n=yT(l.get(s),n);return by(n)}function yT(l,n){let s=n;const r=l.length;for(let u=0;u<r;u++){const h=l.charAt(u);switch(h){case"\0":s+="";break;case j0:s+="";break;default:s+=h}}return s}function by(l){return l+j0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(l){let n=0;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&n++;return n}function Fl(l,n){for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&n(s,l[s])}function vT(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(n,s){this.comparator=n,this.root=s||Ge.EMPTY}insert(n,s){return new pe(this.comparator,this.root.insert(n,s,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(n){return new pe(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(n){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(n,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(n){let s=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(n,r.key);if(u===0)return s+r.left.size;u<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((s,r)=>(n(s,r),!1)))}toString(){const n=[];return this.inorderTraversal(((s,r)=>(n.push(`${s}:${r}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Cu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Cu(this.root,n,this.comparator,!0)}}class Cu{constructor(n,s,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=s?r(n.key,s):1,s&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const s={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ge{constructor(n,s,r,u,h){this.key=n,this.value=s,this.color=r??Ge.RED,this.left=u??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,s,r,u,h){return new Ge(n??this.key,s??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let u=this;const h=r(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,s,r),null):h===0?u.copy(null,s,null,null,null):u.copy(null,null,null,null,u.right.insert(n,s,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,s){let r,u=this;if(s(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,s),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),s(n,u.key)===0){if(u.right.isEmpty())return Ge.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,s))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw Rt(27949);return n+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(n,s,r,u,h){return this}insert(n,s,r){return new Ge(n,s)}remove(n,s){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(n){this.comparator=n,this.data=new pe(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((s,r)=>(n(s),!1)))}forEachInRange(n,s){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,n[1])>=0)return;s(u.key)}}forEachWhile(n,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const s=this.data.getIteratorFrom(n);return s.hasNext()?s.getNext().key:null}getIterator(){return new Sy(this.data.getIterator())}getIteratorFrom(n){return new Sy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let s=this;return s.size<n.size&&(s=n,n=this),n.forEach((r=>{s=s.add(r)})),s}isEqual(n){if(!(n instanceof Ie)||this.size!==n.size)return!1;const s=this.data.getIterator(),r=n.data.getIterator();for(;s.hasNext();){const u=s.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((s=>{n.push(s)})),n}toString(){const n=[];return this.forEach((s=>n.push(s))),"SortedSet("+n.toString()+")"}copy(n){const s=new Ie(this.comparator);return s.data=n,s}}class Sy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(n){this.fields=n,n.sort(We.comparator)}static empty(){return new vs([])}unionWith(n){let s=new Ie(We.comparator);for(const r of this.fields)s=s.add(r);for(const r of n)s=s.add(r);return new vs(s.toArray())}covers(n){for(const s of this.fields)if(s.isPrefixOf(n))return!0;return!1}isEqual(n){return dr(this.fields,n.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(n){this.binaryString=n}static fromBase64String(n){const s=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new z0("Invalid base64 string: "+h):h}})(n);return new Qe(s)}static fromUint8Array(n){const s=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(n);return new Qe(s)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let u=0;u<s.length;u++)r[u]=s.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Lt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(l){if(le(!!l,39018),typeof l=="string"){let n=0;const s=_T.exec(l);if(le(!!s,46558,{timestamp:l}),s[1]){let u=s[1];u=(u+"000000000").substr(0,9),n=Number(u)}const r=new Date(l);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:ge(l.seconds),nanos:ge(l.nanos)}}function ge(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function Rs(l){return typeof l=="string"?Qe.fromBase64String(l):Qe.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="server_timestamp",L0="__type__",k0="__previous_value__",B0="__local_write_time__";function td(l){var s,r;return((r=(((s=l==null?void 0:l.mapValue)==null?void 0:s.fields)||{})[L0])==null?void 0:r.stringValue)===U0}function Ju(l){const n=l.mapValue.fields[k0];return td(n)?Ju(n):n}function Hl(l){const n=ws(l.mapValue.fields[B0].timestampValue);return new Re(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(n,s,r,u,h,d,y,_,v,x){this.databaseId=n,this.appId=s,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=x}}const qu="(default)";class Pl{constructor(n,s){this.projectId=n,this.database=s||qu}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===qu}isEqual(n){return n instanceof Pl&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",TT="__max__",Nu={mapValue:{}},ST="__vector__",Vf="value";function Cs(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?td(l)?4:xT(l)?9007199254740991:AT(l)?10:11:Rt(28295,{value:l})}function pi(l,n){if(l===n)return!0;const s=Cs(l);if(s!==Cs(n))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Hl(l).isEqual(Hl(n));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=ws(u.timestampValue),y=ws(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(l,n);case 5:return l.stringValue===n.stringValue;case 6:return(function(u,h){return Rs(u.bytesValue).isEqual(Rs(h.bytesValue))})(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return(function(u,h){return ge(u.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(u.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(l,n);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return ge(u.integerValue)===ge(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ge(u.doubleValue),y=ge(h.doubleValue);return d===y?Of(d)===Of(y):isNaN(d)&&isNaN(y)}return!1})(l,n);case 9:return dr(l.arrayValue.values||[],n.arrayValue.values||[],pi);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Ty(d)!==Ty(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!pi(d[_],y[_])))return!1;return!0})(l,n);default:return Rt(52216,{left:l})}}function Gl(l,n){return(l.values||[]).find((s=>pi(s,n)))!==void 0}function mr(l,n){if(l===n)return 0;const s=Cs(l),r=Cs(n);if(s!==r)return Lt(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Lt(l.booleanValue,n.booleanValue);case 2:return(function(h,d){const y=ge(h.integerValue||h.doubleValue),_=ge(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(l,n);case 3:return Ay(l.timestampValue,n.timestampValue);case 4:return Ay(Hl(l),Hl(n));case 5:return Nf(l.stringValue,n.stringValue);case 6:return(function(h,d){const y=Rs(h),_=Rs(d);return y.compareTo(_)})(l.bytesValue,n.bytesValue);case 7:return(function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const x=Lt(y[v],_[v]);if(x!==0)return x}return Lt(y.length,_.length)})(l.referenceValue,n.referenceValue);case 8:return(function(h,d){const y=Lt(ge(h.latitude),ge(d.latitude));return y!==0?y:Lt(ge(h.longitude),ge(d.longitude))})(l.geoPointValue,n.geoPointValue);case 9:return xy(l.arrayValue,n.arrayValue);case 10:return(function(h,d){var z,Y,tt,at;const y=h.fields||{},_=d.fields||{},v=(z=y[Vf])==null?void 0:z.arrayValue,x=(Y=_[Vf])==null?void 0:Y.arrayValue,C=Lt(((tt=v==null?void 0:v.values)==null?void 0:tt.length)||0,((at=x==null?void 0:x.values)==null?void 0:at.length)||0);return C!==0?C:xy(v,x)})(l.mapValue,n.mapValue);case 11:return(function(h,d){if(h===Nu.mapValue&&d===Nu.mapValue)return 0;if(h===Nu.mapValue)return 1;if(d===Nu.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},x=Object.keys(v);_.sort(),x.sort();for(let C=0;C<_.length&&C<x.length;++C){const z=Nf(_[C],x[C]);if(z!==0)return z;const Y=mr(y[_[C]],v[x[C]]);if(Y!==0)return Y}return Lt(_.length,x.length)})(l.mapValue,n.mapValue);default:throw Rt(23264,{he:s})}}function Ay(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return Lt(l,n);const s=ws(l),r=ws(n),u=Lt(s.seconds,r.seconds);return u!==0?u:Lt(s.nanos,r.nanos)}function xy(l,n){const s=l.values||[],r=n.values||[];for(let u=0;u<s.length&&u<r.length;++u){const h=mr(s[u],r[u]);if(h)return h}return Lt(s.length,r.length)}function gr(l){return If(l)}function If(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?(function(s){const r=ws(s);return`time(${r.seconds},${r.nanos})`})(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?(function(s){return Rs(s).toBase64()})(l.bytesValue):"referenceValue"in l?(function(s){return Tt.fromName(s).toString()})(l.referenceValue):"geoPointValue"in l?(function(s){return`geo(${s.latitude},${s.longitude})`})(l.geoPointValue):"arrayValue"in l?(function(s){let r="[",u=!0;for(const h of s.values||[])u?u=!1:r+=",",r+=If(h);return r+"]"})(l.arrayValue):"mapValue"in l?(function(s){const r=Object.keys(s.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${If(s.fields[d])}`;return u+"}"})(l.mapValue):Rt(61005,{value:l})}function Iu(l){switch(Cs(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Ju(l);return n?16+Iu(n):16;case 5:return 2*l.stringValue.length;case 6:return Rs(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+Iu(h)),0)})(l.arrayValue);case 10:case 11:return(function(r){let u=0;return Fl(r.fields,((h,d)=>{u+=h.length+Iu(d)})),u})(l.mapValue);default:throw Rt(13486,{value:l})}}function Mf(l){return!!l&&"integerValue"in l}function ed(l){return!!l&&"arrayValue"in l}function wy(l){return!!l&&"nullValue"in l}function Ry(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function gf(l){return!!l&&"mapValue"in l}function AT(l){var s,r;return((r=(((s=l==null?void 0:l.mapValue)==null?void 0:s.fields)||{})[bT])==null?void 0:r.stringValue)===ST}function Ml(l){if(l.geoPointValue)return{geoPointValue:{...l.geoPointValue}};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:{...l.timestampValue}};if(l.mapValue){const n={mapValue:{fields:{}}};return Fl(l.mapValue.fields,((s,r)=>n.mapValue.fields[s]=Ml(r))),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let s=0;s<(l.arrayValue.values||[]).length;++s)n.arrayValue.values[s]=Ml(l.arrayValue.values[s]);return n}return{...l}}function xT(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===TT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(n){this.value=n}static empty(){return new di({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let s=this.value;for(let r=0;r<n.length-1;++r)if(s=(s.mapValue.fields||{})[n.get(r)],!gf(s))return null;return s=(s.mapValue.fields||{})[n.lastSegment()],s||null}}set(n,s){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ml(s)}setAll(n){let s=We.emptyPath(),r={},u=[];n.forEach(((d,y)=>{if(!s.isImmediateParentOf(y)){const _=this.getFieldsMap(s);this.applyChanges(_,r,u),r={},u=[],s=y.popLast()}d?r[y.lastSegment()]=Ml(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(s);this.applyChanges(h,r,u)}delete(n){const s=this.field(n.popLast());gf(s)&&s.mapValue.fields&&delete s.mapValue.fields[n.lastSegment()]}isEqual(n){return pi(this.value,n.value)}getFieldsMap(n){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<n.length;++r){let u=s.mapValue.fields[n.get(r)];gf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},s.mapValue.fields[n.get(r)]=u),s=u}return s.mapValue.fields}applyChanges(n,s,r){Fl(s,((u,h)=>n[u]=h));for(const u of r)delete n[u]}clone(){return new di(Ml(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(n,s,r,u,h,d,y){this.key=n,this.documentType=s,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(n){return new Xe(n,0,wt.min(),wt.min(),wt.min(),di.empty(),0)}static newFoundDocument(n,s,r,u){return new Xe(n,1,s,wt.min(),r,u,0)}static newNoDocument(n,s){return new Xe(n,2,s,wt.min(),wt.min(),di.empty(),0)}static newUnknownDocument(n,s){return new Xe(n,3,s,wt.min(),wt.min(),di.empty(),2)}convertToFoundDocument(n,s){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Xe&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(n,s){this.position=n,this.inclusive=s}}function Cy(l,n,s){let r=0;for(let u=0;u<l.position.length;u++){const h=n[u],d=l.position[u];if(h.field.isKeyField()?r=Tt.comparator(Tt.fromName(d.referenceValue),s.key):r=mr(d,s.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ny(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let s=0;s<l.position.length;s++)if(!pi(l.position[s],n.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(n,s="asc"){this.field=n,this.dir=s}}function wT(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{}class Ve extends q0{constructor(n,s,r){super(),this.field=n,this.op=s,this.value=r}static create(n,s,r){return n.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(n,s,r):new CT(n,s,r):s==="array-contains"?new OT(n,r):s==="in"?new VT(n,r):s==="not-in"?new IT(n,r):s==="array-contains-any"?new MT(n,r):new Ve(n,s,r)}static createKeyFieldInFilter(n,s,r){return s==="in"?new NT(n,r):new DT(n,r)}matches(n){const s=n.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(mr(s,this.value)):s!==null&&Cs(this.value)===Cs(s)&&this.matchesComparison(mr(s,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends q0{constructor(n,s){super(),this.filters=n,this.op=s,this.Pe=null}static create(n,s){return new yi(n,s)}matches(n){return H0(this)?this.filters.find((s=>!s.matches(n)))===void 0:this.filters.find((s=>s.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,s)=>n.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H0(l){return l.op==="and"}function P0(l){return RT(l)&&H0(l)}function RT(l){for(const n of l.filters)if(n instanceof yi)return!1;return!0}function jf(l){if(l instanceof Ve)return l.field.canonicalString()+l.op.toString()+gr(l.value);if(P0(l))return l.filters.map((n=>jf(n))).join(",");{const n=l.filters.map((s=>jf(s))).join(",");return`${l.op}(${n})`}}function G0(l,n){return l instanceof Ve?(function(r,u){return u instanceof Ve&&r.op===u.op&&r.field.isEqual(u.field)&&pi(r.value,u.value)})(l,n):l instanceof yi?(function(r,u){return u instanceof yi&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&G0(d,u.filters[y])),!0):!1})(l,n):void Rt(19439)}function Q0(l){return l instanceof Ve?(function(s){return`${s.field.canonicalString()} ${s.op} ${gr(s.value)}`})(l):l instanceof yi?(function(s){return s.op.toString()+" {"+s.getFilters().map(Q0).join(" ,")+"}"})(l):"Filter"}class CT extends Ve{constructor(n,s,r){super(n,s,r),this.key=Tt.fromName(r.referenceValue)}matches(n){const s=Tt.comparator(n.key,this.key);return this.matchesComparison(s)}}class NT extends Ve{constructor(n,s){super(n,"in",s),this.keys=Y0("in",s)}matches(n){return this.keys.some((s=>s.isEqual(n.key)))}}class DT extends Ve{constructor(n,s){super(n,"not-in",s),this.keys=Y0("not-in",s)}matches(n){return!this.keys.some((s=>s.isEqual(n.key)))}}function Y0(l,n){var s;return(((s=n.arrayValue)==null?void 0:s.values)||[]).map((r=>Tt.fromName(r.referenceValue)))}class OT extends Ve{constructor(n,s){super(n,"array-contains",s)}matches(n){const s=n.data.field(this.field);return ed(s)&&Gl(s.arrayValue,this.value)}}class VT extends Ve{constructor(n,s){super(n,"in",s)}matches(n){const s=n.data.field(this.field);return s!==null&&Gl(this.value.arrayValue,s)}}class IT extends Ve{constructor(n,s){super(n,"not-in",s)}matches(n){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=n.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Gl(this.value.arrayValue,s)}}class MT extends Ve{constructor(n,s){super(n,"array-contains-any",s)}matches(n){const s=n.data.field(this.field);return!(!ed(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(n,s=null,r=[],u=[],h=null,d=null,y=null){this.path=n,this.collectionGroup=s,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Dy(l,n=null,s=[],r=[],u=null,h=null,d=null){return new jT(l,n,s,r,u,h,d)}function nd(l){const n=qt(l);if(n.Te===null){let s=n.path.canonicalString();n.collectionGroup!==null&&(s+="|cg:"+n.collectionGroup),s+="|f:",s+=n.filters.map((r=>jf(r))).join(","),s+="|ob:",s+=n.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Zu(n.limit)||(s+="|l:",s+=n.limit),n.startAt&&(s+="|lb:",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>gr(r))).join(",")),n.endAt&&(s+="|ub:",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>gr(r))).join(",")),n.Te=s}return n.Te}function id(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let s=0;s<l.orderBy.length;s++)if(!wT(l.orderBy[s],n.orderBy[s]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let s=0;s<l.filters.length;s++)if(!G0(l.filters[s],n.filters[s]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Ny(l.startAt,n.startAt)&&Ny(l.endAt,n.endAt)}function zf(l){return Tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(n,s=null,r=[],u=[],h=null,d="F",y=null,_=null){this.path=n,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zT(l,n,s,r,u,h,d,y){return new $u(l,n,s,r,u,h,d,y)}function sd(l){return new $u(l)}function Oy(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function UT(l){return l.collectionGroup!==null}function jl(l){const n=qt(l);if(n.Ie===null){n.Ie=[];const s=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),s.add(h.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(n).forEach((h=>{s.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new Pu(h,r))})),s.has(We.keyField().canonicalString())||n.Ie.push(new Pu(We.keyField(),r))}return n.Ie}function gi(l){const n=qt(l);return n.Ee||(n.Ee=LT(n,jl(l))),n.Ee}function LT(l,n){if(l.limitType==="F")return Dy(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Pu(u.field,h)}));const s=l.endAt?new Hu(l.endAt.position,l.endAt.inclusive):null,r=l.startAt?new Hu(l.startAt.position,l.startAt.inclusive):null;return Dy(l.path,l.collectionGroup,n,l.filters,l.limit,s,r)}}function Uf(l,n,s){return new $u(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,s,l.startAt,l.endAt)}function Wu(l,n){return id(gi(l),gi(n))&&l.limitType===n.limitType}function F0(l){return`${nd(gi(l))}|lt:${l.limitType}`}function rr(l){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((u=>Q0(u))).join(", ")}]`),Zu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((u=>gr(u))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((u=>gr(u))).join(",")),`Target(${r})`})(gi(l))}; limitType=${l.limitType})`}function tc(l,n){return n.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Tt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(l,n)&&(function(r,u){for(const h of jl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(l,n)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(l,n)&&(function(r,u){return!(r.startAt&&!(function(d,y,_){const v=Cy(d,y,_);return d.inclusive?v<=0:v<0})(r.startAt,jl(r),u)||r.endAt&&!(function(d,y,_){const v=Cy(d,y,_);return d.inclusive?v>=0:v>0})(r.endAt,jl(r),u))})(l,n)}function kT(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function K0(l){return(n,s)=>{let r=!1;for(const u of jl(l)){const h=BT(u,n,s);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function BT(l,n,s){const r=l.field.isKeyField()?Tt.comparator(n.key,s.key):(function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?mr(_,v):Rt(42886)})(l.field,n,s);switch(l.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(n,s){this.mapKeyFn=n,this.equalsFn=s,this.inner={},this.innerSize=0}get(n){const s=this.mapKeyFn(n),r=this.inner[s];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,s){const r=this.mapKeyFn(n),u=this.inner[r];if(u===void 0)return this.inner[r]=[[n,s]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,s]);u.push([n,s]),this.innerSize++}delete(n){const s=this.mapKeyFn(n),r=this.inner[s];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],n))return r.length===1?delete this.inner[s]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Fl(this.inner,((s,r)=>{for(const[u,h]of r)n(u,h)}))}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new pe(Tt.comparator);function Ns(){return qT}const X0=new pe(Tt.comparator);function Dl(...l){let n=X0;for(const s of l)n=n.insert(s.key,s);return n}function HT(l){let n=X0;return l.forEach(((s,r)=>n=n.insert(s,r.overlayedDocument))),n}function ua(){return zl()}function Z0(){return zl()}function zl(){return new ma((l=>l.toString()),((l,n)=>l.isEqual(n)))}const PT=new Ie(Tt.comparator);function Ht(...l){let n=PT;for(const s of l)n=n.add(s);return n}const GT=new Ie(Lt);function QT(){return GT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(n)?"-0":n}}function FT(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function KT(l,n,s){return l instanceof Lf?(function(u,h){const d={fields:{[L0]:{stringValue:U0},[B0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=Ju(h)),h&&(d.fields[k0]=h),{mapValue:d}})(s,n):l instanceof Gu?J0(l,n):l instanceof Qu?$0(l,n):(function(u,h){const d=ZT(u,h),y=Vy(d)+Vy(u.Ae);return Mf(d)&&Mf(u.Ae)?FT(y):YT(u.serializer,y)})(l,n)}function XT(l,n,s){return l instanceof Gu?J0(l,n):l instanceof Qu?$0(l,n):s}function ZT(l,n){return l instanceof kf?(function(r){return Mf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(n)?n:{integerValue:0}:null}class Lf extends ec{}class Gu extends ec{constructor(n){super(),this.elements=n}}function J0(l,n){const s=W0(n);for(const r of l.elements)s.some((u=>pi(u,r)))||s.push(r);return{arrayValue:{values:s}}}class Qu extends ec{constructor(n){super(),this.elements=n}}function $0(l,n){let s=W0(n);for(const r of l.elements)s=s.filter((u=>!pi(u,r)));return{arrayValue:{values:s}}}class kf extends ec{constructor(n,s){super(),this.serializer=n,this.Ae=s}}function Vy(l){return ge(l.integerValue||l.doubleValue)}function W0(l){return ed(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function JT(l,n){return l.field.isEqual(n.field)&&(function(r,u){return r instanceof Gu&&u instanceof Gu||r instanceof Qu&&u instanceof Qu?dr(r.elements,u.elements,pi):r instanceof kf&&u instanceof kf?pi(r.Ae,u.Ae):r instanceof Lf&&u instanceof Lf})(l.transform,n.transform)}class ha{constructor(n,s){this.updateTime=n,this.exists=s}static none(){return new ha}static exists(n){return new ha(void 0,n)}static updateTime(n){return new ha(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Mu(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class ad{}function tv(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new WT(l.key,ha.none()):new rd(l.key,l.data,ha.none());{const s=l.data,r=di.empty();let u=new Ie(We.comparator);for(let h of n.fields)if(!u.has(h)){let d=s.field(h);d===null&&h.length>1&&(h=h.popLast(),d=s.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new nc(l.key,r,new vs(u.toArray()),ha.none())}}function $T(l,n,s){l instanceof rd?(function(u,h,d){const y=u.value.clone(),_=My(u.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(l,n,s):l instanceof nc?(function(u,h,d){if(!Mu(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=My(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(ev(u)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(l,n,s):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,s)}function Ul(l,n,s,r){return l instanceof rd?(function(h,d,y,_){if(!Mu(h.precondition,d))return y;const v=h.value.clone(),x=jy(h.fieldTransforms,_,d);return v.setAll(x),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(l,n,s,r):l instanceof nc?(function(h,d,y,_){if(!Mu(h.precondition,d))return y;const v=jy(h.fieldTransforms,_,d),x=d.data;return x.setAll(ev(h)),x.setAll(v),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(l,n,s,r):(function(h,d,y){return Mu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(l,n,s)}function Iy(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&dr(r,u,((h,d)=>JT(h,d)))})(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class rd extends ad{constructor(n,s,r,u=[]){super(),this.key=n,this.value=s,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class nc extends ad{constructor(n,s,r,u,h=[]){super(),this.key=n,this.data=s,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ev(l){const n=new Map;return l.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=l.data.field(s);n.set(s,r)}})),n}function My(l,n,s){const r=new Map;le(l.length===s.length,32656,{Re:s.length,Ve:l.length});for(let u=0;u<s.length;u++){const h=l[u],d=h.transform,y=n.data.field(h.field);r.set(h.field,XT(d,y,s[u]))}return r}function jy(l,n,s){const r=new Map;for(const u of l){const h=u.transform,d=s.data.field(u.field);r.set(u.field,KT(h,d,n))}return r}class WT extends ad{constructor(n,s){super(),this.key=n,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(n,s,r,u){this.batchId=n,this.localWriteTime=s,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(n,s){const r=s.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&$T(h,n,r[u])}}applyToLocalView(n,s){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(s=Ul(r,n,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(s=Ul(r,n,s,this.localWriteTime));return s}applyToLocalDocumentSet(n,s){const r=Z0();return this.mutations.forEach((u=>{const h=n.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=s.has(u.key)?null:y;const _=tv(d,y);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((n,s)=>n.add(s.key)),Ht())}isEqual(n){return this.batchId===n.batchId&&dr(this.mutations,n.mutations,((s,r)=>Iy(s,r)))&&dr(this.baseMutations,n.baseMutations,((s,r)=>Iy(s,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(n,s){this.largestBatchId=n,this.mutation=s}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(n,s){this.count=n,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,kt;function nv(l){if(l===void 0)return Li("GRPC error has no .code"),st.UNKNOWN;switch(l){case we.OK:return st.OK;case we.CANCELLED:return st.CANCELLED;case we.UNKNOWN:return st.UNKNOWN;case we.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case we.INTERNAL:return st.INTERNAL;case we.UNAVAILABLE:return st.UNAVAILABLE;case we.UNAUTHENTICATED:return st.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case we.NOT_FOUND:return st.NOT_FOUND;case we.ALREADY_EXISTS:return st.ALREADY_EXISTS;case we.PERMISSION_DENIED:return st.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case we.ABORTED:return st.ABORTED;case we.OUT_OF_RANGE:return st.OUT_OF_RANGE;case we.UNIMPLEMENTED:return st.UNIMPLEMENTED;case we.DATA_LOSS:return st.DATA_LOSS;default:return Rt(39323,{code:l})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Ts([4294967295,4294967295],0);function zy(l){const n=i2().encode(l),s=new R0;return s.update(n),new Uint8Array(s.digest())}function Uy(l){const n=new DataView(l.buffer),s=n.getUint32(0,!0),r=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new Ts([s,r],0),new Ts([u,h],0)]}class ld{constructor(n,s,r){if(this.bitmap=n,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Ol(`Invalid padding: ${s}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(n.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(n.length===0&&s!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*n.length-s,this.pe=Ts.fromNumber(this.ge)}ye(n,s,r){let u=n.add(s.multiply(Ts.fromNumber(r)));return u.compare(s2)===1&&(u=new Ts([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.ge===0)return!1;const s=zy(n),[r,u]=Uy(s);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(n,s,r){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),d=new ld(h,u,s);return r.forEach((y=>d.insert(y))),d}insert(n){if(this.ge===0)return;const s=zy(n),[r,u]=Uy(s);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(n){const s=Math.floor(n/8),r=n%8;this.bitmap[s]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(n,s,r,u,h){this.snapshotVersion=n,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,s,r){const u=new Map;return u.set(n,Kl.createSynthesizedTargetChangeForCurrentChange(n,s,r)),new ic(wt.min(),u,new pe(Lt),Ns(),Ht())}}class Kl{constructor(n,s,r,u,h){this.resumeToken=n,this.current=s,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,s,r){return new Kl(r,s,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(n,s,r,u){this.be=n,this.removedTargetIds=s,this.key=r,this.De=u}}class iv{constructor(n,s){this.targetId=n,this.Ce=s}}class sv{constructor(n,s,r=Qe.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=s,this.resumeToken=r,this.cause=u}}class Ly{constructor(){this.ve=0,this.Fe=ky(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=Ht(),s=Ht(),r=Ht();return this.Fe.forEach(((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:s=s.add(u);break;case 1:r=r.add(u);break;default:Rt(38017,{changeType:h})}})),new Kl(this.Me,this.xe,n,s,r)}qe(){this.Oe=!1,this.Fe=ky()}Qe(n,s){this.Oe=!0,this.Fe=this.Fe.insert(n,s)}$e(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a2{constructor(n){this.Ge=n,this.ze=new Map,this.je=Ns(),this.Je=Du(),this.He=Du(),this.Ye=new pe(Lt)}Ze(n){for(const s of n.be)n.De&&n.De.isFoundDocument()?this.Xe(s,n.De):this.et(s,n.key,n.De);for(const s of n.removedTargetIds)this.et(s,n.key,n.De)}tt(n){this.forEachTarget(n,(s=>{const r=this.nt(s);switch(n.state){case 0:this.rt(s)&&r.Le(n.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(n.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(n.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(n.resumeToken));break;default:Rt(56790,{state:n.state})}}))}forEachTarget(n,s){n.targetIds.length>0?n.targetIds.forEach(s):this.ze.forEach(((r,u)=>{this.rt(u)&&s(u)}))}st(n){const s=n.targetId,r=n.Ce.count,u=this.ot(s);if(u){const h=u.target;if(zf(h))if(r===0){const d=new Tt(h.path);this.et(s,d,Xe.newNoDocument(d,wt.min()))}else le(r===1,20013,{expectedCount:r});else{const d=this._t(s);if(d!==r){const y=this.ut(n),_=y?this.ct(y,n,d):1;if(_!==0){this.it(s);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,v)}}}}}ut(n){const s=n.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=s;let d,y;try{d=Rs(r).toUint8Array()}catch(_){if(_ instanceof z0)return fr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new ld(d,u,h)}catch(_){return fr(_ instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(n,s,r){return s.Ce.count===r-this.Pt(n,s.targetId)?0:2}Pt(n,s){const r=this.Ge.getRemoteKeysForTarget(s);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;n.mightContain(y)||(this.et(s,h,null),u++)})),u}Tt(n){const s=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&zf(y.target)){const _=new Tt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,n))}h.Be&&(s.set(d,h.ke()),h.qe())}}));let r=Ht();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(n)));const u=new ic(n,s,this.Ye,this.je,r);return this.je=Ns(),this.Je=Du(),this.He=Du(),this.Ye=new pe(Lt),u}Xe(n,s){if(!this.rt(n))return;const r=this.Et(n,s.key)?2:0;this.nt(n).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(n)),this.He=this.He.insert(s.key,this.dt(s.key).add(n))}et(n,s,r){if(!this.rt(n))return;const u=this.nt(n);this.Et(n,s)?u.Qe(s,1):u.$e(s),this.He=this.He.insert(s,this.dt(s).delete(n)),this.He=this.He.insert(s,this.dt(s).add(n)),r&&(this.je=this.je.insert(s,r))}removeTarget(n){this.ze.delete(n)}_t(n){const s=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+s.addedDocuments.size-s.removedDocuments.size}Ue(n){this.nt(n).Ue()}nt(n){let s=this.ze.get(n);return s||(s=new Ly,this.ze.set(n,s)),s}dt(n){let s=this.He.get(n);return s||(s=new Ie(Lt),this.He=this.He.insert(n,s)),s}It(n){let s=this.Je.get(n);return s||(s=new Ie(Lt),this.Je=this.Je.insert(n,s)),s}rt(n){const s=this.ot(n)!==null;return s||ct("WatchChangeAggregator","Detected inactive target",n),s}ot(n){const s=this.ze.get(n);return s&&s.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new Ly),this.Ge.getRemoteKeysForTarget(n).forEach((s=>{this.et(n,s,null)}))}Et(n,s){return this.Ge.getRemoteKeysForTarget(n).has(s)}}function Du(){return new pe(Tt.comparator)}function ky(){return new pe(Tt.comparator)}const r2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o2={and:"AND",or:"OR"};class u2{constructor(n,s){this.databaseId=n,this.useProto3Json=s}}function Bf(l,n){return l.useProto3Json||Zu(n)?n:{value:n}}function c2(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function h2(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function cr(l){return le(!!l,49232),wt.fromTimestamp((function(s){const r=ws(s);return new Re(r.seconds,r.nanos)})(l))}function f2(l,n){return qf(l,n).canonicalString()}function qf(l,n){const s=(function(u){return new re(["projects",u.projectId,"databases",u.database])})(l).child("documents");return n===void 0?s:s.child(n)}function av(l){const n=re.fromString(l);return le(cv(n),10190,{key:n.toString()}),n}function pf(l,n){const s=av(n);if(s.get(1)!==l.databaseId.projectId)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+l.databaseId.projectId);if(s.get(3)!==l.databaseId.database)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+l.databaseId.database);return new Tt(lv(s))}function rv(l,n){return f2(l.databaseId,n)}function d2(l){const n=av(l);return n.length===4?re.emptyPath():lv(n)}function By(l){return new re(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function lv(l){return le(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function m2(l,n){let s;if("targetChange"in n){n.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Rt(39313,{state:v})})(n.targetChange.targetChangeType||"NO_CHANGE"),u=n.targetChange.targetIds||[],h=(function(v,x){return v.useProto3Json?(le(x===void 0||typeof x=="string",58123),Qe.fromBase64String(x||"")):(le(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Qe.fromUint8Array(x||new Uint8Array))})(l,n.targetChange.resumeToken),d=n.targetChange.cause,y=d&&(function(v){const x=v.code===void 0?st.UNKNOWN:nv(v.code);return new vt(x,v.message||"")})(d);s=new sv(r,u,h,y||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const u=pf(l,r.document.name),h=cr(r.document.updateTime),d=r.document.createTime?cr(r.document.createTime):wt.min(),y=new di({mapValue:{fields:r.document.fields}}),_=Xe.newFoundDocument(u,h,d,y),v=r.targetIds||[],x=r.removedTargetIds||[];s=new ju(v,x,_.key,_)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const u=pf(l,r.document),h=r.readTime?cr(r.readTime):wt.min(),d=Xe.newNoDocument(u,h),y=r.removedTargetIds||[];s=new ju([],y,d.key,d)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const u=pf(l,r.document),h=r.removedTargetIds||[];s=new ju([],h,u,null)}else{if(!("filter"in n))return Rt(11601,{Rt:n});{n.filter;const r=n.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new n2(u,h),y=r.targetId;s=new iv(y,d)}}return s}function g2(l,n){return{documents:[rv(l,n.path)]}}function p2(l,n){const s={structuredQuery:{}},r=n.path;let u;n.collectionGroup!==null?(u=r,s.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=rv(l,u);const h=(function(v){if(v.length!==0)return uv(yi.create(v,"and"))})(n.filters);h&&(s.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((x=>(function(z){return{field:lr(z.field),direction:_2(z.dir)}})(x)))})(n.orderBy);d&&(s.structuredQuery.orderBy=d);const y=Bf(l,n.limit);return y!==null&&(s.structuredQuery.limit=y),n.startAt&&(s.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(n.startAt)),n.endAt&&(s.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(n.endAt)),{ft:s,parent:u}}function y2(l){let n=d2(l.parent);const s=l.structuredQuery,r=s.from?s.from.length:0;let u=null;if(r>0){le(r===1,65062);const x=s.from[0];x.allDescendants?u=x.collectionId:n=n.child(x.collectionId)}let h=[];s.where&&(h=(function(C){const z=ov(C);return z instanceof yi&&P0(z)?z.getFilters():[z]})(s.where));let d=[];s.orderBy&&(d=(function(C){return C.map((z=>(function(tt){return new Pu(or(tt.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(z)))})(s.orderBy));let y=null;s.limit&&(y=(function(C){let z;return z=typeof C=="object"?C.value:C,Zu(z)?null:z})(s.limit));let _=null;s.startAt&&(_=(function(C){const z=!!C.before,Y=C.values||[];return new Hu(Y,z)})(s.startAt));let v=null;return s.endAt&&(v=(function(C){const z=!C.before,Y=C.values||[];return new Hu(Y,z)})(s.endAt)),zT(n,u,d,h,y,"F",_,v)}function v2(l,n){const s=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:u})}})(n.purpose);return s==null?null:{"goog-listen-tags":s}}function ov(l){return l.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=or(s.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=or(s.unaryFilter.field);return Ve.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=or(s.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=or(s.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(l):l.fieldFilter!==void 0?(function(s){return Ve.create(or(s.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(l):l.compositeFilter!==void 0?(function(s){return yi.create(s.compositeFilter.filters.map((r=>ov(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(s.compositeFilter.op))})(l):Rt(30097,{filter:l})}function _2(l){return r2[l]}function E2(l){return l2[l]}function b2(l){return o2[l]}function lr(l){return{fieldPath:l.canonicalString()}}function or(l){return We.fromServerFormat(l.fieldPath)}function uv(l){return l instanceof Ve?(function(s){if(s.op==="=="){if(Ry(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NAN"}};if(wy(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Ry(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NOT_NAN"}};if(wy(s.value))return{unaryFilter:{field:lr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(s.field),op:E2(s.op),value:s.value}}})(l):l instanceof yi?(function(s){const r=s.getFilters().map((u=>uv(u)));return r.length===1?r[0]:{compositeFilter:{op:b2(s.op),filters:r}}})(l):Rt(54877,{filter:l})}function cv(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(n,s,r,u,h=wt.min(),d=wt.min(),y=Qe.EMPTY_BYTE_STRING,_=null){this.target=n,this.targetId=s,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(n){return new _s(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,s){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(n){this.yt=n}}function S2(l){const n=y2({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Uf(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.Cn=new x2}addToCollectionParentIndex(n,s){return this.Cn.add(s),X.resolve()}getCollectionParents(n,s){return X.resolve(this.Cn.getEntries(s))}addFieldIndex(n,s){return X.resolve()}deleteFieldIndex(n,s){return X.resolve()}deleteAllFieldIndexes(n){return X.resolve()}createTargetIndexes(n,s){return X.resolve()}getDocumentsMatchingTarget(n,s){return X.resolve(null)}getIndexType(n,s){return X.resolve(0)}getFieldIndexes(n,s){return X.resolve([])}getNextCollectionGroupToUpdate(n){return X.resolve(null)}getMinOffset(n,s){return X.resolve(xs.min())}getMinOffsetFromCollectionGroup(n,s){return X.resolve(xs.min())}updateCollectionGroup(n,s,r){return X.resolve()}updateIndexEntries(n,s){return X.resolve()}}class x2{constructor(){this.index={}}add(n){const s=n.lastSegment(),r=n.popLast(),u=this.index[s]||new Ie(re.comparator),h=!u.has(r);return this.index[s]=u.add(r),h}has(n){const s=n.lastSegment(),r=n.popLast(),u=this.index[s];return u&&u.has(r)}getEntries(n){return(this.index[n]||new Ie(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hv=41943040;class un{static withCacheSize(n){return new un(n,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,s,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(hv,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new pr(0)}static cr(){return new pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LruGarbageCollector",w2=1048576;function Py([l,n],[s,r]){const u=Lt(l,s);return u===0?Lt(n,r):u}class R2{constructor(n){this.Ir=n,this.buffer=new Ie(Py),this.Er=0}dr(){return++this.Er}Ar(n){const s=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();Py(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(n,s,r){this.garbageCollector=n,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){ct(Hy,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){br(s)?ct(Hy,"Ignoring IndexedDB error during garbage collection: ",s):await Ku(s)}await this.Vr(3e5)}))}}class N2{constructor(n,s){this.mr=n,this.params=s}calculateTargetCount(n,s){return this.mr.gr(n).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(n,s){if(s===0)return X.resolve(Xu.ce);const r=new R2(s);return this.mr.forEachTarget(n,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(n,s,r){return this.mr.removeTargets(n,s,r)}removeOrphanedDocuments(n,s){return this.mr.removeOrphanedDocuments(n,s)}collect(n,s){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(qy)):this.getCacheSize(n).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.yr(n,s)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,s){let r,u,h,d,y,_,v;const x=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(n,u)))).next((C=>(r=C,y=Date.now(),this.removeTargets(n,r,s)))).next((C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(n,r)))).next((C=>(v=Date.now(),ar()<=Bt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-x}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C}))))}}function D2(l,n){return new N2(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.changes=new ma((n=>n.toString()),((n,s)=>n.isEqual(s))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,s){this.assertNotApplied(),this.changes.set(n,Xe.newInvalidDocument(n).setReadTime(s))}getEntry(n,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?X.resolve(r):this.getFromCache(n,s)}getEntries(n,s){return this.getAllFromCache(n,s)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(n,s){this.overlayedDocument=n,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(n,s,r,u){this.remoteDocumentCache=n,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=u}getDocument(n,s){let r=null;return this.documentOverlayCache.getOverlay(n,s).next((u=>(r=u,this.remoteDocumentCache.getEntry(n,s)))).next((u=>(r!==null&&Ul(r.mutation,u,vs.empty(),Re.now()),u)))}getDocuments(n,s){return this.remoteDocumentCache.getEntries(n,s).next((r=>this.getLocalViewOfDocuments(n,r,Ht()).next((()=>r))))}getLocalViewOfDocuments(n,s,r=Ht()){const u=ua();return this.populateOverlays(n,u,s).next((()=>this.computeViews(n,s,u,r).next((h=>{let d=Dl();return h.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(n,s){const r=ua();return this.populateOverlays(n,r,s).next((()=>this.computeViews(n,s,r,Ht())))}populateOverlays(n,s,r){const u=[];return r.forEach((h=>{s.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(n,u).next((h=>{h.forEach(((d,y)=>{s.set(d,y)}))}))}computeViews(n,s,r,u){let h=Ns();const d=zl(),y=(function(){return zl()})();return s.forEach(((_,v)=>{const x=r.get(v.key);u.has(v.key)&&(x===void 0||x.mutation instanceof nc)?h=h.insert(v.key,v):x!==void 0?(d.set(v.key,x.mutation.getFieldMask()),Ul(x.mutation,v,x.mutation.getFieldMask(),Re.now())):d.set(v.key,vs.empty())})),this.recalculateAndSaveOverlays(n,h).next((_=>(_.forEach(((v,x)=>d.set(v,x))),s.forEach(((v,x)=>y.set(v,new V2(x,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(n,s){const r=zl();let u=new pe(((d,y)=>d-y)),h=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,s).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=s.get(_);if(v===null)return;let x=r.get(_)||vs.empty();x=y.applyToLocalView(v,x),r.set(_,x);const C=(u.get(y.batchId)||Ht()).add(_);u=u.insert(y.batchId,C)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,x=_.value,C=Z0();x.forEach((z=>{if(!h.has(z)){const Y=tv(s.get(z),r.get(z));Y!==null&&C.set(z,Y),h=h.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(n,v,C))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(n,s){return this.remoteDocumentCache.getEntries(n,s).next((r=>this.recalculateAndSaveOverlays(n,r)))}getDocumentsMatchingQuery(n,s,r,u){return(function(d){return Tt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(n,s.path):UT(s)?this.getDocumentsMatchingCollectionGroupQuery(n,s,r,u):this.getDocumentsMatchingCollectionQuery(n,s,r,u)}getNextDocuments(n,s,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,s,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,s,r.largestBatchId,u-h.size):X.resolve(ua());let y=ql,_=h;return d.next((v=>X.forEach(v,((x,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(x)?X.resolve():this.remoteDocumentCache.getEntry(n,x).next((z=>{_=_.insert(x,z)}))))).next((()=>this.populateOverlays(n,v,h))).next((()=>this.computeViews(n,_,v,Ht()))).next((x=>({batchId:y,changes:HT(x)})))))}))}getDocumentsMatchingDocumentQuery(n,s){return this.getDocument(n,new Tt(s)).next((r=>{let u=Dl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(n,s,r,u){const h=s.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(n,h).next((y=>X.forEach(y,(_=>{const v=(function(C,z){return new $u(z,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(s,_.child(h));return this.getDocumentsMatchingCollectionQuery(n,v,r,u).next((x=>{x.forEach(((C,z)=>{d=d.insert(C,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,s,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,s.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,s,r,h,u)))).next((d=>{h.forEach(((_,v)=>{const x=v.getKey();d.get(x)===null&&(d=d.insert(x,Xe.newInvalidDocument(x)))}));let y=Dl();return d.forEach(((_,v)=>{const x=h.get(_);x!==void 0&&Ul(x.mutation,v,vs.empty(),Re.now()),tc(s,v)&&(y=y.insert(_,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,s){return X.resolve(this.Lr.get(s))}saveBundleMetadata(n,s){return this.Lr.set(s.id,(function(u){return{id:u.id,version:u.version,createTime:cr(u.createTime)}})(s)),X.resolve()}getNamedQuery(n,s){return X.resolve(this.kr.get(s))}saveNamedQuery(n,s){return this.kr.set(s.name,(function(u){return{name:u.name,query:S2(u.bundledQuery),readTime:cr(u.readTime)}})(s)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.overlays=new pe(Tt.comparator),this.qr=new Map}getOverlay(n,s){return X.resolve(this.overlays.get(s))}getOverlays(n,s){const r=ua();return X.forEach(s,(u=>this.getOverlay(n,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(n,s,r){return r.forEach(((u,h)=>{this.St(n,s,h)})),X.resolve()}removeOverlaysForBatchId(n,s,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(n,s,r){const u=ua(),h=s.length+1,d=new Tt(s.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return X.resolve(u)}getOverlaysForCollectionGroup(n,s,r,u){let h=new pe(((v,x)=>v-x));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>r){let x=h.get(v.largestBatchId);x===null&&(x=ua(),h=h.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const y=ua(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,x)=>y.set(v,x))),!(y.size()>=u)););return X.resolve(y)}St(n,s,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new e2(s,r));let h=this.qr.get(s);h===void 0&&(h=Ht(),this.qr.set(s,h)),this.qr.set(s,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(n){return X.resolve(this.sessionToken)}setSessionToken(n,s){return this.sessionToken=s,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.Qr=new Ie(Ue.$r),this.Ur=new Ie(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,s){const r=new Ue(n,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(n,s){n.forEach((r=>this.addReference(r,s)))}removeReference(n,s){this.Gr(new Ue(n,s))}zr(n,s){n.forEach((r=>this.removeReference(r,s)))}jr(n){const s=new Tt(new re([])),r=new Ue(s,n),u=new Ue(s,n+1),h=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const s=new Tt(new re([])),r=new Ue(s,n),u=new Ue(s,n+1);let h=Ht();return this.Ur.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(n){const s=new Ue(n,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&n.isEqual(r.key)}}class Ue{constructor(n,s){this.key=n,this.Yr=s}static $r(n,s){return Tt.comparator(n.key,s.key)||Lt(n.Yr,s.Yr)}static Kr(n,s){return Lt(n.Yr,s.Yr)||Tt.comparator(n.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(n,s){this.indexManager=n,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ue.$r)}checkEmpty(n){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(n,s,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new t2(h,s,r,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(n,s){return X.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(n,s){const r=s+1,u=this.ei(r),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?gT:this.tr-1)}getAllMutationBatches(n){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,s){const r=new Ue(s,0),u=new Ue(s,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,s){let r=new Ie(Lt);return s.forEach((u=>{const h=new Ue(u,0),d=new Ue(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(n,s){const r=s.path,u=r.length+1;let h=r;Tt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new Tt(h),0);let y=new Ie(Lt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===u&&(y=y.add(_.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(n){const s=[];return n.forEach((r=>{const u=this.Xr(r);u!==null&&s.push(u)})),s}removeMutationBatch(n,s){le(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(s.mutations,(u=>{const h=new Ue(u.key,s.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=r}))}ir(n){}containsKey(n,s){const r=new Ue(s,0),u=this.Zr.firstAfterOrEqual(r);return X.resolve(s.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,X.resolve()}ni(n,s){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const s=this.ei(n);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(n){this.ri=n,this.docs=(function(){return new pe(Tt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,s){const r=s.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const s=this.docs.get(n);s&&(this.docs=this.docs.remove(n),this.size-=s.size)}getEntry(n,s){const r=this.docs.get(s);return X.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(s))}getEntries(n,s){let r=Ns();return s.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),X.resolve(r)}getDocumentsMatchingQuery(n,s,r,u){let h=Ns();const d=s.path,y=new Tt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:x}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||hT(cT(x),r)<=0||(u.has(x.key)||tc(s,x))&&(h=h.insert(x.key,x.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(n,s,r,u){Rt(9500)}ii(n,s){return X.forEach(this.docs,(r=>s(r)))}newChangeBuffer(n){return new k2(this)}getSize(n){return X.resolve(this.size)}}class k2 extends O2{constructor(n){super(),this.Nr=n}applyChanges(n){const s=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?s.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(r)})),X.waitFor(s)}getFromCache(n,s){return this.Nr.getEntry(n,s)}getAllFromCache(n,s){return this.Nr.getEntries(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(n){this.persistence=n,this.si=new ma((s=>nd(s)),id),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new od,this.targetCount=0,this.ai=pr.ur()}forEachTarget(n,s){return this.si.forEach(((r,u)=>s(u))),X.resolve()}getLastRemoteSnapshotVersion(n){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return X.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(n,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),X.resolve()}Pr(n){this.si.set(n.target,n);const s=n.targetId;s>this.highestTargetId&&(this.ai=new pr(s),this.highestTargetId=s),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,s){return this.Pr(s),this.targetCount+=1,X.resolve()}updateTargetData(n,s){return this.Pr(s),X.resolve()}removeTargetData(n,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,X.resolve()}removeTargets(n,s,r){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=s&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(n){return X.resolve(this.targetCount)}getTargetData(n,s){const r=this.si.get(s)||null;return X.resolve(r)}addMatchingKeys(n,s,r){return this._i.Wr(s,r),X.resolve()}removeMatchingKeys(n,s,r){this._i.zr(s,r);const u=this.persistence.referenceDelegate,h=[];return u&&s.forEach((d=>{h.push(u.markPotentiallyOrphaned(n,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(n,s){return this._i.jr(s),X.resolve()}getMatchingKeysForTargetId(n,s){const r=this._i.Hr(s);return X.resolve(r)}containsKey(n,s){return X.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(n,s){this.ui={},this.overlays={},this.ci=new Xu(0),this.li=!1,this.li=!0,this.hi=new z2,this.referenceDelegate=n(this),this.Pi=new B2(this),this.indexManager=new A2,this.remoteDocumentCache=(function(u){return new L2(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T2(s),this.Ii=new M2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let s=this.overlays[n.toKey()];return s||(s=new j2,this.overlays[n.toKey()]=s),s}getMutationQueue(n,s){let r=this.ui[n.toKey()];return r||(r=new U2(s,this.referenceDelegate),this.ui[n.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,s,r){ct("MemoryPersistence","Starting transaction:",n);const u=new q2(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(n,s){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(n,s))))}}class q2 extends dT{constructor(n){super(),this.currentSequenceNumber=n}}class ud{constructor(n){this.persistence=n,this.Ri=new od,this.Vi=null}static mi(n){return new ud(n)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(n,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),X.resolve()}removeReference(n,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(n,s){return this.fi.add(s.toString()),X.resolve()}removeTarget(n,s){this.Ri.jr(s.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,s.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(n,s)))}Ei(){this.Vi=new Set}di(n){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const u=Tt.fromPath(r);return this.gi(n,u).next((h=>{h||s.removeEntry(u,wt.min())}))})).next((()=>(this.Vi=null,s.apply(n))))}updateLimboDocument(n,s){return this.gi(n,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(n){return 0}gi(n,s){return X.or([()=>X.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(n,s),()=>this.persistence.Ai(n,s)])}}class Yu{constructor(n,s){this.persistence=n,this.pi=new ma((r=>pT(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=D2(this,s)}static mi(n,s){return new Yu(n,s)}Ei(){}di(n){return X.resolve()}forEachTarget(n,s){return this.persistence.getTargetCache().forEachTarget(n,s)}gr(n){const s=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((r=>s.next((u=>r+u))))}wr(n){let s=0;return this.pr(n,(r=>{s++})).next((()=>s))}pr(n,s){return X.forEach(this.pi,((r,u)=>this.br(n,r,u).next((h=>h?X.resolve():s(u)))))}removeTargets(n,s,r){return this.persistence.getTargetCache().removeTargets(n,s,r)}removeOrphanedDocuments(n,s){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,(d=>this.br(n,d,s).next((y=>{y||(r++,h.removeEntry(d,wt.min()))})))).next((()=>h.apply(n))).next((()=>r))}markPotentiallyOrphaned(n,s){return this.pi.set(s,n.currentSequenceNumber),X.resolve()}removeTarget(n,s){const r=s.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,r)}addReference(n,s,r){return this.pi.set(r,n.currentSequenceNumber),X.resolve()}removeReference(n,s,r){return this.pi.set(r,n.currentSequenceNumber),X.resolve()}updateLimboDocument(n,s){return this.pi.set(s,n.currentSequenceNumber),X.resolve()}Ti(n){let s=n.key.toString().length;return n.isFoundDocument()&&(s+=Iu(n.data.value)),s}br(n,s,r){return X.or([()=>this.persistence.Ai(n,s),()=>this.persistence.getTargetCache().containsKey(n,s),()=>{const u=this.pi.get(s);return X.resolve(u!==void 0&&u>r)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(n,s,r,u){this.targetId=n,this.fromCache=s,this.Es=r,this.ds=u}static As(n,s){let r=Ht(),u=Ht();for(const h of s.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new cd(n,s.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CE()?8:mT(wE())>0?6:4})()}initialize(n,s){this.ps=n,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(n,s,r,u){const h={result:null};return this.ys(n,s).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(n,s,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new H2;return this.Ss(n,s,d).next((y=>{if(h.result=y,this.Vs)return this.bs(n,s,d,y.size)}))})).next((()=>h.result))}bs(n,s,r,u){return r.documentReadCount<this.fs?(ar()<=Bt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",rr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ar()<=Bt.DEBUG&&ct("QueryEngine","Query:",rr(s),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(ar()<=Bt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",rr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,gi(s))):X.resolve())}ys(n,s){if(Oy(s))return X.resolve(null);let r=gi(s);return this.indexManager.getIndexType(n,r).next((u=>u===0?null:(s.limit!==null&&u===1&&(s=Uf(s,null,"F"),r=gi(s)),this.indexManager.getDocumentsMatchingTarget(n,r).next((h=>{const d=Ht(...h);return this.ps.getDocuments(n,d).next((y=>this.indexManager.getMinOffset(n,r).next((_=>{const v=this.Ds(s,y);return this.Cs(s,v,d,_.readTime)?this.ys(n,Uf(s,null,"F")):this.vs(n,v,s,_)}))))})))))}ws(n,s,r,u){return Oy(s)||u.isEqual(wt.min())?X.resolve(null):this.ps.getDocuments(n,r).next((h=>{const d=this.Ds(s,h);return this.Cs(s,d,r,u)?X.resolve(null):(ar()<=Bt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rr(s)),this.vs(n,d,s,uT(u,ql)).next((y=>y)))}))}Ds(n,s){let r=new Ie(K0(n));return s.forEach(((u,h)=>{tc(n,h)&&(r=r.add(h))})),r}Cs(n,s,r,u){if(n.limit===null)return!1;if(r.size!==s.size)return!0;const h=n.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,s,r){return ar()<=Bt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",rr(s)),this.ps.getDocumentsMatchingQuery(n,s,xs.min(),r)}vs(n,s,r,u){return this.ps.getDocumentsMatchingQuery(n,r,u).next((h=>(s.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="LocalStore",G2=3e8;class Q2{constructor(n,s,r,u){this.persistence=n,this.Fs=s,this.serializer=u,this.Ms=new pe(Lt),this.xs=new ma((h=>nd(h)),id),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(r)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new I2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>n.collect(s,this.Ms)))}}function Y2(l,n,s,r){return new Q2(l,n,s,r)}async function dv(l,n){const s=qt(l);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return s.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,s.Bs(n),s.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let _=Ht();for(const v of u){d.push(v.batchId);for(const x of v.mutations)_=_.add(x.key)}for(const v of h){y.push(v.batchId);for(const x of v.mutations)_=_.add(x.key)}return s.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function mv(l){const n=qt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>n.Pi.getLastRemoteSnapshotVersion(s)))}function F2(l,n){const s=qt(l),r=n.snapshotVersion;let u=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=s.Ns.newChangeBuffer({trackRemovals:!0});u=s.Ms;const y=[];n.targetChanges.forEach(((x,C)=>{const z=u.get(C);if(!z)return;y.push(s.Pi.removeMatchingKeys(h,x.removedDocuments,C).next((()=>s.Pi.addMatchingKeys(h,x.addedDocuments,C))));let Y=z.withSequenceNumber(h.currentSequenceNumber);n.targetMismatches.get(C)!==null?Y=Y.withResumeToken(Qe.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,r)),u=u.insert(C,Y),(function(at,nt,St){return at.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=G2?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0})(z,Y,x)&&y.push(s.Pi.updateTargetData(h,Y))}));let _=Ns(),v=Ht();if(n.documentUpdates.forEach((x=>{n.resolvedLimboDocuments.has(x)&&y.push(s.persistence.referenceDelegate.updateLimboDocument(h,x))})),y.push(K2(h,d,n.documentUpdates).next((x=>{_=x.ks,v=x.qs}))),!r.isEqual(wt.min())){const x=s.Pi.getLastRemoteSnapshotVersion(h).next((C=>s.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(x)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>s.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(s.Ms=u,h)))}function K2(l,n,s){let r=Ht(),u=Ht();return s.forEach((h=>r=r.add(h))),n.getEntries(l,r).next((h=>{let d=Ns();return s.forEach(((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(y)),_.isNoDocument()&&_.version.isEqual(wt.min())?(n.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(n.addEntry(_),d=d.insert(y,_)):ct(hd,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:u}}))}function X2(l,n){const s=qt(l);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return s.Pi.getTargetData(r,n).next((h=>h?(u=h,X.resolve(u)):s.Pi.allocateTargetId(r).next((d=>(u=new _s(n,d,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=s.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(n,r.targetId)),r}))}async function Hf(l,n,s){const r=qt(l),u=r.Ms.get(n),h=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!br(d))throw d;ct(hd,`Failed to update sequence numbers for target ${n}: ${d}`)}r.Ms=r.Ms.remove(n),r.xs.delete(u.target)}function Gy(l,n,s){const r=qt(l);let u=wt.min(),h=Ht();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,x){const C=qt(_),z=C.xs.get(x);return z!==void 0?X.resolve(C.Ms.get(z)):C.Pi.getTargetData(v,x)})(r,d,gi(n)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,n,s?u:wt.min(),s?h:Ht()))).next((y=>(Z2(r,kT(n),y),{documents:y,Qs:h})))))}function Z2(l,n,s){let r=l.Os.get(n)||wt.min();s.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),l.Os.set(n,r)}class Qy{constructor(){this.activeTargetIds=QT()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class J2{constructor(){this.Mo=new Qy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,s,r){}addLocalQueryTarget(n,s=!0){return s&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,s,r){this.xo[n]=s}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Qy,Promise.resolve()}handleUserChange(n,s,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="ConnectivityMonitor";class Fy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(Yy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){ct(Yy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Pf(){return Ou===null?Ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",W2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+n.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===qu?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(n,s,r,u,h){const d=Pf(),y=this.zo(n,s.toUriEncodedString());ct(yf,`Sending RPC '${n}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:v}=new URL(y),x=Zf(v);return this.Jo(n,y,_,r,x).then((C=>(ct(yf,`Received RPC '${n}' ${d}: `,C),C)),(C=>{throw fr(yf,`RPC '${n}' ${d} failed with error: `,C,"url: ",y,"request:",r),C}))}Ho(n,s,r,u,h,d){return this.Go(n,s,r,u,h)}jo(n,s,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Er})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,h)=>n[h]=u)),r&&r.headers.forEach(((u,h)=>n[h]=u))}zo(n,s){const r=W2[n];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class nS extends tS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,s,r,u,h){const d=Pf();return new Promise(((y,_)=>{const v=new C0;v.setWithCredentials(!0),v.listenOnce(N0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Vu.NO_ERROR:const C=v.getResponseJson();ct(Fe,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(C)),y(C);break;case Vu.TIMEOUT:ct(Fe,`RPC '${n}' ${d} timed out`),_(new vt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const z=v.getStatus();if(ct(Fe,`RPC '${n}' ${d} failed with status:`,z,"response text:",v.getResponseText()),z>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y==null?void 0:Y.error;if(tt&&tt.status&&tt.message){const at=(function(St){const ot=St.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(ot)>=0?ot:st.UNKNOWN})(tt.status);_(new vt(at,tt.message))}else _(new vt(st.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new vt(st.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:n,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ct(Fe,`RPC '${n}' ${d} completed.`)}}));const x=JSON.stringify(u);ct(Fe,`RPC '${n}' ${d} sending request:`,u),v.send(s,"POST",x,r,15)}))}T_(n,s,r){const u=Pf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=V0(),y=O0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,s,r),_.encodeInitMessageHeaders=!0;const x=h.join("");ct(Fe,`Creating RPC '${n}' stream ${u}: ${x}`,_);const C=d.createWebChannel(x,_);this.I_(C);let z=!1,Y=!1;const tt=new eS({Yo:nt=>{Y?ct(Fe,`Not sending because RPC '${n}' stream ${u} is closed:`,nt):(z||(ct(Fe,`Opening RPC '${n}' stream ${u} transport.`),C.open(),z=!0),ct(Fe,`RPC '${n}' stream ${u} sending:`,nt),C.send(nt))},Zo:()=>C.close()}),at=(nt,St,ot)=>{nt.listen(St,(yt=>{try{ot(yt)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return at(C,Nl.EventType.OPEN,(()=>{Y||(ct(Fe,`RPC '${n}' stream ${u} transport opened.`),tt.o_())})),at(C,Nl.EventType.CLOSE,(()=>{Y||(Y=!0,ct(Fe,`RPC '${n}' stream ${u} transport closed`),tt.a_(),this.E_(C))})),at(C,Nl.EventType.ERROR,(nt=>{Y||(Y=!0,fr(Fe,`RPC '${n}' stream ${u} transport errored. Name:`,nt.name,"Message:",nt.message),tt.a_(new vt(st.UNAVAILABLE,"The operation could not be completed")))})),at(C,Nl.EventType.MESSAGE,(nt=>{var St;if(!Y){const ot=nt.data[0];le(!!ot,16349);const yt=ot,rt=(yt==null?void 0:yt.error)||((St=yt[0])==null?void 0:St.error);if(rt){ct(Fe,`RPC '${n}' stream ${u} received error:`,rt);const pt=rt.status;let ht=(function(R){const I=we[R];if(I!==void 0)return nv(I)})(pt),A=rt.message;ht===void 0&&(ht=st.INTERNAL,A="Unknown error status: "+pt+" with message "+rt.message),Y=!0,tt.a_(new vt(ht,A)),C.close()}else ct(Fe,`RPC '${n}' stream ${u} received:`,ot),tt.u_(ot)}})),at(y,D0.STAT_EVENT,(nt=>{nt.stat===Cf.PROXY?ct(Fe,`RPC '${n}' stream ${u} detected buffering proxy`):nt.stat===Cf.NOPROXY&&ct(Fe,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((s=>s===n))}}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(l){return new u2(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(n,s,r=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=s,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,s-r);u>0&&ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="PersistentStream";class iS{constructor(n,s,r,u,h,d,y,_){this.Mi=n,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pv(n,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():s&&s.code===st.RESOURCE_EXHAUSTED?(Li(s.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(s)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===s&&this.G_(r,u)}),(r=>{n((()=>{const u=new vt(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(n,s){const r=this.W_(this.D_);this.stream=this.j_(n,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return ct(Ky,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return s=>{this.Mi.enqueueAndForget((()=>this.D_===n?s():(ct(Ky,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sS extends iS{constructor(n,s,r,u,h,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,u,d),this.serializer=h}j_(n,s){return this.connection.T_("Listen",n,s)}J_(n){return this.onNext(n)}onNext(n){this.M_.reset();const s=m2(this.serializer,n),r=(function(h){if(!("targetChange"in h))return wt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?cr(d.readTime):wt.min()})(n);return this.listener.H_(s,r)}Y_(n){const s={};s.database=By(this.serializer),s.addTarget=(function(h,d){let y;const _=d.target;if(y=zf(_)?{documents:g2(h,_)}:{query:p2(h,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=h2(h,d.resumeToken);const v=Bf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(wt.min())>0){y.readTime=c2(h,d.snapshotVersion.toTimestamp());const v=Bf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,n);const r=v2(this.serializer,n);r&&(s.labels=r),this.q_(s)}Z_(n){const s={};s.database=By(this.serializer),s.removeTarget=n,this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{}class rS extends aS{constructor(n,s,r,u){super(),this.authCredentials=n,this.appCheckCredentials=s,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,s,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(n,qf(s,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new vt(st.UNKNOWN,h.toString())}))}Ho(n,s,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(n,qf(s,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vt(st.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lS{constructor(n,s){this.asyncQueue=n,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const s=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(s),this.aa=!1):ct("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="RemoteStore";class oS{constructor(n,s,r,u,h){this.localStore=n,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zl(this)&&(ct(yr,"Restarting streams for network reachability change."),await(async function(_){const v=qt(_);v.Ea.add(4),await Xl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await sc(v)})(this))}))})),this.Ra=new lS(r,u)}}async function sc(l){if(Zl(l))for(const n of l.da)await n(!0)}async function Xl(l){for(const n of l.da)await n(!1)}function yv(l,n){const s=qt(l);s.Ia.has(n.targetId)||(s.Ia.set(n.targetId,n),gd(s)?md(s):Tr(s).O_()&&dd(s,n))}function fd(l,n){const s=qt(l),r=Tr(s);s.Ia.delete(n),r.O_()&&vv(s,n),s.Ia.size===0&&(r.O_()?r.L_():Zl(s)&&s.Ra.set("Unknown"))}function dd(l,n){if(l.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(wt.min())>0){const s=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(s)}Tr(l).Y_(n)}function vv(l,n){l.Va.Ue(n),Tr(l).Z_(n)}function md(l){l.Va=new a2({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),At:n=>l.Ia.get(n)||null,ht:()=>l.datastore.serializer.databaseId}),Tr(l).start(),l.Ra.ua()}function gd(l){return Zl(l)&&!Tr(l).x_()&&l.Ia.size>0}function Zl(l){return qt(l).Ea.size===0}function _v(l){l.Va=void 0}async function uS(l){l.Ra.set("Online")}async function cS(l){l.Ia.forEach(((n,s)=>{dd(l,n)}))}async function hS(l,n){_v(l),gd(l)?(l.Ra.ha(n),md(l)):l.Ra.set("Unknown")}async function fS(l,n,s){if(l.Ra.set("Online"),n instanceof sv&&n.state===2&&n.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(l,n)}catch(r){ct(yr,"Failed to remove targets %s: %s ",n.targetIds.join(","),r),await Xy(l,r)}else if(n instanceof ju?l.Va.Ze(n):n instanceof iv?l.Va.st(n):l.Va.tt(n),!s.isEqual(wt.min()))try{const r=await mv(l.localStore);s.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const x=h.Ia.get(v);x&&h.Ia.set(v,x.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,v)=>{const x=h.Ia.get(_);if(!x)return;h.Ia.set(_,x.withResumeToken(Qe.EMPTY_BYTE_STRING,x.snapshotVersion)),vv(h,_);const C=new _s(x.target,_,v,x.sequenceNumber);dd(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(l,s)}catch(r){ct(yr,"Failed to raise snapshot:",r),await Xy(l,r)}}async function Xy(l,n,s){if(!br(n))throw n;l.Ea.add(1),await Xl(l),l.Ra.set("Offline"),s||(s=()=>mv(l.localStore)),l.asyncQueue.enqueueRetryable((async()=>{ct(yr,"Retrying IndexedDB access"),await s(),l.Ea.delete(1),await sc(l)}))}async function Zy(l,n){const s=qt(l);s.asyncQueue.verifyOperationInProgress(),ct(yr,"RemoteStore received new credentials");const r=Zl(s);s.Ea.add(3),await Xl(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(n),s.Ea.delete(3),await sc(s)}async function dS(l,n){const s=qt(l);n?(s.Ea.delete(2),await sc(s)):n||(s.Ea.add(2),await Xl(s),s.Ra.set("Unknown"))}function Tr(l){return l.ma||(l.ma=(function(s,r,u){const h=qt(s);return h.sa(),new sS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(l.datastore,l.asyncQueue,{Xo:uS.bind(null,l),t_:cS.bind(null,l),r_:hS.bind(null,l),H_:fS.bind(null,l)}),l.da.push((async n=>{n?(l.ma.B_(),gd(l)?md(l):l.Ra.set("Unknown")):(await l.ma.stop(),_v(l))}))),l.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(n,s,r,u,h){this.asyncQueue=n,this.timerId=s,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,s,r,u,h){const d=Date.now()+r,y=new pd(n,s,d,u,h);return y.start(r),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(st.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(l,n){if(Li("AsyncQueue",`${n}: ${l}`),br(l))return new vt(st.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{static emptySet(n){return new hr(n.comparator)}constructor(n){this.comparator=n?(s,r)=>n(s,r)||Tt.comparator(s.key,r.key):(s,r)=>Tt.comparator(s.key,r.key),this.keyedMap=Dl(),this.sortedSet=new pe(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const s=this.keyedMap.get(n);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal(((s,r)=>(n(s),!1)))}add(n){const s=this.delete(n.key);return s.copy(s.keyedMap.insert(n.key,n),s.sortedSet.insert(n,null))}delete(n){const s=this.get(n);return s?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(s)):this}isEqual(n){if(!(n instanceof hr)||this.size!==n.size)return!1;const s=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;s.hasNext();){const u=s.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach((s=>{n.push(s.toString())})),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,s){const r=new hr;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.ga=new pe(Tt.comparator)}track(n){const s=n.doc.key,r=this.ga.get(s);r?n.type!==0&&r.type===3?this.ga=this.ga.insert(s,n):n.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:n.doc}):n.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:n.doc}):n.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:n.doc}):n.type===1&&r.type===0?this.ga=this.ga.remove(s):n.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):n.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:n.doc}):Rt(63341,{Rt:n,pa:r}):this.ga=this.ga.insert(s,n)}ya(){const n=[];return this.ga.inorderTraversal(((s,r)=>{n.push(r)})),n}}class vr{constructor(n,s,r,u,h,d,y,_,v){this.query=n,this.docs=s,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(n,s,r,u,h){const d=[];return s.forEach((y=>{d.push({type:0,doc:y})})),new vr(n,s,hr.emptySet(s),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Wu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const s=this.docChanges,r=n.docChanges;if(s.length!==r.length)return!1;for(let u=0;u<s.length;u++)if(s[u].type!==r[u].type||!s[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((n=>n.Da()))}}class gS{constructor(){this.queries=$y(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const u=qt(s),h=u.queries;u.queries=$y(),h.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new vt(st.ABORTED,"Firestore shutting down"))}}function $y(){return new ma((l=>F0(l)),Wu)}async function pS(l,n){const s=qt(l);let r=3;const u=n.query;let h=s.queries.get(u);h?!h.ba()&&n.Da()&&(r=2):(h=new mS,r=n.Da()?0:1);try{switch(r){case 0:h.wa=await s.onListen(u,!0);break;case 1:h.wa=await s.onListen(u,!1);break;case 2:await s.onFirstRemoteStoreListen(u)}}catch(d){const y=Ev(d,`Initialization of query '${rr(n.query)}' failed`);return void n.onError(y)}s.queries.set(u,h),h.Sa.push(n),n.va(s.onlineState),h.wa&&n.Fa(h.wa)&&yd(s)}async function yS(l,n){const s=qt(l),r=n.query;let u=3;const h=s.queries.get(r);if(h){const d=h.Sa.indexOf(n);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=n.Da()?0:1:!h.ba()&&n.Da()&&(u=2))}switch(u){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function vS(l,n){const s=qt(l);let r=!1;for(const u of n){const h=u.query,d=s.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(r=!0);d.wa=u}}r&&yd(s)}function _S(l,n,s){const r=qt(l),u=r.queries.get(n);if(u)for(const h of u.Sa)h.onError(s);r.queries.delete(n)}function yd(l){l.Ca.forEach((n=>{n.next()}))}var Gf,Wy;(Wy=Gf||(Gf={})).Ma="default",Wy.Cache="cache";class ES{constructor(n,s,r){this.query=n,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(n){if(!this.options.includeMetadataChanges){const r=[];for(const u of n.docChanges)u.type!==3&&r.push(u);n=new vr(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let s=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),s=!0):this.La(n,this.onlineState)&&(this.ka(n),s=!0),this.Na=n,s}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),s=!0),s}La(n,s){if(!n.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!n.docs.isEmpty()||n.hasCachedResults||s==="Offline")}Ba(n){if(n.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(n){n=vr.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==Gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(n){this.key=n}}class Tv{constructor(n){this.key=n}}class bS{constructor(n,s){this.query=n,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=K0(n),this.tu=new hr(this.eu)}get nu(){return this.Ya}ru(n,s){const r=s?s.iu:new Jy,u=s?s.tu:this.tu;let h=s?s.mutatedKeys:this.mutatedKeys,d=u,y=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal(((x,C)=>{const z=u.get(x),Y=tc(this.query,C)?C:null,tt=!!z&&this.mutatedKeys.has(z.key),at=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let nt=!1;z&&Y?z.data.isEqual(Y.data)?tt!==at&&(r.track({type:3,doc:Y}),nt=!0):this.su(z,Y)||(r.track({type:2,doc:Y}),nt=!0,(_&&this.eu(Y,_)>0||v&&this.eu(Y,v)<0)&&(y=!0)):!z&&Y?(r.track({type:0,doc:Y}),nt=!0):z&&!Y&&(r.track({type:1,doc:z}),nt=!0,(_||v)&&(y=!0)),nt&&(Y?(d=d.add(Y),h=at?h.add(x):h.delete(x)):(d=d.delete(x),h=h.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),h=h.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(n,s){return n.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(n,s,r,u){const h=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const d=n.iu.ya();d.sort(((x,C)=>(function(Y,tt){const at=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:nt})}};return at(Y)-at(tt)})(x.type,C.type)||this.eu(x.doc,C.doc))),this.ou(r),u=u??!1;const y=s&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new vr(this.query,n.tu,h,d,n.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(n){return!this.Ya.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),n.modifiedDocuments.forEach((s=>{})),n.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Xa;this.Xa=Ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return n.forEach((r=>{this.Xa.has(r)||s.push(new Tv(r))})),this.Xa.forEach((r=>{n.has(r)||s.push(new bv(r))})),s}cu(n){this.Ya=n.Qs,this.Xa=Ht();const s=this.ru(n.documents);return this.applyChanges(s,!0)}lu(){return vr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vd="SyncEngine";class TS{constructor(n,s,r){this.query=n,this.targetId=s,this.view=r}}class SS{constructor(n){this.key=n,this.hu=!1}}class AS{constructor(n,s,r,u,h,d){this.localStore=n,this.remoteStore=s,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((y=>F0(y)),Wu),this.Iu=new Map,this.Eu=new Set,this.du=new pe(Tt.comparator),this.Au=new Map,this.Ru=new od,this.Vu={},this.mu=new Map,this.fu=pr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xS(l,n,s=!0){const r=Rv(l);let u;const h=r.Tu.get(n);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Sv(r,n,s,!0),u}async function wS(l,n){const s=Rv(l);await Sv(s,n,!0,!1)}async function Sv(l,n,s,r){const u=await X2(l.localStore,gi(n)),h=u.targetId,d=l.sharedClientState.addLocalQueryTarget(h,s);let y;return r&&(y=await RS(l,n,h,d==="current",u.resumeToken)),l.isPrimaryClient&&s&&yv(l.remoteStore,u),y}async function RS(l,n,s,r,u){l.pu=(C,z,Y)=>(async function(at,nt,St,ot){let yt=nt.view.ru(St);yt.Cs&&(yt=await Gy(at.localStore,nt.query,!1).then((({documents:A})=>nt.view.ru(A,yt))));const rt=ot&&ot.targetChanges.get(nt.targetId),pt=ot&&ot.targetMismatches.get(nt.targetId)!=null,ht=nt.view.applyChanges(yt,at.isPrimaryClient,rt,pt);return e0(at,nt.targetId,ht.au),ht.snapshot})(l,C,z,Y);const h=await Gy(l.localStore,n,!0),d=new bS(n,h.Qs),y=d.ru(h.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(s,r&&l.onlineState!=="Offline",u),v=d.applyChanges(y,l.isPrimaryClient,_);e0(l,s,v.au);const x=new TS(n,s,d);return l.Tu.set(n,x),l.Iu.has(s)?l.Iu.get(s).push(n):l.Iu.set(s,[n]),v.snapshot}async function CS(l,n,s){const r=qt(l),u=r.Tu.get(n),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!Wu(d,n)))),void r.Tu.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Hf(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),s&&fd(r.remoteStore,u.targetId),Qf(r,u.targetId)})).catch(Ku)):(Qf(r,u.targetId),await Hf(r.localStore,u.targetId,!0))}async function NS(l,n){const s=qt(l),r=s.Tu.get(n),u=s.Iu.get(r.targetId);s.isPrimaryClient&&u.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),fd(s.remoteStore,r.targetId))}async function Av(l,n){const s=qt(l);try{const r=await F2(s.localStore,n);n.targetChanges.forEach(((u,h)=>{const d=s.Au.get(h);d&&(le(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?le(d.hu,14607):u.removedDocuments.size>0&&(le(d.hu,42227),d.hu=!1))})),await wv(s,r,n)}catch(r){await Ku(r)}}function t0(l,n,s){const r=qt(l);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(n);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const _=qt(d);_.onlineState=y;let v=!1;_.queries.forEach(((x,C)=>{for(const z of C.Sa)z.va(y)&&(v=!0)})),v&&yd(_)})(r.eventManager,n),u.length&&r.Pu.H_(u),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function DS(l,n,s){const r=qt(l);r.sharedClientState.updateQueryState(n,"rejected",s);const u=r.Au.get(n),h=u&&u.key;if(h){let d=new pe(Tt.comparator);d=d.insert(h,Xe.newNoDocument(h,wt.min()));const y=Ht().add(h),_=new ic(wt.min(),new Map,new pe(Lt),d,y);await Av(r,_),r.du=r.du.remove(h),r.Au.delete(n),_d(r)}else await Hf(r.localStore,n,!1).then((()=>Qf(r,n,s))).catch(Ku)}function Qf(l,n,s=null){l.sharedClientState.removeLocalQueryTarget(n);for(const r of l.Iu.get(n))l.Tu.delete(r),s&&l.Pu.yu(r,s);l.Iu.delete(n),l.isPrimaryClient&&l.Ru.jr(n).forEach((r=>{l.Ru.containsKey(r)||xv(l,r)}))}function xv(l,n){l.Eu.delete(n.path.canonicalString());const s=l.du.get(n);s!==null&&(fd(l.remoteStore,s),l.du=l.du.remove(n),l.Au.delete(s),_d(l))}function e0(l,n,s){for(const r of s)r instanceof bv?(l.Ru.addReference(r.key,n),OS(l,r)):r instanceof Tv?(ct(vd,"Document no longer in limbo: "+r.key),l.Ru.removeReference(r.key,n),l.Ru.containsKey(r.key)||xv(l,r.key)):Rt(19791,{wu:r})}function OS(l,n){const s=n.key,r=s.path.canonicalString();l.du.get(s)||l.Eu.has(r)||(ct(vd,"New document in limbo: "+s),l.Eu.add(r),_d(l))}function _d(l){for(;l.Eu.size>0&&l.du.size<l.maxConcurrentLimboResolutions;){const n=l.Eu.values().next().value;l.Eu.delete(n);const s=new Tt(re.fromString(n)),r=l.fu.next();l.Au.set(r,new SS(s)),l.du=l.du.insert(s,r),yv(l.remoteStore,new _s(gi(sd(s.path)),r,"TargetPurposeLimboResolution",Xu.ce))}}async function wv(l,n,s){const r=qt(l),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,n,s).then((v=>{var x;if((v||s)&&r.isPrimaryClient){const C=v?!v.fromCache:(x=s==null?void 0:s.targetChanges.get(_.targetId))==null?void 0:x.current;r.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=cd.As(_.targetId,v);h.push(C)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(_,v){const x=qt(_);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>X.forEach(v,(z=>X.forEach(z.Es,(Y=>x.persistence.referenceDelegate.addReference(C,z.targetId,Y))).next((()=>X.forEach(z.ds,(Y=>x.persistence.referenceDelegate.removeReference(C,z.targetId,Y)))))))))}catch(C){if(!br(C))throw C;ct(hd,"Failed to update sequence numbers: "+C)}for(const C of v){const z=C.targetId;if(!C.fromCache){const Y=x.Ms.get(z),tt=Y.snapshotVersion,at=Y.withLastLimboFreeSnapshotVersion(tt);x.Ms=x.Ms.insert(z,at)}}})(r.localStore,h))}async function VS(l,n){const s=qt(l);if(!s.currentUser.isEqual(n)){ct(vd,"User change. New user:",n.toKey());const r=await dv(s.localStore,n);s.currentUser=n,(function(h,d){h.mu.forEach((y=>{y.forEach((_=>{_.reject(new vt(st.CANCELLED,d))}))})),h.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await wv(s,r.Ls)}}function IS(l,n){const s=qt(l),r=s.Au.get(n);if(r&&r.hu)return Ht().add(r.key);{let u=Ht();const h=s.Iu.get(n);if(!h)return u;for(const d of h){const y=s.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function Rv(l){const n=qt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Av.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=DS.bind(null,n),n.Pu.H_=vS.bind(null,n.eventManager),n.Pu.yu=_S.bind(null,n.eventManager),n}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=gv(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,s){return null}Mu(n,s){return null}vu(n){return Y2(this.persistence,new P2,n.initialUser,this.serializer)}Cu(n){return new fv(ud.mi,this.serializer)}Du(n){return new J2}async terminate(){var n,s;(n=this.gcScheduler)==null||n.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class MS extends Fu{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,s){le(this.persistence.referenceDelegate instanceof Yu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C2(r,n.asyncQueue,s)}Cu(n){const s=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new fv((r=>Yu.mi(r,s)),this.serializer)}}class Yf{async initialize(n,s){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VS.bind(null,this.syncEngine),await dS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new gS})()}createDatastore(n){const s=gv(n.databaseInfo.databaseId),r=(function(h){return new nS(h)})(n.databaseInfo);return(function(h,d,y,_){return new rS(h,d,y,_)})(n.authCredentials,n.appCheckCredentials,r,s)}createRemoteStore(n){return(function(r,u,h,d,y){return new oS(r,u,h,d,y)})(this.localStore,this.datastore,n.asyncQueue,(s=>t0(this.syncEngine,s,0)),(function(){return Fy.v()?new Fy:new $2})())}createSyncEngine(n,s){return(function(u,h,d,y,_,v,x){const C=new AS(u,h,d,y,_,v);return x&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,s)}async terminate(){var n,s;await(async function(u){const h=qt(u);ct(yr,"RemoteStore shutting down."),h.Ea.add(5),await Xl(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(n=this.datastore)==null||n.terminate(),(s=this.eventManager)==null||s.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):Li("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,s){setTimeout((()=>{this.muted||n(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class zS{constructor(n,s,r,u,h){this.authCredentials=n,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ct(Ds,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ct(Ds,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(s){const r=Ev(s,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}async function _f(l,n){l.asyncQueue.verifyOperationInProgress(),ct(Ds,"Initializing OfflineComponentProvider");const s=l.configuration;await n.initialize(s);let r=s.initialUser;l.setCredentialChangeListener((async u=>{r.isEqual(u)||(await dv(n.localStore,u),r=u)})),n.persistence.setDatabaseDeletedListener((()=>l.terminate())),l._offlineComponents=n}async function n0(l,n){l.asyncQueue.verifyOperationInProgress();const s=await US(l);ct(Ds,"Initializing OnlineComponentProvider"),await n.initialize(s,l.configuration),l.setCredentialChangeListener((r=>Zy(n.remoteStore,r))),l.setAppCheckTokenChangeListener(((r,u)=>Zy(n.remoteStore,u))),l._onlineComponents=n}async function US(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ct(Ds,"Using user provided OfflineComponentProvider");try{await _f(l,l._uninitializedComponentsProvider._offline)}catch(n){const s=n;if(!(function(u){return u.name==="FirebaseError"?u.code===st.FAILED_PRECONDITION||u.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(s))throw s;fr("Error using user provided cache. Falling back to memory cache: "+s),await _f(l,new Fu)}}else ct(Ds,"Using default OfflineComponentProvider"),await _f(l,new MS(void 0));return l._offlineComponents}async function LS(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ct(Ds,"Using user provided OnlineComponentProvider"),await n0(l,l._uninitializedComponentsProvider._online)):(ct(Ds,"Using default OnlineComponentProvider"),await n0(l,new Yf))),l._onlineComponents}async function kS(l){const n=await LS(l),s=n.eventManager;return s.onListen=xS.bind(null,n.syncEngine),s.onUnlisten=CS.bind(null,n.syncEngine),s.onFirstRemoteStoreListen=wS.bind(null,n.syncEngine),s.onLastRemoteStoreUnlisten=NS.bind(null,n.syncEngine),s}function BS(l,n,s={}){const r=new ca;return l.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,_,v){const x=new jS({next:z=>{x.Nu(),d.enqueueAndForget((()=>yS(h,C)));const Y=z.docs.has(y);!Y&&z.fromCache?v.reject(new vt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&z.fromCache&&_&&_.source==="server"?v.reject(new vt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(z)},error:z=>v.reject(z)}),C=new ES(sd(y.path),x,{includeMetadataChanges:!0,qa:!0});return pS(h,C)})(await kS(l),l.asyncQueue,n,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="firestore.googleapis.com",s0=!0;class a0{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new vt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nv,this.ssl=s0}else this.host=n.host,this.ssl=n.ssl??s0;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=hv;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<w2)throw new vt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}rT("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cv(n.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ed{constructor(n,s,r,u){this._authCredentials=n,this._appCheckCredentials=s,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xb;switch(r.type){case"firstParty":return new Wb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=i0.get(s);r&&(ct("ComponentProvider","Removing Datastore"),i0.delete(s),r.terminate())})(this),Promise.resolve()}}function qS(l,n,s,r={}){var v;l=Df(l,Ed);const u=Zf(n),h=l._getSettings(),d={...h,emulatorOptions:l._getEmulatorOptions()},y=`${n}:${s}`;u&&(bE(`https://${y}`),xE("Firestore",!0)),h.host!==Nv&&h.host!==y&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:u,emulatorOptions:r};if(!Lu(_,d)&&(l._setSettings(_),r.mockUserToken)){let x,C;if(typeof r.mockUserToken=="string")x=r.mockUserToken,C=Ke.MOCK_USER;else{x=TE(r.mockUserToken,(v=l._app)==null?void 0:v.options.projectId);const z=r.mockUserToken.sub||r.mockUserToken.user_id;if(!z)throw new vt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ke(z)}l._authCredentials=new Zb(new M0(x,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(n,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new bd(this.firestore,n,this._query)}}class tn{constructor(n,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new tn(this.firestore,n,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,s,r){if(Yl(s,tn._jsonSchema))return new tn(n,r||null,new Tt(re.fromString(s.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ce("string",tn._jsonSchemaVersion),referencePath:Ce("string")};class Ql extends bd{constructor(n,s,r){super(n,s,sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new tn(this.firestore,null,new Tt(n))}withConverter(n){return new Ql(this.firestore,n,this._path)}}function HS(l,n,...s){if(l=ME(l),arguments.length===1&&(n=Wf.newId()),aT("doc","path",n),l instanceof Ed){const r=re.fromString(n,...s);return vy(r),new tn(l,null,new Tt(r))}{if(!(l instanceof tn||l instanceof Ql))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(re.fromString(n,...s));return vy(r),new tn(l.firestore,l instanceof Ql?l.converter:null,new Tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="AsyncQueue";class l0{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pv(this,"async_queue_retry"),this._c=()=>{const r=vf();r&&ct(r0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=n;const s=vf();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const s=vf();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!br(n))throw n;ct(r0,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const s=this.ac.then((()=>(this.rc=!0,n().catch((r=>{throw this.nc=r,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",o0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(n,s,r){this.uc(),this.oc.indexOf(n)>-1&&(s=0);const u=pd.createAndSchedule(this,n,s,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&Rt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const s of this.tc)if(s.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),n!=="all"&&s.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const s=this.tc.indexOf(n);this.tc.splice(s,1)}}function o0(l){let n=l.message||"";return l.stack&&(n=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),n}class Dv extends Ed{constructor(n,s,r,u){super(n,s,r,u),this.type="firestore",this._queue=new l0,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new l0(n),this._firestoreClient=void 0,await n}}}function PS(l,n){const s=typeof l=="object"?l:zb(),r=typeof l=="string"?l:qu,u=Ob(s,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=_E("firestore");h&&qS(u,...h)}return u}function GS(l){if(l._terminated)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||QS(l),l._firestoreClient}function QS(l){var r,u,h;const n=l._freezeSettings(),s=(function(y,_,v,x){return new ET(y,_,v,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Cv(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)})(l._databaseId,((r=l._app)==null?void 0:r.options.appId)||"",l._persistenceKey,n);l._componentsProvider||(u=n.localCache)!=null&&u._offlineComponentProvider&&((h=n.localCache)!=null&&h._onlineComponentProvider)&&(l._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),l._firestoreClient=new zS(l._authCredentials,l._appCheckCredentials,l._queue,s,l._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(n){this._byteString=n}static fromBase64String(n){try{return new mi(Qe.fromBase64String(n))}catch(s){throw new vt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(n){return new mi(Qe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(Yl(n,mi._jsonSchema))return mi.fromBase64String(n.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Ce("string",mi._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(...n){for(let s=0;s<n.length;++s)if(n[s].length===0)throw new vt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(n,s){if(!isFinite(n)||n<-90||n>90)throw new vt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(s)||s<-180||s>180)throw new vt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=n,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Lt(this._lat,n._lat)||Lt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ss._jsonSchemaVersion}}static fromJSON(n){if(Yl(n,Ss._jsonSchema))return new Ss(n.latitude,n.longitude)}}Ss._jsonSchemaVersion="firestore/geoPoint/1.0",Ss._jsonSchema={type:Ce("string",Ss._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(n){this._values=(n||[]).map((s=>s))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(Yl(n,As._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((s=>typeof s=="number")))return new As(n.vectorValues);throw new vt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:Ce("string",As._jsonSchemaVersion),vectorValues:Ce("object")};const YS=new RegExp("[~\\*/\\[\\]]");function FS(l,n,s){if(n.search(YS)>=0)throw u0(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new Ov(...n.split("."))._internalPath}catch{throw u0(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function u0(l,n,s,r,u){let h=`Function ${n}() called with invalid data`;h+=". ";let d="";return new vt(st.INVALID_ARGUMENT,h+l+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(n,s,r,u,h){this._firestore=n,this._userDataWriter=s,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new KS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const s=this._document.data.field(Iv("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s)}}}class KS extends Vv{data(){return super.data()}}function Iv(l,n){return typeof n=="string"?FS(l,n):n instanceof Ov?n._internalPath:n._delegate._internalPath}class XS{convertValue(n,s="none"){switch(Cs(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ge(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,s);case 5:return n.stringValue;case 6:return this.convertBytes(Rs(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,s);case 11:return this.convertObject(n.mapValue,s);case 10:return this.convertVectorValue(n.mapValue);default:throw Rt(62114,{value:n})}}convertObject(n,s){return this.convertObjectMap(n.fields,s)}convertObjectMap(n,s="none"){const r={};return Fl(n,((u,h)=>{r[u]=this.convertValue(h,s)})),r}convertVectorValue(n){var r,u,h;const s=(h=(u=(r=n.fields)==null?void 0:r[Vf].arrayValue)==null?void 0:u.values)==null?void 0:h.map((d=>ge(d.doubleValue)));return new As(s)}convertGeoPoint(n){return new Ss(ge(n.latitude),ge(n.longitude))}convertArray(n,s){return(n.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(n,s){switch(s){case"previous":const r=Ju(n);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Hl(n));default:return null}}convertTimestamp(n){const s=ws(n);return new Re(s.seconds,s.nanos)}convertDocumentKey(n,s){const r=re.fromString(n);le(cv(r),9688,{name:n});const u=new Pl(r.get(1),r.get(3)),h=new Tt(r.popFirst(5));return u.isEqual(s)||Li(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}class Vl{constructor(n,s){this.hasPendingWrites=n,this.fromCache=s}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class fa extends Vv{constructor(n,s,r,u,h,d){super(n,s,r,u,d),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const s=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,s={}){if(this._document){const r=this._document.data.field(Iv("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,s={};return s.type=fa._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ce("string",fa._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class zu extends fa{data(n={}){return super.data(n)}}class Ll{constructor(n,s,r,u){this._firestore=n,this._userDataWriter=s,this._snapshot=u,this.metadata=new Vl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const n=[];return this.forEach((s=>n.push(s))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,s){this._snapshot.docs.forEach((r=>{n.call(s,new zu(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const s=!!n.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new vt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const _=new zu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new zu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,x=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),x=d.indexOf(y.doc.key)),{type:ZS(y.type),doc:_,oldIndex:v,newIndex:x}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Ll._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(s.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function ZS(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(l){l=Df(l,tn);const n=Df(l.firestore,Dv);return BS(GS(n),l._key).then((s=>WS(n,l,s)))}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:Ce("string",Ll._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class $S extends XS{constructor(n){super(),this.firestore=n}convertBytes(n){return new mi(n)}convertReference(n){const s=this.convertDocumentKey(n,this.firestore._databaseId);return new tn(this.firestore,null,s)}}function WS(l,n,s){const r=s.docs.get(n._key),u=new $S(l);return new fa(l,u,n._key,r,new Vl(s.hasPendingWrites,s.fromCache),n.converter)}(function(n,s=!0){(function(u){Er=u})(jb),Bu(new kl("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new Dv(new Jb(r.getProvider("auth-internal")),new tT(d,r.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new vt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(v.options.projectId,x)})(d,u),d);return h={useFetchStreams:s,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),ur(my,gy,n),ur(my,gy,"esm2020")})();const tA={apiKey:"AIzaSyBuXvn88ZLD3NOS32IJeEr2CsyCxshUQcM",authDomain:"pronunciation-examination.firebaseapp.com",projectId:"pronunciation-examination",storageBucket:"pronunciation-examination.firebasestorage.app",messagingSenderId:"1076942783492",appId:"1:1076942783492:web:3da71f597ad3fa68d4a151",measurementId:"G-LK73P1LZ7Y"},eA=A0(tA),nA=PS(eA),iA=async(l,n)=>{try{const s=HS(nA,"Cedar",l),r=await JS(s);return!!(r.exists()&&r.data().Password===n)}catch(s){return console.error("Auth error:",s),!1}},sA=({onLogin:l})=>{const[n,s]=ut.useState(""),[r,u]=ut.useState(""),[h,d]=ut.useState(!1),[y,_]=ut.useState(""),[v,x]=ut.useState(!1),C=async z=>{if(z.preventDefault(),_(""),x(!0),!n||!r){_("Please fill in all fields"),x(!1);return}await iA(n,r)?l(n):_("Authentication failed. Check your name and password format."),x(!1)};return T.jsxs("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4 relative overflow-hidden",children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-900/20 rounded-full blur-[120px]"}),T.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-900/10 rounded-full blur-[120px]"})]}),T.jsxs("div",{className:"relative z-10 w-full max-w-md bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[T.jsx("div",{className:"flex flex-col items-center mb-8",children:T.jsxs("h1",{className:"text-3xl font-bold text-white tracking-tight text-center uppercase",children:["PRONUNCIATION",T.jsx("br",{}),T.jsx("span",{className:"text-xl",children:"(THE EXAMINATION)"})]})}),T.jsxs("form",{onSubmit:C,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"fullName",className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Full Name"}),T.jsx("input",{id:"fullName",name:"fullName",type:"text",value:n,onChange:z=>s(z.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Asep Sadboy"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{id:"password",name:"password",type:h?"text":"password",value:r,onChange:z=>u(z.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Siluman, March 13, 2013"}),T.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-500 transition-colors focus:outline-none",title:h?"Hide password":"Show password",children:h?T.jsx(k1,{className:"w-5 h-5"}):T.jsx(q1,{className:"w-5 h-5"})})]}),T.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Format: Place, Month Day, Year"})]}),y&&T.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-sm p-3 rounded-lg",children:y}),T.jsx("button",{type:"submit",disabled:v,className:"w-full bg-amber-600 hover:bg-amber-500 text-black font-bold py-3.5 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:shadow-[0_0_20px_rgba(245,158,11,0.5)]",children:v?"AUTHENTICATING...":"ENTER STUDIO"})]})]})]})},Mv=ut.forwardRef(({user:l,onStart:n,onDeviceStatusUpdate:s},r)=>{const u=ut.useRef(null),h=ut.useRef(null),d=ut.useRef({toggleVideo:()=>{},toggleAudio:()=>{}}),[y,_]=ut.useState(!1),[v,x]=ut.useState(!1),[C,z]=ut.useState(!1),[Y,tt]=ut.useState(!1),[at,nt]=ut.useState(!1),St=rt=>{if(!rt){_(!1),x(!1),tt(!1),nt(!1);return}const pt=rt.getVideoTracks(),ht=rt.getAudioTracks(),A=pt.length>0,S=ht.length>0,R=A&&pt.some(w=>w.readyState==="live"),I=S&&ht.some(w=>w.readyState==="live"),D=A&&pt.some(w=>w.readyState==="ended"),M=S&&ht.some(w=>w.readyState==="ended");if(D||M){console.warn(" Dashboard: Detected ended tracks, attempting recovery"),ot();return}if(_(R),x(I),A){const w=pt[0];tt(w.enabled)}else tt(!1);if(S){const w=ht[0];nt(w.enabled)}else nt(!1);console.log("Status Check -> Video:",{hasTrack:A,isLive:R,enabled:A?pt[0].enabled:!1,ready:R},"Audio:",{hasTrack:S,isLive:I,enabled:S?ht[0].enabled:!1,ready:I})},ot=async()=>{try{z(!1),h.current&&h.current.getTracks().forEach(S=>S.stop());let rt=null,pt=null,ht=!1,A=!1;try{rt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user",frameRate:{ideal:30}}}),ht=!0}catch(S){console.warn("Camera access denied:",S),_(!1),tt(!1)}try{pt=await navigator.mediaDevices.getUserMedia({audio:!0}),A=!0}catch(S){console.warn("Microphone access denied:",S),x(!1),nt(!1)}if(rt||pt){const S=new MediaStream;rt&&rt.getTracks().forEach(R=>S.addTrack(R)),pt&&pt.getTracks().forEach(R=>S.addTrack(R)),h.current=S,St(S),u.current&&(u.current.srcObject=S)}else z(!0),_(!1),x(!1),tt(!1),nt(!1)}catch(rt){console.error("Device access error:",rt),z(!0),_(!1),x(!1),tt(!1),nt(!1)}};ut.useEffect(()=>{const pt=setInterval(()=>{h.current&&(!y||!v)&&(console.log("Devices disconnected, attempting reconnect..."),ot())},5e3);return()=>clearInterval(pt)},[h.current,y,v]),ut.useEffect(()=>{var rt;console.log(" Dashboard: Updating parent with device status"),console.log(" Dashboard: Status update:",{videoReady:y,audioReady:v,videoEnabled:Y,audioEnabled:at,hasStream:!!h.current,streamActive:(rt=h.current)==null?void 0:rt.active}),s&&s(y,v,Y,at,h.current)},[y,v,Y,at,s]),ut.useEffect(()=>{console.log(" Dashboard: Component mounted, auto-starting devices..."),ot()},[]),ut.useEffect(()=>{if(!h.current)return;const rt=()=>{St(h.current)};return h.current.getTracks().forEach(pt=>{pt.onmute=rt,pt.onunmute=rt,pt.onended=rt;try{pt.addEventListener("enabled",rt),pt.addEventListener("disabled",rt)}catch(ht){console.warn("Track enabled/disabled events not supported:",ht)}}),()=>{h.current&&h.current.getTracks().forEach(pt=>{pt.onmute=null,pt.onunmute=null,pt.onended=null;try{pt.removeEventListener("enabled",rt),pt.removeEventListener("disabled",rt)}catch{}})}},[h.current]),ut.useEffect(()=>{u.current&&h.current&&(u.current.srcObject=h.current)},[h.current,y]),ut.useEffect(()=>{if(!h.current)return;const rt=setInterval(()=>{St(h.current)},2e3);return()=>clearInterval(rt)},[]),ut.useEffect(()=>()=>{console.log(" Dashboard: Cleaning up on unmount"),h.current&&(h.current.getTracks().forEach(rt=>{console.log(` Stopping track: ${rt.kind} (${rt.label})`),rt.stop(),rt.enabled=!1}),h.current=null),u.current&&(u.current.srcObject=null)},[]);const yt=y&&v&&Y&&at;return ut.useImperativeHandle(r,()=>{const rt=()=>{if(console.log("Toggle Video clicked (useImperativeHandle)"),h.current){const ht=h.current.getVideoTracks();console.log("Video tracks found:",ht.length),ht.forEach((A,S)=>{const R=A.enabled;A.enabled=!A.enabled,console.log(`Video track ${S}: ${R} -> ${A.enabled}`)}),St(h.current)}else console.log("No stream available for video toggle")},pt=()=>{if(console.log("Toggle Audio clicked (useImperativeHandle)"),h.current){const ht=h.current.getAudioTracks();console.log("Audio tracks found:",ht.length),ht.forEach((A,S)=>{const R=A.enabled;A.enabled=!A.enabled,console.log(`Audio track ${S}: ${R} -> ${A.enabled}`)}),St(h.current)}else console.log("No stream available for audio toggle")};return d.current.toggleVideo=rt,d.current.toggleAudio=pt,{reloadDevices:ot,toggleVideo:rt,toggleAudio:pt,getMediaStream:()=>h.current}},[]),ut.useEffect(()=>{console.log("Updating selfRef with new toggle functions");const rt=()=>{if(console.log("Toggle Video clicked (selfRef update)"),h.current){const ht=h.current.getVideoTracks();console.log("Video tracks found (selfRef):",ht.length),ht.forEach((A,S)=>{const R=A.enabled;A.enabled=!A.enabled,console.log(`Video track ${S} (selfRef): ${R} -> ${A.enabled}`)}),St(h.current)}else console.log("No stream available for video toggle (selfRef)")},pt=()=>{if(console.log("Toggle Audio clicked (selfRef update)"),h.current){const ht=h.current.getAudioTracks();console.log("Audio tracks found (selfRef):",ht.length),ht.forEach((A,S)=>{const R=A.enabled;A.enabled=!A.enabled,console.log(`Audio track ${S} (selfRef): ${R} -> ${A.enabled}`)}),St(h.current)}else console.log("No stream available for audio toggle (selfRef)")};d.current.toggleVideo=rt,d.current.toggleAudio=pt,console.log("selfRef updated successfully")},[]),T.jsxs("div",{className:"flex flex-col h-full text-white",children:[T.jsxs("div",{className:"mb-8",children:[T.jsxs("h2",{className:"text-3xl font-bold text-white mb-1",children:["Welcome, ",T.jsx("span",{className:"text-amber-500",children:l.fullName})]}),T.jsx("p",{className:"text-gray-400",children:"Please review the examination rules and check your equipment."})]}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 flex-grow",children:[T.jsx("div",{className:"lg:w-1/2 space-y-6",children:T.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 p-6 rounded-xl",children:[T.jsxs("h3",{className:"text-amber-500 font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[T.jsx(g0,{className:"w-5 h-5"}),"Examination Rules"]}),T.jsxs("ul",{className:"space-y-4 text-gray-300",children:[T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"1"}),T.jsx("span",{children:"The exam consists of 3 consecutive sessions."})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"2"}),T.jsxs("span",{children:["Each session has a strict ",T.jsx("strong",{children:"1-minute"})," time limit."]})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"3"}),T.jsx("span",{children:"Recording starts automatically. Speak clearly."})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"4"}),T.jsx("span",{children:"There are short breaks between sessions."})]}),T.jsxs("li",{className:"flex gap-3",children:[T.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"5"}),T.jsx("span",{children:"At the end, you must download your 3 recordings."})]})]})]})}),T.jsxs("div",{className:"lg:w-1/2 flex flex-col",children:[T.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden border border-gray-800 shadow-xl flex-grow min-h-[200px] flex flex-col",children:[T.jsxs("div",{className:"relative flex-grow bg-black",children:[h.current?T.jsx("video",{ref:u,autoPlay:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover transform scale-x-[-1] transition-opacity duration-300 ${y?"opacity-100":"opacity-30"}`}):T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx(bf,{className:"w-16 h-16 text-gray-800"})}),h.current&&T.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2 z-10",children:[T.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${Y?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[Y?T.jsx(bf,{className:"w-3 h-3"}):T.jsx(Tf,{className:"w-3 h-3"}),Y?"CAMERA ON":"CAMERA OFF"]}),T.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${at?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[at?T.jsx(Kf,{className:"w-3 h-3"}):T.jsx(ey,{className:"w-3 h-3"}),at?"MIC ON":"MIC OFF"]})]}),h.current&&(!Y||!at)&&T.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm z-0 p-4 pointer-events-none",children:T.jsxs("div",{className:"flex flex-col gap-2",children:[!Y&&T.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[T.jsx(Tf,{className:"w-5 h-5"})," CAMERA OFF"]}),!at&&T.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[T.jsx(ey,{className:"w-5 h-5"})," MIC OFF"]})]})})]}),T.jsx("div",{className:"bg-gray-900 border-t border-gray-800 p-4",children:h.current?T.jsx("div",{className:"flex justify-between items-center",children:T.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:[T.jsx(p0,{className:"w-3 h-3"}),T.jsx("span",{children:"Smart monitoring"})]})}):T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Initializing devices..."}),C&&T.jsx("p",{className:"text-red-500 mt-2 text-xs",children:"Permission denied. Check browser settings."})]})})]}),T.jsxs("button",{onClick:n,disabled:!yt,className:"mt-6 w-full bg-amber-600 hover:bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 disabled:cursor-not-allowed text-black font-bold py-4 rounded-xl transition-all shadow-[0_0_20px_rgba(245,158,11,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.5)] flex items-center justify-center gap-2 text-lg disabled:shadow-none",children:[T.jsx(Z1,{className:"w-6 h-6 fill-current"}),yt?"START EXAMINATION":"DEVICES NOT READY"]})]})]})]})});Mv.displayName="Dashboard";const Ef=({user:l,sessionNumber:n,title:s,textContent:r,onComplete:u,mediaStream:h})=>{console.log(" SessionRecorder: Component rendered with mediaStream:",h),console.log(" SessionRecorder: mediaStream details:",{exists:!!h,active:(h==null?void 0:h.active)||!1,id:(h==null?void 0:h.id)||"no-id",tracks:(h==null?void 0:h.getTracks().length)||0});const[d,y]=ut.useState(60),[_,v]=ut.useState(!1),[x,C]=ut.useState(null),[z,Y]=ut.useState({x:0,y:0}),[tt,at]=ut.useState(!1),[nt,St]=ut.useState({x:0,y:0}),ot=ut.useRef(null),yt=ut.useRef(null),rt=ut.useRef([]),pt=ut.useRef(null),ht=ut.useRef(null),A=ut.useRef(!1),S=ut.useRef(!0),R=U=>{at(!0),St({x:U.clientX-z.x,y:U.clientY-z.y})},I=ut.useCallback(U=>{if(!tt)return;const Z=U.clientX-nt.x,W=U.clientY-nt.y,mt=window.innerWidth-224,Ct=window.innerHeight-168;Y({x:Math.max(0,Math.min(Z,mt)),y:Math.max(0,Math.min(W,Ct))})},[tt,nt]),D=ut.useCallback(()=>{at(!1)},[]);ut.useEffect(()=>{if(tt)return document.addEventListener("mousemove",I),document.addEventListener("mouseup",D),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",D)}},[tt,I,D]),ut.useEffect(()=>{console.log(" SessionRecorder: mediaStream prop changed:",{exists:!!h,active:(h==null?void 0:h.active)||!1,id:(h==null?void 0:h.id)||"no-id",tracks:(h==null?void 0:h.getTracks().length)||0})},[h]),ut.useEffect(()=>{if(!h||!_)return;console.log(" Debug: Monitoring stream changes during recording");const U=()=>{if(!h)return;const W=h.getTracks(),mt=W.filter(J=>J.kind==="video"),Ct=W.filter(J=>J.kind==="audio"),O=mt.some(J=>J.enabled&&J.readyState==="live"),G=Ct.some(J=>J.enabled&&J.readyState==="live");console.log(" Debug: Stream health check:",{streamActive:h.active,hasActiveVideo:O,hasActiveAudio:G,videoTracks:mt.length,audioTracks:Ct.length}),(!h.active||!O)&&(console.warn(" Debug: Stream health issue detected"),C("Camera was turned off. Please return to dashboard and restart session."),yt.current&&yt.current.state==="recording"&&yt.current.stop())};U();const Z=setInterval(U,2e3);return()=>clearInterval(Z)},[h,_]);const M=U=>{if(console.log(" Debug: Preparing stream for recording"),!U.active)return console.error(" Debug: Stream is inactive during preparation"),!1;const Z=U.getTracks();let W=!0;return Z.forEach(mt=>{console.log(` Debug: Track ${mt.kind}:`,{enabled:mt.enabled,readyState:mt.readyState,muted:mt.muted}),mt.enabled||(console.log(" Debug: Enabling track:",mt.kind),mt.enabled=!0),mt.readyState!=="live"&&(console.warn(" Debug: Track not ready:",mt.kind,mt.readyState),W=!1)}),W};ut.useEffect(()=>{const U=()=>{if(console.log(" Debug: initializeRecorder called"),console.log(" Debug: mediaStream received:",h),console.log(" Debug: mediaStream type:",typeof h),console.log(" Debug: mediaStream.active:",(h==null?void 0:h.active)||!1),console.log(" Debug: mediaStream.id:",(h==null?void 0:h.id)||"no-id"),!h){console.error(" Debug: No media stream available"),C("No media stream available. Please return to dashboard.");return}if(!M(h)){console.log(" Debug: Stream not ready, attempting recovery..."),h.getTracks().forEach(J=>{J.enabled||(J.enabled=!0,console.log(" Debug: Force-enabled track:",J.kind))}),setTimeout(()=>{M(h)?(console.log(" Debug: Stream recovery successful, proceeding..."),setTimeout(()=>U(),1e3)):C("Stream recovery failed. Please return to dashboard and restart.")},1e3);return}const mt=h.getTracks();if(!(mt.length>0)){console.error(" Debug: No tracks found in stream"),C("No camera or microphone tracks found. Please return to dashboard.");return}if(mt.some(G=>G.readyState==="ended")){console.error(" Debug: Some tracks have ended"),C("Some devices have been disconnected. Please return to dashboard.");return}try{if(C(null),A.current=!1,pt.current=h,ot.current){console.log(" Debug: Video element found:",ot.current),console.log(" Debug: Video element readyState:",ot.current.readyState),console.log(" Debug: Video element videoWidth:",ot.current.videoWidth),console.log(" Debug: Video element videoHeight:",ot.current.videoHeight);const G=h.getVideoTracks();if(console.log(" Debug: Video tracks found:",G.length),G.length===0){console.error(" Debug: No video tracks found in stream"),C("No camera tracks found. Please return to dashboard.");return}G.forEach(($,ft)=>{console.log(` Debug: Video track ${ft}:`,{id:$.id,label:$.label,enabled:$.enabled,muted:$.muted,readyState:$.readyState,kind:$.kind})}),G.forEach($=>{$.enabled||(console.log(" Debug: Enabling disabled video track"),$.enabled=!0)}),ot.current.srcObject&&(console.log(" Debug: Clearing existing video stream"),ot.current.srcObject=null),console.log(" Debug: Setting stream to video element"),ot.current.srcObject=h,console.log(" Debug: Video srcObject after setting:",ot.current.srcObject),ot.current.onloadedmetadata=()=>{var $,ft,At;console.log(" Debug: Video metadata loaded successfully"),console.log(" Debug: Video dimensions:",{width:($=ot.current)==null?void 0:$.videoWidth,height:(ft=ot.current)==null?void 0:ft.videoHeight}),(At=ot.current)==null||At.play().catch(Mt=>{console.error("Video play error after metadata:",Mt)})},ot.current.onerror=$=>{console.error(" Debug: Video element error:",$),C("Video element error. Please refresh the page.")},setTimeout(()=>{ot.current&&(console.log(" Debug: Fallback check - video readyState:",ot.current.readyState),ot.current.readyState<2?(console.log(" Debug: Video not ready, attempting force play"),ot.current.play().catch($=>{console.error("Force video play failed:",$)})):console.log(" Debug: Video appears ready, checking dimensions:",{width:ot.current.videoWidth,height:ot.current.videoHeight}))},1e3),new Promise($=>{if(!ot.current){$();return}const ft=()=>{ot.current&&ot.current.readyState>=2?(console.log(" Debug: Video is ready, can start recording"),$()):(console.log(" Debug: Video not ready yet, waiting..."),setTimeout(ft,100))};ft(),setTimeout(()=>{console.log(" Debug: Video ready timeout, proceeding anyway"),$()},3e3)}).then(()=>{if(console.log(" Debug: Starting recording process"),!h.active){console.error(" Debug: Stream became inactive before recording"),C("Stream became inactive. Please return to dashboard and restart.");return}const $=new MediaRecorder(h);console.log(" Debug: MediaRecorder created:",$),console.log(" Debug: MediaRecorder state:",$.state),$.ondataavailable=ft=>{ft.data.size>0&&rt.current.push(ft.data)},$.onstop=()=>{if(console.log(" Debug: MediaRecorder stopped"),A.current){const ft=new Blob(rt.current,{type:"video/webm"});u(ft)}},yt.current=$,$.start(),console.log(" Debug: recorder.start() called"),console.log(" Debug: MediaRecorder state after start:",$.state),v(!0),console.log(" Debug: setIsRecording(true) called"),w()})}else C("Video element not found. Please refresh page.")}catch(G){let J="Recorder initialization error.";G.name==="NotAllowedError"&&(J="Access denied. Please check permissions."),G.name==="NotFoundError"&&(J="No camera or microphone found."),G.name==="NotReadableError"&&(J="Hardware error. Camera might be in use."),C(J)}},Z=setTimeout(()=>{U()},500);return()=>{S.current=!1,clearTimeout(Z),it(),yt.current&&yt.current.state==="recording"&&yt.current.stop(),pt.current=null,ot.current&&(ot.current.srcObject=null)}},[h]);const w=()=>{ht.current&&clearInterval(ht.current),ht.current=setInterval(()=>{y(U=>U<=1?(lt(),0):U-1)},1e3)},it=()=>{ht.current&&(clearInterval(ht.current),ht.current=null)},lt=()=>{if(console.log(" Debug: handleFinishSession called"),console.log(" Debug: Current error state:",x),x){console.log(" Debug: Error detected, forcing session end"),it();const U=new Blob([],{type:"video/webm"});u(U);return}if(it(),yt.current&&yt.current.state!=="inactive")console.log(" Debug: Stopping media recorder"),A.current=!0,yt.current.stop();else{console.log(" Debug: No active recorder to stop");const U=new Blob([],{type:"video/webm"});u(U)}};return T.jsxs("div",{className:"flex flex-col h-full text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-2xl font-bold text-amber-500 tracking-wider",children:["SESSION 0",n]}),T.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-widest",children:s})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full border ${_?"bg-red-900/30 border-red-500/50":"bg-gray-800 border-gray-600"}`,children:[T.jsx("div",{className:`w-3 h-3 rounded-full ${_?"bg-red-500 animate-pulse":"bg-gray-500"}`}),T.jsx("span",{className:`${_?"text-red-400":"text-gray-400"} font-mono text-xs`,children:_?"REC":"READY"})]}),T.jsxs("div",{className:"flex items-center space-x-2 font-mono text-xl text-amber-500",children:[T.jsx(eE,{className:"w-5 h-5"}),T.jsxs("span",{children:["00:",d.toString().padStart(2,"0")]})]})]})]}),T.jsx("div",{className:"flex flex-col gap-6 flex-grow",children:T.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-xl border border-gray-700 shadow-inner flex-grow",children:[T.jsx("h3",{className:"text-gray-400 text-xs uppercase mb-4 tracking-widest",children:"Script Content"}),T.jsx("div",{className:"flex-grow flex items-center justify-center",children:T.jsx("div",{className:"text-xl md:text-2xl lg:text-3xl leading-relaxed font-serif text-gray-200 text-center max-w-4xl",children:r})})]})}),T.jsx("div",{className:`fixed bottom-8 right-8 w-48 h-36 lg:w-56 lg:h-42 z-30 transition-shadow ${tt?"cursor-grabbing shadow-2xl":"cursor-grab"}`,style:{transform:`translate(${z.x}px, ${z.y}px)`,transition:tt?"none":"transform 0.2s ease-out"},children:T.jsx("div",{className:"relative w-full h-full bg-black rounded-xl overflow-hidden border-2 border-gray-800 shadow-2xl",onMouseDown:R,children:x?T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-4 bg-gray-900",children:[T.jsx(g0,{className:"w-8 h-8 text-red-500 mb-2"}),T.jsx("p",{className:"text-red-400 text-sm font-bold",children:x})]}):T.jsxs(T.Fragment,{children:[T.jsx("video",{ref:ot,muted:!0,playsInline:!0,className:"w-full h-full object-cover transform scale-x-[-1]",style:{backgroundColor:"black",filter:"none",WebkitFilter:"none"},"data-testid":"session-recorder-video"}),T.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded-md text-xs font-mono text-gray-400 border border-gray-700 flex items-center gap-1",children:[T.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-sm"}),T.jsx("span",{children:"DRAG"})]}),T.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-1",children:[T.jsx(rE,{className:"w-2 h-2 text-green-400"}),T.jsx("span",{children:"CAM"}),T.jsx("span",{className:"w-px h-2 bg-gray-600 mx-1"}),T.jsx(Kf,{className:"w-2 h-2 text-green-400"}),T.jsx("span",{children:"ON"})]})]})})}),T.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[T.jsx("div",{className:"text-sm text-gray-400",children:_?T.jsxs("span",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),T.jsx("span",{children:"Recording in progress..."})]}):T.jsxs("span",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),T.jsx("span",{children:"Preparing recording..."})]})}),T.jsxs("button",{onClick:lt,disabled:!1,className:`group flex items-center space-x-3 px-8 py-3 rounded-full font-bold transition-all transform hover:scale-105 shadow-[0_0_15px_rgba(245,158,11,0.4)] ${x?"bg-red-600 hover:bg-red-500 text-white":_?"bg-amber-600 hover:bg-amber-500 text-black":"bg-gray-600 hover:bg-gray-500 text-white"}`,title:x?"Skip session due to error and continue":_?"Finish recording early and go to next session":"Skip session and continue",children:[T.jsx("span",{children:x?"SKIP & NEXT":_?"FINISH & NEXT":"SKIP & NEXT"}),T.jsx(m0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})},c0=({nextSessionName:l,onContinue:n,onReload:s,videoReady:r=!1,audioReady:u=!1,mediaStream:h=null})=>{const d=ut.useRef(null),y=r&&u,[_,v]=ut.useState(!1),x=()=>{s&&!_&&(v(!0),console.log(" BreakScreen: Manual reload triggered"),s(),setTimeout(()=>{v(!1)},3e3))};return ut.useEffect(()=>{d.current&&h&&(h.getVideoTracks().forEach(z=>{z.enabled||(z.enabled=!0)}),d.current.srcObject=h,d.current.play().catch(()=>{}),d.current.onloadedmetadata=()=>{var z;(z=d.current)==null||z.play().catch(()=>{})})},[h]),ut.useEffect(()=>{if(!h&&s){console.log(" BreakScreen: No stream available, auto-reloading devices...");const C=setTimeout(()=>{console.log(" BreakScreen: Executing auto-reload..."),s()},1e3);return()=>clearTimeout(C)}else h&&console.log(" BreakScreen: Stream is available, no auto-reload needed")},[h,s]),ut.useEffect(()=>()=>{d.current&&(d.current.srcObject=null)},[]),T.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 md:p-8 lg:p-12",children:T.jsx("div",{className:"w-full max-w-4xl mx-auto",children:T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-gray-800 rounded-full flex items-center justify-center mb-4 sm:mb-6 animate-pulse",children:T.jsx(z1,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-amber-500"})}),T.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 text-center",children:"Session Complete"}),T.jsx("p",{className:"text-gray-400 text-sm sm:text-base md:text-lg text-center mb-6 sm:mb-8 md:mb-12",children:"Take a breath. The next session is ready when you are."}),T.jsxs("div",{className:"bg-gray-900/80 border border-gray-700 p-4 sm:p-6 md:p-8 rounded-xl w-full mb-6 sm:mb-8 md:mb-12",children:[T.jsx("p",{className:"text-gray-500 text-xs sm:text-sm md:text-base uppercase tracking-widest mb-2 text-center",children:"Up Next"}),T.jsx("h3",{className:"text-base sm:text-lg md:text-2xl font-bold text-amber-500 text-center",children:l})]}),T.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-3 sm:p-4 md:p-6 w-full mb-6 sm:mb-8 md:mb-12",children:T.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:h?T.jsxs(T.Fragment,{children:[T.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]",style:{backgroundColor:"transparent",filter:"none",WebkitFilter:"none"}}),T.jsxs("div",{className:"absolute top-2 sm:top-3 md:top-4 right-2 sm:right-3 md:right-4 bg-black/60 backdrop-blur-md px-2 sm:px-3 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-1 sm:gap-2",children:[T.jsx(bf,{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 ${r?"text-green-400":"text-red-400"}`}),T.jsxs("span",{className:"hidden xs:inline sm:inline",children:["CAM: ",r?"ON":"OFF"]}),T.jsx("span",{className:"w-px h-2 sm:h-2.5 md:h-3 bg-gray-600 mx-0.5 sm:mx-1"}),T.jsx(Kf,{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 ${u?"text-green-400":"text-red-400"}`}),T.jsxs("span",{className:"hidden xs:inline sm:inline",children:["MIC: ",u?"ACTIVE":"INACTIVE"]})]})]}):T.jsx("div",{className:"flex items-center justify-center h-full",children:T.jsxs("div",{className:"text-center",children:[T.jsx(Tf,{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 text-gray-600 mx-auto mb-2 sm:mb-4"}),T.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Camera Preview Unavailable"})]})})})}),!y&&T.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-xs sm:text-sm p-3 sm:p-4 md:p-6 rounded-lg mb-4 sm:mb-6 w-full",children:[T.jsxs("p",{className:"font-bold mb-2 flex items-center justify-center gap-2",children:[T.jsx(iE,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),"Devices Not Ready"]}),T.jsx("p",{className:"mb-4 text-xs sm:text-sm text-center",children:"Please ensure both camera and microphone are enabled before continuing."}),s&&T.jsxs("button",{onClick:x,disabled:_,className:`px-3 py-2 sm:px-4 sm:py-2 md:px-4 md:py-2 rounded-full text-white flex items-center gap-2 mx-auto transition-colors text-xs sm:text-sm ${_?"bg-gray-600 cursor-not-allowed":"bg-red-800 hover:bg-red-700 border border-red-600"}`,children:[T.jsx(p0,{className:`w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4 ${_?"animate-spin":""}`}),T.jsx("span",{className:"hidden xs:inline sm:inline",children:_?"Reloading...":"Reload Devices"})]})]}),T.jsxs("button",{onClick:n,disabled:!y,className:`group flex items-center justify-center space-x-2 sm:space-x-3 md:space-x-3 px-6 sm:px-8 md:px-10 py-3 sm:py-3.5 md:py-4 rounded-full font-bold transition-all text-sm sm:text-base md:text-base w-full sm:w-auto ${y?"bg-white text-black hover:bg-gray-200":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:[T.jsx("span",{className:"text-center",children:y?"CONTINUE TO NEXT SESSION":"DEVICES NOT READY"}),T.jsx(m0,{className:`w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 transition-transform ${y?"group-hover:translate-x-1":""}`})]})]})})})},aA=({user:l,recordings:n})=>T.jsxs("div",{className:"flex flex-col h-full text-white",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-500/20 rounded-full mb-4",children:T.jsx(V1,{className:"w-10 h-10 text-green-500"})}),T.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Congratulations, ",l.fullName,"!"]}),T.jsx("p",{className:"text-gray-400",children:"You have successfully completed The Examination of Pronunciation."})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-8 flex-grow",children:[T.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-xl p-6",children:[T.jsxs("h3",{className:"text-xl font-bold text-amber-500 mb-6 flex items-center gap-2",children:[T.jsx(Wp,{className:"w-5 h-5"}),"Download Recordings"]}),T.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Please download all three video files below. These files are stored temporarily in your session and will be lost if you refresh."}),T.jsx("div",{className:"space-y-4",children:n.map(s=>T.jsx("a",{href:s.url,download:s.filename,className:"block w-full bg-black/40 hover:bg-amber-900/20 border border-gray-700 hover:border-amber-500/50 p-4 rounded-lg transition-all group",children:T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsxs("p",{className:"font-bold text-white group-hover:text-amber-500 transition-colors",children:["Session 0",s.sessionId]}),T.jsx("p",{className:"text-xs text-gray-500",children:s.filename})]}),T.jsx(Wp,{className:"w-5 h-5 text-gray-500 group-hover:text-amber-500"})]})},s.sessionId))})]}),T.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-xl p-6 flex flex-col justify-center",children:[T.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[T.jsx(M1,{className:"w-5 h-5 text-blue-400"}),"Submission Instructions"]}),T.jsxs("ol",{className:"space-y-6 text-gray-300 relative border-l border-gray-700 ml-3 pl-8",children:[T.jsxs("li",{className:"relative",children:[T.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"1"}),T.jsx("strong",{children:"Upload to Drive:"}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload the 3 downloaded video files to your Google Drive or preferred cloud storage."})]}),T.jsxs("li",{className:"relative",children:[T.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"2"}),T.jsx("strong",{children:"Set Permissions:"}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Ensure the folder or files are set to "Anyone with the link can view".'})]}),T.jsxs("li",{className:"relative",children:[T.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"3"}),T.jsx("strong",{children:"Submit Link:"}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Copy the shareable link and submit it as your weekly project assignment."})]})]}),T.jsx("div",{className:"mt-8 p-4 bg-blue-900/20 rounded-lg border border-blue-500/30 text-center",children:T.jsx("p",{className:"text-blue-300 text-sm font-semibold",children:"Great job! See you in the next evaluation."})})]})]})]});var Et=(l=>(l.LOGIN="LOGIN",l.DASHBOARD="DASHBOARD",l.SESSION_1="SESSION_1",l.BREAK_1="BREAK_1",l.SESSION_2="SESSION_2",l.BREAK_2="BREAK_2",l.SESSION_3="SESSION_3",l.COMPLETION="COMPLETION",l))(Et||{});const rA=()=>{const[l,n]=ut.useState(null),[s,r]=ut.useState(Et.LOGIN),[u,h]=ut.useState([]),[d,y]=ut.useState(!1),[_,v]=ut.useState(!1),[x,C]=ut.useState(!1),[z,Y]=ut.useState(!1),[tt,at]=ut.useState(null),[nt,St]=ut.useState(!1),[ot,yt]=ut.useState(!1);ut.useEffect(()=>{yt(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"),console.log(" Environment:",{hostname:window.location.hostname,isProduction:window.location.hostname!=="localhost",protocol:window.location.protocol,userAgent:navigator.userAgent})},[]);const rt=f0.useRef(null);ut.useEffect(()=>{if(s===Et.COMPLETION){console.log(" App: Completion reached, stopping media streams only");const it=lt=>{lt&&(console.log(" App: Stopping stream with tracks:",lt.getTracks().length),lt.getTracks().forEach(U=>{console.log(` App: Stopping ${U.kind} track:`,U.label),U.stop()}))};if(it(tt),rt.current){const lt=rt.current.getMediaStream();it(lt)}at(null),y(!1),v(!1),C(!1),Y(!1),console.log(" App: Media streams stopped, recordings preserved for download")}},[s]),ut.useEffect(()=>{const it=localStorage.getItem("vocalBoothRecordings");if(it)try{const U=JSON.parse(it).map(Z=>({...Z,blob:new Blob([Z.blobData],{type:"video/webm"})}));h(U),console.log(" App: Loaded recordings from localStorage:",U.length)}catch(lt){console.error("Error loading recordings:",lt),localStorage.removeItem("vocalBoothRecordings")}},[]),ut.useEffect(()=>{try{if(u.length>0){const it=u.map(lt=>({sessionId:lt.sessionId,sessionNumber:lt.sessionNumber,timestamp:lt.timestamp,url:lt.url,filename:lt.filename,blobData:Array.from(new Uint8Array(lt.blob))}));localStorage.setItem("vocalBoothRecordings",JSON.stringify(it)),console.log(" App: Saved recordings to localStorage:",it.length)}}catch(it){console.error(" App: Failed to save recordings to localStorage:",it),alert("Failed to save recordings. Your browser may be in private mode or storage is full.")}},[u]),ut.useEffect(()=>{try{const it=localStorage.getItem("vocalBoothUser");if(it){const lt=JSON.parse(it);n(lt);const U=localStorage.getItem("vocalBoothRecordings");if(U)try{if(JSON.parse(U).length>=3){console.log(" App: User has completed all sessions, redirecting to completion"),r(Et.COMPLETION);return}else console.log(" App: User has completed some sessions but not all, checking session state")}catch(W){console.error("Error parsing recordings for redirect:",W)}const Z=localStorage.getItem("vocalBoothCurrentSession");if(Z){const W=JSON.parse(Z);console.log(" App: Found saved session, redirecting:",W),W.isBreakScreen?W.sessionNumber===1?r(Et.BREAK_1):W.sessionNumber===2?r(Et.BREAK_2):r(Et.DASHBOARD):W.sessionNumber&&r(Et.DASHBOARD)}else r(Et.DASHBOARD);y(!1),v(!1),C(!1),Y(!1)}}catch(it){console.error(" App: Error loading from localStorage:",it),localStorage.removeItem("vocalBoothUser"),localStorage.removeItem("vocalBoothRecordings"),localStorage.removeItem("vocalBoothCurrentSession")}},[]);const pt=it=>{const lt={fullName:it,docId:it};n(lt),r(Et.DASHBOARD),y(!1),v(!1),C(!1),Y(!1),localStorage.setItem("vocalBoothUser",JSON.stringify(lt))},ht=()=>{n(null),r(Et.LOGIN);const it=lt=>{lt&&lt.getTracks().forEach(U=>{U.stop(),U.enabled=!1})};if(it(tt),rt.current){const lt=rt.current.getMediaStream();it(lt)}navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(lt=>{lt.getTracks().forEach(U=>U.stop()),console.log(" Force-stopped any remaining streams")}).catch(()=>{console.log(" No additional streams found")}),y(!1),v(!1),C(!1),Y(!1),at(null),h([]),localStorage.removeItem("vocalBoothUser"),localStorage.removeItem("vocalBoothCurrentSession"),localStorage.removeItem("vocalBoothRecordings"),window.gc&&window.gc(),setTimeout(()=>{window.location.reload()},1e3),console.log(" App: User logged out, all streams stopped aggressively")},A=()=>{r(Et.SESSION_1),D(1,!1)},S=(it,lt,U,Z,W)=>{console.log(" App: Device status update received"),console.log(" App: Status details:",{videoStatus:it,audioStatus:lt,videoToggleStatus:U,audioToggleStatus:Z,hasStream:!!W,streamActive:W==null?void 0:W.active,streamTracks:(W==null?void 0:W.getTracks().length)||0,streamId:W==null?void 0:W.id}),y(it),v(lt),U!==void 0&&C(U),Z!==void 0&&Y(Z),W!==void 0&&(console.log(" App: Updating mediaStream state"),W?console.log(" App: New stream details:",{active:W.active,id:W.id,tracks:W.getTracks().map(mt=>({kind:mt.kind,enabled:mt.enabled,readyState:mt.readyState,label:mt.label}))}):console.log(" App: Stream is null/undefined"),at(W))},R=()=>{console.log(" App: handleReloadDevices called"),y(!1),v(!1),C(!1),Y(!1),at(null),rt.current?(console.log(" App: Reloading from dashboard"),rt.current.reloadDevices(),setTimeout(()=>{var lt;const it=(lt=rt.current)==null?void 0:lt.getMediaStream();it&&(console.log(" App: Got updated stream from dashboard"),at(it))},1e3)):(console.log(" App: Dashboard not available, creating new stream request"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(it=>{console.log(" App: Got new stream directly"),at(it),y(!0),v(!0),C(!0),Y(!0)}).catch(it=>{console.error(" App: Error getting new stream:",it)}))},I=(it,lt)=>{if(!l)return;const U=URL.createObjectURL(it),Z=`${l.fullName.replace(/\s+/g,"_")}_Session_${lt}.webm`,W={sessionId:lt,blob:it,url:U,filename:Z};h(mt=>[...mt.filter(O=>O.sessionId!==lt),W]),setTimeout(()=>{localStorage.removeItem("vocalBoothCurrentSession")},1e3),lt===1?r(Et.BREAK_1):lt===2?r(Et.BREAK_2):lt===3&&r(Et.COMPLETION)},D=(it,lt=!1)=>{const U={sessionNumber:it,isBreakScreen:lt,timestamp:Date.now()};localStorage.setItem("vocalBoothCurrentSession",JSON.stringify(U)),console.log(" App: Saving session state:",U)};ut.useEffect(()=>{s===Et.BREAK_1?D(1,!0):s===Et.BREAK_2&&D(2,!0)},[s]);const M=(it,lt)=>{const U=lt===1?Et.SESSION_1:lt===2?Et.SESSION_2:Et.SESSION_3,Z=lt===1?Et.BREAK_1:lt===2?Et.BREAK_2:Et.COMPLETION,W=it===U,mt=it===Z,Ct=u.find(At=>At.sessionId===lt)||it===Z,O=[Et.DASHBOARD,Et.SESSION_1,Et.BREAK_1,Et.SESSION_2,Et.BREAK_2,Et.SESSION_3,Et.COMPLETION],G=O.indexOf(it),J=O.indexOf(U),$=G<J&&!Ct;let ft="flex items-center justify-between p-4 rounded-lg border transition-all ";return W?ft+"bg-amber-600 border-amber-500 text-black font-bold shadow-lg scale-105":mt?ft+"bg-blue-900/30 border-blue-500/50 text-blue-400":Ct?ft+"bg-green-900/30 border-green-500/50 text-green-400":ft+"bg-gray-900 border-gray-800 text-gray-600 opacity-60"},w=it=>{const lt=it===1?Et.SESSION_1:it===2?Et.SESSION_2:Et.SESSION_3,U=it===1?Et.BREAK_1:it===2?Et.BREAK_2:Et.COMPLETION,Z=s===lt,W=s===U,mt=u.find($=>$.sessionId===it)||s===U,Ct=[Et.DASHBOARD,Et.SESSION_1,Et.BREAK_1,Et.SESSION_2,Et.BREAK_2,Et.SESSION_3,Et.COMPLETION],O=Ct.indexOf(s),G=Ct.indexOf(lt),J=O<G&&!mt;return Z?{icon:T.jsx(P1,{className:"w-4 h-4"}),status:"active",numberClass:"w-8 h-8 rounded-full bg-amber-600 border-2 border-amber-400 flex items-center justify-center text-sm font-bold text-black shadow-lg"}:W?{icon:T.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),status:"break",numberClass:"w-8 h-8 rounded-full bg-blue-900/30 border-2 border-blue-500 flex items-center justify-center text-sm font-bold text-blue-400"}:mt?{icon:T.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),status:"completed",numberClass:"w-8 h-8 rounded-full bg-green-900/30 border-2 border-green-500 flex items-center justify-center text-sm font-bold text-green-400"}:J?{icon:T.jsx(ty,{className:"w-4 h-4"}),status:"locked",numberClass:"w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-700 flex items-center justify-center text-sm font-bold text-gray-500"}:{icon:T.jsx(ty,{className:"w-4 h-4"}),status:"locked",numberClass:"w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-700 flex items-center justify-center text-sm font-bold text-gray-500"}};return s===Et.LOGIN?T.jsx(sA,{onLogin:pt}):T.jsxs("div",{className:"flex h-screen bg-neutral-950 text-white overflow-hidden font-sans selection:bg-amber-500 selection:text-black",children:[T.jsxs("div",{className:`w-80 bg-black border-r border-gray-800 flex flex-col p-6 z-20 shadow-2xl fixed md:relative h-full transform transition-transform duration-300 ease-in-out ${nt?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[T.jsxs("div",{className:"mb-10 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg flex items-center justify-center",children:T.jsx(W1,{className:"text-black w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"PRONUNCIATION"}),T.jsx("p",{className:"text-xs text-gray-500",children:"The Examination of Pronunciation"})]})]}),T.jsx("button",{onClick:()=>St(!1),className:"md:hidden text-gray-400 hover:text-white transition-colors",children:T.jsx(oE,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:M(s,1),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:w(1).numberClass,children:"1"}),T.jsx("span",{children:"Session 01"})]}),w(1).icon]}),T.jsxs("div",{className:M(s,2),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:w(2).numberClass,children:"2"}),T.jsx("span",{children:"Session 02"})]}),w(2).icon]}),T.jsxs("div",{className:M(s,3),children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:w(3).numberClass,children:"3"}),T.jsx("span",{children:"Session 03"})]}),w(3).icon]})]}),T.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-900",children:[T.jsx("p",{className:"text-gray-500 text-xs",children:"Logged in as"}),T.jsx("p",{className:"text-amber-500 font-bold truncate",children:l==null?void 0:l.fullName}),T.jsx("button",{onClick:ht,className:"mt-2 text-xs text-gray-400 hover:text-red-400 transition-colors",children:"Logout"})]})]}),nt&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-10 md:hidden",onClick:()=>St(!1)}),T.jsxs("main",{className:"flex-1 p-4 md:p-8 relative overflow-y-auto",children:[T.jsxs("div",{className:"md:hidden flex justify-between items-center mb-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>St(!0),className:"text-gray-400 hover:text-white transition-colors",children:T.jsx(Y1,{className:"w-6 h-6"})}),T.jsx("span",{className:"font-bold text-amber-500",children:"The Examination of Pronunciation"})]}),T.jsx("div",{className:"text-xs bg-gray-800 px-2 py-1 rounded",children:s.replace("_"," ")})]}),T.jsxs("div",{className:"max-w-6xl mx-auto h-full",children:[s===Et.DASHBOARD&&l&&T.jsx(Mv,{ref:rt,user:l,onStart:A,onDeviceStatusUpdate:S}),s===Et.SESSION_1&&l&&T.jsx(Ef,{user:l,sessionNumber:1,title:"Tongue Twister (American Accent)",textContent:T.jsxs("p",{children:['"Betty Botter bought some butter,',T.jsx("br",{}),"but she said, 'This butter's bitter.'",T.jsx("br",{}),"'If I put it in my batter,",T.jsx("br",{}),"it will make my batter bitter.'",T.jsx("br",{}),"But a bit of better butter",T.jsx("br",{}),"will make my batter better.'",T.jsx("br",{}),"So, it was better:",T.jsx("br",{}),'Betty Botter bought a bit of better butter."']}),mediaStream:tt,onComplete:it=>I(it,1)}),s===Et.BREAK_1&&T.jsx(c0,{nextSessionName:"Phonetic Transcription (IPA)",onContinue:()=>{r(Et.SESSION_2),D(2,!1)},onReload:R,videoReady:d,audioReady:_,mediaStream:tt}),s===Et.SESSION_2&&l&&T.jsx(Ef,{user:l,sessionNumber:2,title:"Phonetic Transcription (American IPA)",textContent:T.jsxs("p",{className:"font-mono text-amber-200",children:["a strtd lrn l jrz o, nd a strld t frst.",T.jsx("br",{}),"a prktst vri de, rpitd dfklt sntnsz, nd krktd ma msteks.",T.jsx("br",{}),"t tamz, a datd maslf, bt a rimandd maslf wa a strtd.",T.jsx("br",{}),T.jsx("br",{}),"a notst prrs ftr a wrkt hrd nd sted fokst.",T.jsx("br",{}),"i frt a nvstd rwrdd mi w knfdns nd skl.",T.jsx("br",{}),"ivn wn a flt tard r frstretd, a rimandd maslf t lrn z  prss, nd vri stp mtrd.",T.jsx("br",{}),T.jsx("br",{}),"a fnt lsnz a t a kdnt, slbretd sml wnz, nd rd wt a lrnd w rz.",T.jsx("br",{}),"ba ste dsplnd nd motvetd, a dskvrd t z a wns fand hrd ddnt fil hrd nimr."]}),mediaStream:tt,onComplete:it=>I(it,2)}),s===Et.BREAK_2&&T.jsx(c0,{nextSessionName:"Original Text Reading",onContinue:()=>{r(Et.SESSION_3),D(3,!1)},onReload:R,videoReady:d,audioReady:_,mediaStream:tt}),s===Et.SESSION_3&&l&&T.jsx(Ef,{user:l,sessionNumber:3,title:"Original Text Reading",textContent:T.jsxs("p",{children:["I started learning English years ago, and I struggled at first.",T.jsx("br",{}),"I practiced every day, repeated difficult sentences, and corrected my mistakes.",T.jsx("br",{}),"At times, I doubted myself, but I reminded myself why I started.",T.jsx("br",{}),T.jsx("br",{}),"I noticed progress after I worked hard and stayed focused.",T.jsx("br",{}),"The effort I invested rewarded me with confidence and skill.",T.jsx("br",{}),"Even when I felt tired or frustrated, I reminded myself that learning is a process, and every step mattered.",T.jsx("br",{}),T.jsx("br",{}),"I finished lessons I thought I couldn't, celebrated small wins, and shared what I learned with others.",T.jsx("br",{}),"By staying disciplined and motivated, I discovered that things I once found hard didn't feel hard anymore."]}),mediaStream:tt,onComplete:it=>I(it,3)}),s===Et.COMPLETION&&l&&T.jsx(aA,{user:l,recordings:u})]})]})]})},jv=document.getElementById("root");if(!jv)throw new Error("Could not find root element to mount to");const lA=T1.createRoot(jv);lA.render(T.jsx(f0.StrictMode,{children:T.jsx(rA,{})}));
