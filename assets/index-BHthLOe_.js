(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();function f0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var af={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function h1(){if(Hp)return xl;Hp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:l,type:r,key:d,ref:o!==void 0?o:null,props:f}}return xl.Fragment=n,xl.jsx=a,xl.jsxs=a,xl}var Pp;function f1(){return Pp||(Pp=1,af.exports=h1()),af.exports}var x=f1(),sf={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function d1(){if(Gp)return pt;Gp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=j&&V[j]||V["@@iterator"],typeof V=="function"?V:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function ut(V,K,nt){this.props=V,this.context=K,this.refs=J,this.updater=nt||tt}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function mt(){}mt.prototype=ut.prototype;function dt(V,K,nt){this.props=V,this.context=K,this.refs=J,this.updater=nt||tt}var Tt=dt.prototype=new mt;Tt.constructor=dt,Z(Tt,ut.prototype),Tt.isPureReactComponent=!0;var qt=Array.isArray;function St(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(V,K,nt){var it=nt.ref;return{$$typeof:l,type:V,key:K,ref:it!==void 0?it:null,props:nt}}function M(V,K){return A(V.type,K,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===l}function I(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return K[nt]})}var R=/\/+/g;function ee(V,K){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):K.toString(36)}function Ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(St,St):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,K,nt,it,gt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var Vt=!1;if(V===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(V.$$typeof){case l:case n:Vt=!0;break;case S:return Vt=V._init,G(Vt(V._payload),K,nt,it,gt)}}if(Vt)return gt=gt(V),Vt=it===""?"."+ee(V,0):it,qt(gt)?(nt="",Vt!=null&&(nt=Vt.replace(R,"$&/")+"/"),G(gt,K,nt,"",function(Oa){return Oa})):gt!=null&&(D(gt)&&(gt=M(gt,nt+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Vt)),K.push(gt)),1;Vt=0;var Ne=it===""?".":it+":";if(qt(V))for(var ne=0;ne<V.length;ne++)it=V[ne],bt=Ne+ee(it,ne),Vt+=G(it,K,nt,bt,gt);else if(ne=Y(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(it=V.next()).done;)it=it.value,bt=Ne+ee(it,ne++),Vt+=G(it,K,nt,bt,gt);else if(bt==="object"){if(typeof V.then=="function")return G(Ce(V),K,nt,it,gt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(V,K,nt){if(V==null)return V;var it=[],gt=0;return G(V,it,"","",function(bt){return K.call(nt,bt,gt++)}),it}function ct(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:et,forEach:function(V,K,nt){et(V,function(){K.apply(this,arguments)},nt)},count:function(V){var K=0;return et(V,function(){K++}),K},toArray:function(V){return et(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return pt.Activity=N,pt.Children=Gt,pt.Component=ut,pt.Fragment=a,pt.Profiler=o,pt.PureComponent=dt,pt.StrictMode=r,pt.Suspense=v,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,pt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},pt.cache=function(V){return function(){return V.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(V,K,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=Z({},V.props),gt=V.key;if(K!=null)for(bt in K.key!==void 0&&(gt=""+K.key),K)!b.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(it[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)it.children=nt;else if(1<bt){for(var Vt=Array(bt),Ne=0;Ne<bt;Ne++)Vt[Ne]=arguments[Ne+2];it.children=Vt}return A(V.type,gt,it)},pt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},pt.createElement=function(V,K,nt){var it,gt={},bt=null;if(K!=null)for(it in K.key!==void 0&&(bt=""+K.key),K)b.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=K[it]);var Vt=arguments.length-2;if(Vt===1)gt.children=nt;else if(1<Vt){for(var Ne=Array(Vt),ne=0;ne<Vt;ne++)Ne[ne]=arguments[ne+2];gt.children=Ne}if(V&&V.defaultProps)for(it in Vt=V.defaultProps,Vt)gt[it]===void 0&&(gt[it]=Vt[it]);return A(V,bt,gt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(V){return{$$typeof:y,render:V}},pt.isValidElement=D,pt.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ct}},pt.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},pt.startTransition=function(V){var K=C.T,nt={};C.T=nt;try{var it=V(),gt=C.S;gt!==null&&gt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(St,Ut)}catch(bt){Ut(bt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},pt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},pt.use=function(V){return C.H.use(V)},pt.useActionState=function(V,K,nt){return C.H.useActionState(V,K,nt)},pt.useCallback=function(V,K){return C.H.useCallback(V,K)},pt.useContext=function(V){return C.H.useContext(V)},pt.useDebugValue=function(){},pt.useDeferredValue=function(V,K){return C.H.useDeferredValue(V,K)},pt.useEffect=function(V,K){return C.H.useEffect(V,K)},pt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},pt.useId=function(){return C.H.useId()},pt.useImperativeHandle=function(V,K,nt){return C.H.useImperativeHandle(V,K,nt)},pt.useInsertionEffect=function(V,K){return C.H.useInsertionEffect(V,K)},pt.useLayoutEffect=function(V,K){return C.H.useLayoutEffect(V,K)},pt.useMemo=function(V,K){return C.H.useMemo(V,K)},pt.useOptimistic=function(V,K){return C.H.useOptimistic(V,K)},pt.useReducer=function(V,K,nt){return C.H.useReducer(V,K,nt)},pt.useRef=function(V){return C.H.useRef(V)},pt.useState=function(V){return C.H.useState(V)},pt.useSyncExternalStore=function(V,K,nt){return C.H.useSyncExternalStore(V,K,nt)},pt.useTransition=function(){return C.H.useTransition()},pt.version="19.2.3",pt}var Qp;function Kf(){return Qp||(Qp=1,sf.exports=d1()),sf.exports}var It=Kf();const m1=f0(It);var rf={exports:{}},Cl={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function g1(){return Yp||(Yp=1,(function(l){function n(G,et){var ct=G.length;G.push(et);t:for(;0<ct;){var Ut=ct-1>>>1,Gt=G[Ut];if(0<o(Gt,et))G[Ut]=et,G[ct]=Gt,ct=Ut;else break t}}function a(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],ct=G.pop();if(ct!==et){G[0]=ct;t:for(var Ut=0,Gt=G.length,V=Gt>>>1;Ut<V;){var K=2*(Ut+1)-1,nt=G[K],it=K+1,gt=G[it];if(0>o(nt,ct))it<Gt&&0>o(gt,nt)?(G[Ut]=gt,G[it]=ct,Ut=it):(G[Ut]=nt,G[K]=ct,Ut=K);else if(it<Gt&&0>o(gt,ct))G[Ut]=gt,G[it]=ct,Ut=it;else break t}}return et}function o(G,et){var ct=G.sortIndex-et.sortIndex;return ct!==0?ct:G.id-et.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();l.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,N=null,j=3,Y=!1,tt=!1,Z=!1,J=!1,ut=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(G){for(var et=a(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=G)r(_),et.sortIndex=et.expirationTime,n(v,et);else break;et=a(_)}}function qt(G){if(Z=!1,Tt(G),!tt)if(a(v)!==null)tt=!0,St||(St=!0,I());else{var et=a(_);et!==null&&Ce(qt,et.startTime-G)}}var St=!1,C=-1,b=5,A=-1;function M(){return J?!0:!(l.unstable_now()-A<b)}function D(){if(J=!1,St){var G=l.unstable_now();A=G;var et=!0;try{t:{tt=!1,Z&&(Z=!1,mt(C),C=-1),Y=!0;var ct=j;try{e:{for(Tt(G),N=a(v);N!==null&&!(N.expirationTime>G&&M());){var Ut=N.callback;if(typeof Ut=="function"){N.callback=null,j=N.priorityLevel;var Gt=Ut(N.expirationTime<=G);if(G=l.unstable_now(),typeof Gt=="function"){N.callback=Gt,Tt(G),et=!0;break e}N===a(v)&&r(v),Tt(G)}else r(v);N=a(v)}if(N!==null)et=!0;else{var V=a(_);V!==null&&Ce(qt,V.startTime-G),et=!1}}break t}finally{N=null,j=ct,Y=!1}et=void 0}}finally{et?I():St=!1}}}var I;if(typeof dt=="function")I=function(){dt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=D,I=function(){ee.postMessage(null)}}else I=function(){ut(D,0)};function Ce(G,et){C=ut(function(){G(l.unstable_now())},et)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(G){G.callback=null},l.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(G){switch(j){case 1:case 2:case 3:var et=3;break;default:et=j}var ct=j;j=et;try{return G()}finally{j=ct}},l.unstable_requestPaint=function(){J=!0},l.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=j;j=G;try{return et()}finally{j=ct}},l.unstable_scheduleCallback=function(G,et,ct){var Ut=l.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ut+ct:Ut):ct=Ut,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,G={id:S++,callback:et,priorityLevel:G,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>Ut?(G.sortIndex=ct,n(_,G),a(v)===null&&G===a(_)&&(Z?(mt(C),C=-1):Z=!0,Ce(qt,ct-Ut))):(G.sortIndex=Gt,n(v,G),tt||Y||(tt=!0,St||(St=!0,I()))),G},l.unstable_shouldYield=M,l.unstable_wrapCallback=function(G){var et=j;return function(){var ct=j;j=et;try{return G.apply(this,arguments)}finally{j=ct}}}})(uf)),uf}var Fp;function p1(){return Fp||(Fp=1,lf.exports=g1()),lf.exports}var of={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function y1(){if(Kp)return Ye;Kp=1;var l=Kf();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:S}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(v,_,null,S)},Ye.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,N=y(S,_.crossOrigin),j=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:Y}):S==="script"&&r.d.X(v,{crossOrigin:N,integrity:j,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,N=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ye.requestFormReset=function(v){r.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Xp;function _1(){if(Xp)return of.exports;Xp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),of.exports=y1(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function v1(){if(Zp)return Cl;Zp=1;var l=p1(),n=Kf(),a=_1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(r(188))}function _(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,s=e;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return v(c),t;if(h===s)return v(c),e;h=h.sibling}throw Error(r(188))}if(i.return!==s.return)i=c,s=h;else{for(var g=!1,E=c.child;E;){if(E===i){g=!0,i=c,s=h;break}if(E===s){g=!0,s=c,i=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===i){g=!0,i=h,s=c;break}if(E===s){g=!0,s=h,i=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function S(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S(t),e!==null)return e;t=t.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ut:return"Profiler";case J:return"StrictMode";case qt:return"Suspense";case St:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case dt:return t.displayName||"Context";case mt:return(t._context.displayName||"Context")+".Consumer";case Tt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return e=t.displayName||null,e!==null?e:ee(t.type)||"Memo";case b:e=t._payload,t=t._init;try{return ee(t(e))}catch{}}return null}var Ce=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function V(t){return{current:t}}function K(t){0>Gt||(t.current=Ut[Gt],Ut[Gt]=null,Gt--)}function nt(t,e){Gt++,Ut[Gt]=t.current,t.current=e}var it=V(null),gt=V(null),bt=V(null),Vt=V(null);function Ne(t,e){switch(nt(bt,e),nt(gt,t),nt(it,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hp(e),t=fp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(it),nt(it,t)}function ne(){K(it),K(gt),K(bt)}function Oa(t){t.memoizedState!==null&&nt(Vt,t);var e=it.current,i=fp(e,t.type);e!==i&&(nt(gt,t),nt(it,i))}function gs(t){gt.current===t&&(K(it),K(gt)),Vt.current===t&&(K(Vt),bl._currentValue=ct)}var ps,ys;function Gn(t){if(ps===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ps=e&&e[1]||"",ys=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+ys}var br=!1;function Va(t,e){if(!t||br)return"";br=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(H){var k=H}Reflect.construct(t,[],F)}else{try{F.call()}catch(H){k=H}t.call(F.prototype)}}else{try{throw Error()}catch(H){k=H}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(s===w.length||c===B.length)for(s=w.length-1,c=B.length-1;1<=s&&0<=c&&w[s]!==B[c];)c--;for(;1<=s&&0<=c;s--,c--)if(w[s]!==B[c]){if(s!==1||c!==1)do if(s--,c--,0>c||w[s]!==B[c]){var P=`
`+w[s].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=s&&0<=c);break}}}finally{br=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Gn(i):""}function Ar(t,e){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==e&&e!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Va(t.type,!1);case 11:return Va(t.type.render,!1);case 1:return Va(t.type,!0);case 31:return Gn("Activity");default:return""}}function Rr(t){try{var e="",i=null;do e+=Ar(t,i),i=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ge=Object.prototype.hasOwnProperty,De=l.unstable_scheduleCallback,Bi=l.unstable_cancelCallback,sc=l.unstable_shouldYield,Jl=l.unstable_requestPaint,Ze=l.unstable_now,Ma=l.unstable_getCurrentPriorityLevel,wr=l.unstable_ImmediatePriority,xr=l.unstable_UserBlockingPriority,ki=l.unstable_NormalPriority,rc=l.unstable_LowPriority,$l=l.unstable_IdlePriority,Wl=l.log,tu=l.unstable_setDisableYieldValue,Vn=null,Le=null;function vn(t){if(typeof Wl=="function"&&tu(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Vn,t)}catch{}}var oe=Math.clz32?Math.clz32:nu,eu=Math.log,_s=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(eu(t)/_s|0)|0}var Qn=256,Ia=262144,pe=4194304;function Yn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fn(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?c=Yn(s):(g&=E,g!==0?c=Yn(g):i||(i=E&~t,i!==0&&(c=Yn(i))))):(E=s&~h,E!==0?c=Yn(E):g!==0?c=Yn(g):i||(i=s&~t,i!==0&&(c=Yn(i)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:c}function Mn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function lc(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Kn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function za(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uc(t,e,i,s,c,h){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(i=g&~i;0<i;){var P=31-oe(i),F=1<<P;E[P]=0,w[P]=-1;var k=B[P];if(k!==null)for(B[P]=null,P=0;P<k.length;P++){var H=k[P];H!==null&&(H.lane&=-536870913)}i&=~F}s!==0&&ja(t,s,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~e))}function ja(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-oe(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&261930}function Cr(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-oe(i),c=1<<s;c&e|t[s]&e&&(t[s]|=e),i&=~c}}function Nr(t,e){var i=e&-e;return i=(i&42)!==0?1:Ua(i),(i&(t.suspendedLanes|e))!==0?0:i}function Ua(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:zp(t.type))}function In(t,e){var i=et.p;try{return et.p=t,e()}finally{et.p=i}}var zn=Math.random().toString(36).slice(2),ye="__reactFiber$"+zn,Ie="__reactProps$"+zn,Xn="__reactContainer$"+zn,vs="__reactEvents$"+zn,oc="__reactListeners$"+zn,su="__reactHandles$"+zn,ru="__reactResources$"+zn,Zn="__reactMarker$"+zn;function Es(t){delete t[ye],delete t[Ie],delete t[vs],delete t[oc],delete t[su]}function Jn(t){var e=t[ye];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Xn]||i[ye]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=vp(t);t!==null;){if(i=t[ye])return i;t=vp(t)}return e}t=i,i=t.parentNode}return null}function En(t){if(t=t[ye]||t[Xn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function cn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function $n(t){var e=t[ru];return e||(e=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _e(t){t[Zn]=!0}var Dr=new Set,Or={};function Wn(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(Or[t]=e,t=0;t<e.length;t++)Dr.add(e[t])}var Vr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Ir={};function lu(t){return ge.call(Ir,t)?!0:ge.call(Mr,t)?!1:Vr.test(t)?Ir[t]=!0:(Mr[t]=!0,!1)}function Ts(t,e,i){if(lu(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function hn(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function ve(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zr(t,e,i){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,h.call(this,g)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qt(t){if(!t._valueTracker){var e=qi(t)?"checked":"value";t._valueTracker=zr(t,e,""+t[e])}}function La(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=qi(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ba=/[\n"\\]/g;function en(t){return t.replace(Ba,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ss(t,e,i,s,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ze(e)):t.value!==""+ze(e)&&(t.value=""+ze(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?jr(t,g,ze(e)):i!=null?jr(t,g,ze(i)):s!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ze(E):t.removeAttribute("name")}function uu(t,e,i,s,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Qt(t);return}i=i!=null?""+ze(i):"",e=e!=null?""+ze(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=E?t.checked:!!s,t.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function jr(t,e,i){e==="number"&&ei(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Hi(t,e,i,s){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&s&&(t[i].defaultSelected=!0)}else{for(i=""+ze(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,s&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function ou(t,e,i){if(e!=null&&(e=""+ze(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+ze(i):""}function Pi(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(r(92));if(Ce(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=ze(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s),Qt(t)}function nn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||cu.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Lr(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var c in e)s=e[c],e.hasOwnProperty(c)&&i[c]!==s&&Ur(t,c,s)}else for(var h in e)e.hasOwnProperty(h)&&Ur(t,h,e[h])}function bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(t){return Gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var Br=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,ni=null;function ka(t){var e=En(t);if(e&&(t=e.stateNode)){var i=t[Ie]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ss(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+en(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var c=s[Ie]||null;if(!c)throw Error(r(90));Ss(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&La(s)}break t;case"textarea":ou(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Hi(t,!!i.multiple,e,!1)}}}var Rs=!1;function Yi(t,e,i){if(Rs)return t(e,i);Rs=!0;try{var s=t(e);return s}finally{if(Rs=!1,(Qi!==null||ni!==null)&&(ao(),Qi&&(e=Qi,t=ni,ni=Qi=null,ka(e),t)))for(e=0;e<t.length;e++)ka(t[e])}}function Un(t,e){var i=t.stateNode;if(i===null)return null;var s=i[Ie]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{qa=!1}var ii=null,kr=null,Ha=null;function qr(){if(Ha)return Ha;var t,e=kr,i=e.length,s,c="value"in ii?ii.value:ii.textContent,h=c.length;for(t=0;t<i&&e[t]===c[t];t++);var g=i-t;for(s=1;s<=g&&e[i-s]===c[h-s];s++);return Ha=c.slice(t,1<s?1-s:void 0)}function Pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vi(){return!0}function Ln(){return!1}function Be(t){function e(i,s,c,h,g){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?vi:Ln,this.isPropagationStopped=Ln,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=Be(Ei),Fi=N({},Ei,{view:0,detail:0}),Hr=Be(Fi),Ki,ws,si,xs=N({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Ki=t.screenX-si.screenX,ws=t.screenY-si.screenY):ws=Ki=0,si=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),Pr=Be(xs),Ga=N({},xs,{dataTransfer:0}),fu=Be(Ga),du=N({},Fi,{relatedTarget:0}),Qa=Be(du),Gr=N({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Be(Gr),Cs=N({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=Be(Cs),pu=N({},Ei,{data:0}),ri=Be(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vu[t])?!!e[t]:!1}function Xi(){return Eu}var Je=N({},Fi,{key:function(t){if(t.key){var e=yu[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=Be(Je),Su=N({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=Be(Su),u=N({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),m=Be(u),p=N({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),U=N({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),$=N({},Ei,{newState:0,oldState:0}),vt=Be($),ce=[9,13,27,32],Ht=Sn&&"CompositionEvent"in window,ie=null;Sn&&"documentMode"in document&&(ie=document.documentMode);var bn=Sn&&"TextEvent"in window&&!ie,li=Sn&&(!Ht||ie&&8<ie&&11>=ie),Bn=" ",kn=!1;function Ya(t,e){switch(t){case"keyup":return ce.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ns(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function z_(t,e){switch(t){case"compositionend":return Ns(e);case"keypress":return e.which!==32?null:(kn=!0,Bn);case"textInput":return t=e.data,t===Bn&&kn?null:t;default:return null}}function j_(t,e){if(Ds)return t==="compositionend"||!Ht&&Ya(t,e)?(t=qr(),Ha=kr=ii=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return li&&e.locale!=="ko"?null:e.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U_[t.type]:e==="textarea"}function bd(t,e,i,s){Qi?ni?ni.push(s):ni=[s]:Qi=s,e=ho(e,"onChange"),0<e.length&&(i=new ai("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var Qr=null,Yr=null;function L_(t){sp(t,0)}function bu(t){var e=cn(t);if(La(e))return t}function Ad(t,e){if(t==="change")return e}var Rd=!1;if(Sn){var cc;if(Sn){var hc="oninput"in document;if(!hc){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),hc=typeof wd.oninput=="function"}cc=hc}else cc=!1;Rd=cc&&(!document.documentMode||9<document.documentMode)}function xd(){Qr&&(Qr.detachEvent("onpropertychange",Cd),Yr=Qr=null)}function Cd(t){if(t.propertyName==="value"&&bu(Yr)){var e=[];bd(e,Yr,t,Tn(t)),Yi(L_,e)}}function B_(t,e,i){t==="focusin"?(xd(),Qr=e,Yr=i,Qr.attachEvent("onpropertychange",Cd)):t==="focusout"&&xd()}function k_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Yr)}function q_(t,e){if(t==="click")return bu(e)}function H_(t,e){if(t==="input"||t==="change")return bu(e)}function P_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:P_;function Fr(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!ge.call(e,c)||!fn(t[c],e[c]))return!1}return!0}function Nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,e){var i=Nd(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Nd(i)}}function Od(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Od(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ei(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=ei(t.document)}return e}function fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var G_=Sn&&"documentMode"in document&&11>=document.documentMode,Os=null,dc=null,Kr=null,mc=!1;function Md(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mc||Os==null||Os!==ei(s)||(s=Os,"selectionStart"in s&&fc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Kr&&Fr(Kr,s)||(Kr=s,s=ho(dc,"onSelect"),0<s.length&&(e=new ai("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Os)))}function Fa(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Vs={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},gc={},Id={};Sn&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Ka(t){if(gc[t])return gc[t];if(!Vs[t])return t;var e=Vs[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Id)return gc[t]=e[i];return t}var zd=Ka("animationend"),jd=Ka("animationiteration"),Ud=Ka("animationstart"),Q_=Ka("transitionrun"),Y_=Ka("transitionstart"),F_=Ka("transitioncancel"),Ld=Ka("transitionend"),Bd=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function qn(t,e){Bd.set(t,e),Wn(e,[t])}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],Ms=0,yc=0;function Ru(){for(var t=Ms,e=yc=Ms=0;e<t;){var i=An[e];An[e++]=null;var s=An[e];An[e++]=null;var c=An[e];An[e++]=null;var h=An[e];if(An[e++]=null,s!==null&&c!==null){var g=s.pending;g===null?c.next=c:(c.next=g.next,g.next=c),s.pending=c}h!==0&&kd(i,c,h)}}function wu(t,e,i,s){An[Ms++]=t,An[Ms++]=e,An[Ms++]=i,An[Ms++]=s,yc|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function _c(t,e,i,s){return wu(t,e,i,s),xu(t)}function Xa(t,e){return wu(t,null,null,e),xu(t)}function kd(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var c=!1,h=t.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-oe(i),t=h.hiddenUpdates,s=t[c],s===null?t[c]=[e]:s.push(e),e.lane=i|536870912),h):null}function xu(t){if(50<pl)throw pl=0,xh=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Is={};function K_(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,i,s){return new K_(t,e,i,s)}function vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,e){var i=t.alternate;return i===null?(i=dn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function qd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Cu(t,e,i,s,c,h){var g=0;if(s=t,typeof t=="function")vc(t)&&(g=1);else if(typeof t=="string")g=Wv(t,i,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case A:return t=dn(31,i,e,c),t.elementType=A,t.lanes=h,t;case Z:return Za(i.children,c,h,e);case J:g=8,c|=24;break;case ut:return t=dn(12,i,e,c|2),t.elementType=ut,t.lanes=h,t;case qt:return t=dn(13,i,e,c),t.elementType=qt,t.lanes=h,t;case St:return t=dn(19,i,e,c),t.elementType=St,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case mt:g=9;break t;case Tt:g=11;break t;case C:g=14;break t;case b:g=16,s=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),s=null}return e=dn(g,i,e,c),e.elementType=t,e.type=s,e.lanes=h,e}function Za(t,e,i,s){return t=dn(7,t,s,e),t.lanes=i,t}function Ec(t,e,i){return t=dn(6,t,null,e),t.lanes=i,t}function Hd(t){var e=dn(18,null,null,0);return e.stateNode=t,e}function Tc(t,e,i){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Pd=new WeakMap;function Rn(t,e){if(typeof t=="object"&&t!==null){var i=Pd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Rr(e)},Pd.set(t,e),e)}return{value:t,source:e,stack:Rr(e)}}var zs=[],js=0,Nu=null,Xr=0,wn=[],xn=0,Zi=null,ui=1,oi="";function bi(t,e){zs[js++]=Xr,zs[js++]=Nu,Nu=t,Xr=e}function Gd(t,e,i){wn[xn++]=ui,wn[xn++]=oi,wn[xn++]=Zi,Zi=t;var s=ui;t=oi;var c=32-oe(s)-1;s&=~(1<<c),i+=1;var h=32-oe(e)+c;if(30<h){var g=c-c%5;h=(s&(1<<g)-1).toString(32),s>>=g,c-=g,ui=1<<32-oe(e)+c|i<<c|s,oi=h+t}else ui=1<<h|i<<c|s,oi=t}function Sc(t){t.return!==null&&(bi(t,1),Gd(t,1,0))}function bc(t){for(;t===Nu;)Nu=zs[--js],zs[js]=null,Xr=zs[--js],zs[js]=null;for(;t===Zi;)Zi=wn[--xn],wn[xn]=null,oi=wn[--xn],wn[xn]=null,ui=wn[--xn],wn[xn]=null}function Qd(t,e){wn[xn++]=ui,wn[xn++]=oi,wn[xn++]=Zi,ui=e.id,oi=e.overflow,Zi=t}var ke=null,Wt=null,Dt=!1,Ji=null,Cn=!1,Ac=Error(r(519));function $i(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(Rn(e,t)),Ac}function Yd(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[ye]=t,e[Ie]=s,i){case"dialog":xt("cancel",e),xt("close",e);break;case"iframe":case"object":case"embed":xt("load",e);break;case"video":case"audio":for(i=0;i<_l.length;i++)xt(_l[i],e);break;case"source":xt("error",e);break;case"img":case"image":case"link":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"input":xt("invalid",e),uu(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xt("invalid",e);break;case"textarea":xt("invalid",e),Pi(e,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||op(e.textContent,i)?(s.popover!=null&&(xt("beforetoggle",e),xt("toggle",e)),s.onScroll!=null&&xt("scroll",e),s.onScrollEnd!=null&&xt("scrollend",e),s.onClick!=null&&(e.onclick=jn),e=!0):e=!1,e||$i(t,!0)}function Fd(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ke=ke.return}}function Us(t){if(t!==ke)return!1;if(!Dt)return Fd(t),Dt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Hh(t.type,t.memoizedProps)),i=!i),i&&Wt&&$i(t),Fd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=_p(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=_p(t)}else e===27?(e=Wt,fa(t.type)?(t=Fh,Fh=null,Wt=t):Wt=e):Wt=ke?Dn(t.stateNode.nextSibling):null;return!0}function Ja(){Wt=ke=null,Dt=!1}function Rc(){var t=Ji;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ji=null),t}function Zr(t){Ji===null?Ji=[t]:Ji.push(t)}var wc=V(null),$a=null,Ai=null;function Wi(t,e,i){nt(wc,e._currentValue),e._currentValue=i}function Ri(t){t._currentValue=wc.current,K(wc)}function xc(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function Cc(t,e,i,s){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var w=0;w<e.length;w++)if(E.context===e[w]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),xc(h.return,i,t),s||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=i,h=g.alternate,h!==null&&(h.lanes|=i),xc(g,i,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ls(t,e,i,s){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}c=c.return}t!==null&&Cc(e,t,i,s),e.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wa(t){$a=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Kd($a,t)}function Ou(t,e){return $a===null&&Wa(t),Kd(t,e)}function Kd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Ai===null){if(t===null)throw Error(r(308));Ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ai=Ai.next=e;return i}var X_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Z_=l.unstable_scheduleCallback,J_=l.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new X_,data:new Map,refCount:0}}function Jr(t){t.refCount--,t.refCount===0&&Z_(J_,function(){t.controller.abort()})}var $r=null,Dc=0,Bs=0,ks=null;function $_(t,e){if($r===null){var i=$r=[];Dc=0,Bs=Mh(),ks={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Dc++,e.then(Xd,Xd),e}function Xd(){if(--Dc===0&&$r!==null){ks!==null&&(ks.status="fulfilled");var t=$r;$r=null,Bs=0,ks=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function W_(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(s.status="rejected",s.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),s}var Zd=G.S;G.S=function(t,e){Mg=Ze(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&$_(t,e),Zd!==null&&Zd(t,e)};var ts=V(null);function Oc(){var t=ts.current;return t!==null?t:$t.pooledCache}function Vu(t,e){e===null?nt(ts,ts.current):nt(ts,e.pool)}function Jd(){var t=Oc();return t===null?null:{parent:Ee._currentValue,pool:t}}var qs=Error(r(460)),Vc=Error(r(474)),Mu=Error(r(542)),Iu={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(jn,jn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,em(t),t;default:if(typeof e.status=="string")e.then(jn,jn);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=s}},function(s){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,em(t),t}throw ns=e,qs}}function es(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ns=i,qs):i}}var ns=null;function tm(){if(ns===null)throw Error(r(459));var t=ns;return ns=null,t}function em(t){if(t===qs||t===Mu)throw Error(r(483))}var Hs=null,Wr=0;function zu(t){var e=Wr;return Wr+=1,Hs===null&&(Hs=[]),Wd(Hs,t,e)}function tl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ju(t,e){throw e.$$typeof===j?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nm(t){function e(z,O){if(t){var L=z.deletions;L===null?(z.deletions=[O],z.flags|=16):L.push(O)}}function i(z,O){if(!t)return null;for(;O!==null;)e(z,O),O=O.sibling;return null}function s(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function c(z,O){return z=Si(z,O),z.index=0,z.sibling=null,z}function h(z,O,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<O?(z.flags|=67108866,O):L):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,O,L,Q){return O===null||O.tag!==6?(O=Ec(L,z.mode,Q),O.return=z,O):(O=c(O,L),O.return=z,O)}function w(z,O,L,Q){var ot=L.type;return ot===Z?P(z,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&es(ot)===O.type)?(O=c(O,L.props),tl(O,L),O.return=z,O):(O=Cu(L.type,L.key,L.props,null,z.mode,Q),tl(O,L),O.return=z,O)}function B(z,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Tc(L,z.mode,Q),O.return=z,O):(O=c(O,L.children||[]),O.return=z,O)}function P(z,O,L,Q,ot){return O===null||O.tag!==7?(O=Za(L,z.mode,Q,ot),O.return=z,O):(O=c(O,L),O.return=z,O)}function F(z,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ec(""+O,z.mode,L),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return L=Cu(O.type,O.key,O.props,null,z.mode,L),tl(L,O),L.return=z,L;case tt:return O=Tc(O,z.mode,L),O.return=z,O;case b:return O=es(O),F(z,O,L)}if(Ce(O)||I(O))return O=Za(O,z.mode,L,null),O.return=z,O;if(typeof O.then=="function")return F(z,zu(O),L);if(O.$$typeof===dt)return F(z,Ou(z,O),L);ju(z,O)}return null}function k(z,O,L,Q){var ot=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(z,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ot?w(z,O,L,Q):null;case tt:return L.key===ot?B(z,O,L,Q):null;case b:return L=es(L),k(z,O,L,Q)}if(Ce(L)||I(L))return ot!==null?null:P(z,O,L,Q,null);if(typeof L.then=="function")return k(z,O,zu(L),Q);if(L.$$typeof===dt)return k(z,O,Ou(z,L),Q);ju(z,L)}return null}function H(z,O,L,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,E(O,z,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return z=z.get(Q.key===null?L:Q.key)||null,w(O,z,Q,ot);case tt:return z=z.get(Q.key===null?L:Q.key)||null,B(O,z,Q,ot);case b:return Q=es(Q),H(z,O,L,Q,ot)}if(Ce(Q)||I(Q))return z=z.get(L)||null,P(O,z,Q,ot,null);if(typeof Q.then=="function")return H(z,O,L,zu(Q),ot);if(Q.$$typeof===dt)return H(z,O,L,Ou(O,Q),ot);ju(O,Q)}return null}function st(z,O,L,Q){for(var ot=null,Bt=null,rt=O,At=O=0,Nt=null;rt!==null&&At<L.length;At++){rt.index>At?(Nt=rt,rt=null):Nt=rt.sibling;var kt=k(z,rt,L[At],Q);if(kt===null){rt===null&&(rt=Nt);break}t&&rt&&kt.alternate===null&&e(z,rt),O=h(kt,O,At),Bt===null?ot=kt:Bt.sibling=kt,Bt=kt,rt=Nt}if(At===L.length)return i(z,rt),Dt&&bi(z,At),ot;if(rt===null){for(;At<L.length;At++)rt=F(z,L[At],Q),rt!==null&&(O=h(rt,O,At),Bt===null?ot=rt:Bt.sibling=rt,Bt=rt);return Dt&&bi(z,At),ot}for(rt=s(rt);At<L.length;At++)Nt=H(rt,z,At,L[At],Q),Nt!==null&&(t&&Nt.alternate!==null&&rt.delete(Nt.key===null?At:Nt.key),O=h(Nt,O,At),Bt===null?ot=Nt:Bt.sibling=Nt,Bt=Nt);return t&&rt.forEach(function(ya){return e(z,ya)}),Dt&&bi(z,At),ot}function ht(z,O,L,Q){if(L==null)throw Error(r(151));for(var ot=null,Bt=null,rt=O,At=O=0,Nt=null,kt=L.next();rt!==null&&!kt.done;At++,kt=L.next()){rt.index>At?(Nt=rt,rt=null):Nt=rt.sibling;var ya=k(z,rt,kt.value,Q);if(ya===null){rt===null&&(rt=Nt);break}t&&rt&&ya.alternate===null&&e(z,rt),O=h(ya,O,At),Bt===null?ot=ya:Bt.sibling=ya,Bt=ya,rt=Nt}if(kt.done)return i(z,rt),Dt&&bi(z,At),ot;if(rt===null){for(;!kt.done;At++,kt=L.next())kt=F(z,kt.value,Q),kt!==null&&(O=h(kt,O,At),Bt===null?ot=kt:Bt.sibling=kt,Bt=kt);return Dt&&bi(z,At),ot}for(rt=s(rt);!kt.done;At++,kt=L.next())kt=H(rt,z,At,kt.value,Q),kt!==null&&(t&&kt.alternate!==null&&rt.delete(kt.key===null?At:kt.key),O=h(kt,O,At),Bt===null?ot=kt:Bt.sibling=kt,Bt=kt);return t&&rt.forEach(function(c1){return e(z,c1)}),Dt&&bi(z,At),ot}function Jt(z,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ot=L.key;O!==null;){if(O.key===ot){if(ot=L.type,ot===Z){if(O.tag===7){i(z,O.sibling),Q=c(O,L.props.children),Q.return=z,z=Q;break t}}else if(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&es(ot)===O.type){i(z,O.sibling),Q=c(O,L.props),tl(Q,L),Q.return=z,z=Q;break t}i(z,O);break}else e(z,O);O=O.sibling}L.type===Z?(Q=Za(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=Cu(L.type,L.key,L.props,null,z.mode,Q),tl(Q,L),Q.return=z,z=Q)}return g(z);case tt:t:{for(ot=L.key;O!==null;){if(O.key===ot)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){i(z,O.sibling),Q=c(O,L.children||[]),Q.return=z,z=Q;break t}else{i(z,O);break}else e(z,O);O=O.sibling}Q=Tc(L,z.mode,Q),Q.return=z,z=Q}return g(z);case b:return L=es(L),Jt(z,O,L,Q)}if(Ce(L))return st(z,O,L,Q);if(I(L)){if(ot=I(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),ht(z,O,L,Q)}if(typeof L.then=="function")return Jt(z,O,zu(L),Q);if(L.$$typeof===dt)return Jt(z,O,Ou(z,L),Q);ju(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(i(z,O.sibling),Q=c(O,L),Q.return=z,z=Q):(i(z,O),Q=Ec(L,z.mode,Q),Q.return=z,z=Q),g(z)):i(z,O)}return function(z,O,L,Q){try{Wr=0;var ot=Jt(z,O,L,Q);return Hs=null,ot}catch(rt){if(rt===qs||rt===Mu)throw rt;var Bt=dn(29,rt,null,z.mode);return Bt.lanes=Q,Bt.return=z,Bt}finally{}}}var is=nm(!0),im=nm(!1),ta=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function na(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Pt&2)!==0){var c=s.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),s.pending=e,e=xu(t),kd(t,null,i),e}return wu(t,s,e,i),xu(t)}function el(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Cr(t,i)}}function zc(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?c=h=e:h=h.next=e}else c=h=e;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var jc=!1;function nl(){if(jc){var t=ks;if(t!==null)throw t}}function il(t,e,i,s){jc=!1;var c=t.updateQueue;ta=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?h=B:g.next=B,g=w;var P=t.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==g&&(E===null?P.firstBaseUpdate=B:E.next=B,P.lastBaseUpdate=w))}if(h!==null){var F=c.baseState;g=0,P=B=w=null,E=h;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(Ct&k)===k:(s&k)===k){k!==0&&k===Bs&&(jc=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ht=E;k=e;var Jt=i;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){F=st.call(Jt,F,k);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,k=typeof st=="function"?st.call(Jt,F,k):st,k==null)break t;F=N({},F,k);break t;case 2:ta=!0}}k=E.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(B=P=H,w=F):P=P.next=H,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);P===null&&(w=F),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=P,h===null&&(c.shared.lanes=0),la|=g,t.lanes=g,t.memoizedState=F}}function am(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function sm(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)am(i[t],e)}var Ps=V(null),Uu=V(0);function rm(t,e){t=Ii,nt(Uu,t),nt(Ps,e),Ii=t|e.baseLanes}function Uc(){nt(Uu,Ii),nt(Ps,Ps.current)}function Lc(){Ii=Uu.current,K(Ps),K(Uu)}var mn=V(null),Nn=null;function ia(t){var e=t.alternate;nt(he,he.current&1),nt(mn,t),Nn===null&&(e===null||Ps.current!==null||e.memoizedState!==null)&&(Nn=t)}function Bc(t){nt(he,he.current),nt(mn,t),Nn===null&&(Nn=t)}function lm(t){t.tag===22?(nt(he,he.current),nt(mn,t),Nn===null&&(Nn=t)):aa()}function aa(){nt(he,he.current),nt(mn,mn.current)}function gn(t){K(mn),Nn===t&&(Nn=null),K(he)}var he=V(0);function Lu(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Qh(i)||Yh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,Et=null,Xt=null,Te=null,Bu=!1,Gs=!1,as=!1,ku=0,al=0,Qs=null,tv=0;function le(){throw Error(r(321))}function kc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!fn(t[i],e[i]))return!1;return!0}function qc(t,e,i,s,c,h){return wi=h,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?Gm:nh,as=!1,h=i(s,c),as=!1,Gs&&(h=om(e,i,s,c)),um(t),h}function um(t){G.H=ll;var e=Xt!==null&&Xt.next!==null;if(wi=0,Te=Xt=Et=null,Bu=!1,al=0,Qs=null,e)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Du(t)&&(Se=!0))}function om(t,e,i,s){Et=t;var c=0;do{if(Gs&&(Qs=null),al=0,Gs=!1,25<=c)throw Error(r(301));if(c+=1,Te=Xt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=Qm,h=e(i,s)}while(Gs);return h}function ev(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?sl(e):e,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Et.flags|=1024),e}function Hc(){var t=ku!==0;return ku=0,t}function Pc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Gc(t){if(Bu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Bu=!1}wi=0,Te=Xt=Et=null,Gs=!1,al=ku=0,Qs=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Et.memoizedState=Te=t:Te=Te.next=t,Te}function fe(){if(Xt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=Te===null?Et.memoizedState:Te.next;if(e!==null)Te=e,Xt=t;else{if(t===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Et.memoizedState=Te=t:Te=Te.next=t}return Te}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var e=al;return al+=1,Qs===null&&(Qs=[]),t=Wd(Qs,t,e),e=Et,(Te===null?e.memoizedState:Te.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?Gm:nh),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===dt)return qe(t)}throw Error(r(438,String(t)))}function Qc(t){var e=null,i=Et.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=Et.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=qu(),Et.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=M;return e.index++,i}function xi(t,e){return typeof e=="function"?e(t):e}function Pu(t){var e=fe();return Yc(e,Xt,t)}function Yc(t,e,i){var s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=t.baseQueue,h=s.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}e.baseQueue=c=h,s.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var E=g=null,w=null,B=e,P=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Ct&F)===F:(wi&F)===F){var k=B.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Bs&&(P=!0);else if((wi&k)===k){B=B.next,k===Bs&&(P=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=F,g=h):w=w.next=F,Et.lanes|=k,la|=k;F=B.action,as&&i(h,F),h=B.hasEagerState?B.eagerState:i(h,F)}else k={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=k,g=h):w=w.next=k,Et.lanes|=F,la|=F;B=B.next}while(B!==null&&B!==e);if(w===null?g=h:w.next=E,!fn(h,t.memoizedState)&&(Se=!0,P&&(i=ks,i!==null)))throw i;t.memoizedState=h,t.baseState=g,t.baseQueue=w,s.lastRenderedState=h}return c===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Fc(t){var e=fe(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var s=i.dispatch,c=i.pending,h=e.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);fn(h,e.memoizedState)||(Se=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,s]}function cm(t,e,i){var s=Et,c=fe(),h=Dt;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!fn((Xt||c).memoizedState,i);if(g&&(c.memoizedState=i,Se=!0),c=c.queue,Zc(dm.bind(null,s,c,t),[t]),c.getSnapshot!==e||g||Te!==null&&Te.memoizedState.tag&1){if(s.flags|=2048,Ys(9,{destroy:void 0},fm.bind(null,s,c,i,e),null),$t===null)throw Error(r(349));h||(wi&127)!==0||hm(s,e,i)}return i}function hm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Et.updateQueue,e===null?(e=qu(),Et.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function fm(t,e,i,s){e.value=i,e.getSnapshot=s,mm(e)&&gm(t)}function dm(t,e,i){return i(function(){mm(e)&&gm(t)})}function mm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!fn(t,i)}catch{return!0}}function gm(t){var e=Xa(t,2);e!==null&&un(e,t,2)}function Kc(t){var e=$e();if(typeof t=="function"){var i=t;if(t=i(),as){vn(!0);try{i()}finally{vn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},e}function pm(t,e,i,s){return t.baseState=i,Yc(t,Xt,typeof s=="function"?s:xi)}function nv(t,e,i,s,c){if(Yu(t))throw Error(r(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?i(!0):h.isTransition=!1,s(h),i=e.pending,i===null?(h.next=e.pending=h,ym(e,h)):(h.next=i.next,e.pending=i.next=h)}}function ym(t,e){var i=e.action,s=e.payload,c=t.state;if(e.isTransition){var h=G.T,g={};G.T=g;try{var E=i(c,s),w=G.S;w!==null&&w(g,E),_m(t,e,E)}catch(B){Xc(t,e,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),G.T=h}}else try{h=i(c,s),_m(t,e,h)}catch(B){Xc(t,e,B)}}function _m(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){vm(t,e,s)},function(s){return Xc(t,e,s)}):vm(t,e,i)}function vm(t,e,i){e.status="fulfilled",e.value=i,Em(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,ym(t,i)))}function Xc(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,Em(e),e=e.next;while(e!==s)}t.action=null}function Em(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Tm(t,e){return e}function Sm(t,e){if(Dt){var i=$t.formState;if(i!==null){t:{var s=Et;if(Dt){if(Wt){e:{for(var c=Wt,h=Cn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Wt=Dn(c.nextSibling),s=c.data==="F!";break t}}$i(s)}s=!1}s&&(e=i[0])}}return i=$e(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:e},i.queue=s,i=qm.bind(null,Et,s),s.dispatch=i,s=Kc(!1),h=eh.bind(null,Et,!1,s.queue),s=$e(),c={state:e,dispatch:null,action:t,pending:null},s.queue=c,i=nv.bind(null,Et,c,h,i),c.dispatch=i,s.memoizedState=t,[e,i,!1]}function bm(t){var e=fe();return Am(e,Xt,t)}function Am(t,e,i){if(e=Yc(t,e,Tm)[0],t=Pu(xi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=sl(e)}catch(g){throw g===qs?Mu:g}else s=e;e=fe();var c=e.queue,h=c.dispatch;return i!==e.memoizedState&&(Et.flags|=2048,Ys(9,{destroy:void 0},iv.bind(null,c,i),null)),[s,h,t]}function iv(t,e){t.action=e}function Rm(t){var e=fe(),i=Xt;if(i!==null)return Am(e,i,t);fe(),e=e.memoizedState,i=fe();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function Ys(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=Et.updateQueue,e===null&&(e=qu(),Et.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function wm(){return fe().memoizedState}function Gu(t,e,i,s){var c=$e();Et.flags|=t,c.memoizedState=Ys(1|e,{destroy:void 0},i,s===void 0?null:s)}function Qu(t,e,i,s){var c=fe();s=s===void 0?null:s;var h=c.memoizedState.inst;Xt!==null&&s!==null&&kc(s,Xt.memoizedState.deps)?c.memoizedState=Ys(e,h,i,s):(Et.flags|=t,c.memoizedState=Ys(1|e,h,i,s))}function xm(t,e){Gu(8390656,8,t,e)}function Zc(t,e){Qu(2048,8,t,e)}function av(t){Et.flags|=4;var e=Et.updateQueue;if(e===null)e=qu(),Et.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Cm(t){var e=fe().memoizedState;return av({ref:e,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Nm(t,e){return Qu(4,2,t,e)}function Dm(t,e){return Qu(4,4,t,e)}function Om(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vm(t,e,i){i=i!=null?i.concat([t]):null,Qu(4,4,Om.bind(null,e,t),i)}function Jc(){}function Mm(t,e){var i=fe();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&kc(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Im(t,e){var i=fe();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&kc(e,s[1]))return s[0];if(s=t(),as){vn(!0);try{t()}finally{vn(!1)}}return i.memoizedState=[s,e],s}function $c(t,e,i){return i===void 0||(wi&1073741824)!==0&&(Ct&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=zg(),Et.lanes|=t,la|=t,i)}function zm(t,e,i,s){return fn(i,e)?i:Ps.current!==null?(t=$c(t,i,s),fn(t,e)||(Se=!0),t):(wi&42)===0||(wi&1073741824)!==0&&(Ct&261930)===0?(Se=!0,t.memoizedState=i):(t=zg(),Et.lanes|=t,la|=t,e)}function jm(t,e,i,s,c){var h=et.p;et.p=h!==0&&8>h?h:8;var g=G.T,E={};G.T=E,eh(t,!1,e,i);try{var w=c(),B=G.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var P=W_(w,s);rl(t,e,P,_n(t))}else rl(t,e,s,_n(t))}catch(F){rl(t,e,{then:function(){},status:"rejected",reason:F},_n())}finally{et.p=h,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function sv(){}function Wc(t,e,i,s){if(t.tag!==5)throw Error(r(476));var c=Um(t).queue;jm(t,c,e,ct,i===null?sv:function(){return Lm(t),i(s)})}function Um(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ct},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Lm(t){var e=Um(t);e.next===null&&(e=t.alternate.memoizedState),rl(t,e.next.queue,{},_n())}function th(){return qe(bl)}function Bm(){return fe().memoizedState}function km(){return fe().memoizedState}function rv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=_n();t=ea(i);var s=na(e,t,i);s!==null&&(un(s,e,i),el(s,e,i)),e={cache:Nc()},t.payload=e;return}e=e.return}}function lv(t,e,i){var s=_n();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Hm(e,i):(i=_c(t,e,i,s),i!==null&&(un(i,t,s),Pm(i,e,s)))}function qm(t,e,i){var s=_n();rl(t,e,i,s)}function rl(t,e,i,s){var c={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Hm(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var g=e.lastRenderedState,E=h(g,i);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return wu(t,e,c,0),$t===null&&Ru(),!1}catch{}finally{}if(i=_c(t,e,c,s),i!==null)return un(i,t,s),Pm(i,e,s),!0}return!1}function eh(t,e,i,s){if(s={lane:2,revertLane:Mh(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(e)throw Error(r(479))}else e=_c(t,i,s,2),e!==null&&un(e,t,2)}function Yu(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function Hm(t,e){Gs=Bu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Pm(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Cr(t,i)}}var ll={readContext:qe,use:Hu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};ll.useEffectEvent=le;var Gm={readContext:qe,use:Hu,useCallback:function(t,e){return $e().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:xm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Gu(4194308,4,Om.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){Gu(4,2,t,e)},useMemo:function(t,e){var i=$e();e=e===void 0?null:e;var s=t();if(as){vn(!0);try{t()}finally{vn(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=$e();if(i!==void 0){var c=i(e);if(as){vn(!0);try{i(e)}finally{vn(!1)}}}else c=e;return s.memoizedState=s.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},s.queue=t,t=t.dispatch=lv.bind(null,Et,t),[s.memoizedState,t]},useRef:function(t){var e=$e();return t={current:t},e.memoizedState=t},useState:function(t){t=Kc(t);var e=t.queue,i=qm.bind(null,Et,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Jc,useDeferredValue:function(t,e){var i=$e();return $c(i,t,e)},useTransition:function(){var t=Kc(!1);return t=jm.bind(null,Et,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=Et,c=$e();if(Dt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),$t===null)throw Error(r(349));(Ct&127)!==0||hm(s,e,i)}c.memoizedState=i;var h={value:i,getSnapshot:e};return c.queue=h,xm(dm.bind(null,s,h,t),[t]),s.flags|=2048,Ys(9,{destroy:void 0},fm.bind(null,s,h,i,e),null),i},useId:function(){var t=$e(),e=$t.identifierPrefix;if(Dt){var i=oi,s=ui;i=(s&~(1<<32-oe(s)-1)).toString(32)+i,e="_"+e+"R_"+i,i=ku++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=tv++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:th,useFormState:Sm,useActionState:Sm,useOptimistic:function(t){var e=$e();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=eh.bind(null,Et,!0,i),i.dispatch=e,[t,e]},useMemoCache:Qc,useCacheRefresh:function(){return $e().memoizedState=rv.bind(null,Et)},useEffectEvent:function(t){var e=$e(),i={impl:t};return e.memoizedState=i,function(){if((Pt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},nh={readContext:qe,use:Hu,useCallback:Mm,useContext:qe,useEffect:Zc,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Dm,useMemo:Im,useReducer:Pu,useRef:wm,useState:function(){return Pu(xi)},useDebugValue:Jc,useDeferredValue:function(t,e){var i=fe();return zm(i,Xt.memoizedState,t,e)},useTransition:function(){var t=Pu(xi)[0],e=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),e]},useSyncExternalStore:cm,useId:Bm,useHostTransitionStatus:th,useFormState:bm,useActionState:bm,useOptimistic:function(t,e){var i=fe();return pm(i,Xt,t,e)},useMemoCache:Qc,useCacheRefresh:km};nh.useEffectEvent=Cm;var Qm={readContext:qe,use:Hu,useCallback:Mm,useContext:qe,useEffect:Zc,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Dm,useMemo:Im,useReducer:Fc,useRef:wm,useState:function(){return Fc(xi)},useDebugValue:Jc,useDeferredValue:function(t,e){var i=fe();return Xt===null?$c(i,t,e):zm(i,Xt.memoizedState,t,e)},useTransition:function(){var t=Fc(xi)[0],e=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),e]},useSyncExternalStore:cm,useId:Bm,useHostTransitionStatus:th,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,e){var i=fe();return Xt!==null?pm(i,Xt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:km};Qm.useEffectEvent=Cm;function ih(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:N({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ah={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=_n(),c=ea(s);c.payload=e,i!=null&&(c.callback=i),e=na(t,c,s),e!==null&&(un(e,t,s),el(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=_n(),c=ea(s);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=na(t,c,s),e!==null&&(un(e,t,s),el(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=_n(),s=ea(i);s.tag=2,e!=null&&(s.callback=e),e=na(t,s,i),e!==null&&(un(e,t,i),el(e,t,i))}};function Ym(t,e,i,s,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,h,g):e.prototype&&e.prototype.isPureReactComponent?!Fr(i,s)||!Fr(c,h):!0}function Fm(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function ss(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=N({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}function Km(t){Au(t)}function Xm(t){console.error(t)}function Zm(t){Au(t)}function Fu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Jm(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,e,i){return i=ea(i),i.tag=3,i.payload={element:null},i.callback=function(){Fu(t,e)},i}function $m(t){return t=ea(t),t.tag=3,t}function Wm(t,e,i,s){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;t.payload=function(){return c(h)},t.callback=function(){Jm(e,i,s)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jm(e,i,s),typeof c!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function uv(t,e,i,s,c){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&Ls(e,i,c,!0),i=mn.current,i!==null){switch(i.tag){case 31:case 13:return Nn===null?so():i.alternate===null&&ue===0&&(ue=3),i.flags&=-257,i.flags|=65536,i.lanes=c,s===Iu?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),Dh(t,s,c)),!1;case 22:return i.flags|=65536,s===Iu?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),Dh(t,s,c)),!1}throw Error(r(435,i.tag))}return Dh(t,s,c),so(),!1}if(Dt)return e=mn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,s!==Ac&&(t=Error(r(422),{cause:s}),Zr(Rn(t,i)))):(s!==Ac&&(e=Error(r(423),{cause:s}),Zr(Rn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,s=Rn(s,i),c=sh(t.stateNode,s,c),zc(t,c),ue!==4&&(ue=2)),!1;var h=Error(r(520),{cause:s});if(h=Rn(h,i),gl===null?gl=[h]:gl.push(h),ue!==4&&(ue=2),e===null)return!0;s=Rn(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=sh(i.stateNode,s,t),zc(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ua===null||!ua.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=$m(c),Wm(c,t,i,s),zc(i,c),!1}i=i.return}while(i!==null);return!1}var rh=Error(r(461)),Se=!1;function He(t,e,i,s){e.child=t===null?im(e,null,i,s):is(e,t.child,i,s)}function tg(t,e,i,s,c){i=i.render;var h=e.ref;if("ref"in s){var g={};for(var E in s)E!=="ref"&&(g[E]=s[E])}else g=s;return Wa(e),s=qc(t,e,i,g,h,c),E=Hc(),t!==null&&!Se?(Pc(t,e,c),Ci(t,e,c)):(Dt&&E&&Sc(e),e.flags|=1,He(t,e,s,c),e.child)}function eg(t,e,i,s,c){if(t===null){var h=i.type;return typeof h=="function"&&!vc(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,ng(t,e,h,s,c)):(t=Cu(i.type,null,s,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!mh(t,c)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:Fr,i(g,s)&&t.ref===e.ref)return Ci(t,e,c)}return e.flags|=1,t=Si(h,s),t.ref=e.ref,t.return=e,e.child=t}function ng(t,e,i,s,c){if(t!==null){var h=t.memoizedProps;if(Fr(h,s)&&t.ref===e.ref)if(Se=!1,e.pendingProps=s=h,mh(t,c))(t.flags&131072)!==0&&(Se=!0);else return e.lanes=t.lanes,Ci(t,e,c)}return lh(t,e,i,s,c)}function ig(t,e,i,s){var c=s.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(s=e.child=t.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~h}else s=0,e.child=null;return ag(t,e,h,i,s)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(e,h!==null?h.cachePool:null),h!==null?rm(e,h):Uc(),lm(e);else return s=e.lanes=536870912,ag(t,e,h!==null?h.baseLanes|i:i,i,s)}else h!==null?(Vu(e,h.cachePool),rm(e,h),aa(),e.memoizedState=null):(t!==null&&Vu(e,null),Uc(),aa());return He(t,e,c,i),e.child}function ul(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ag(t,e,i,s,c){var h=Oc();return h=h===null?null:{parent:Ee._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&Vu(e,null),Uc(),lm(e),t!==null&&Ls(t,e,s,!0),e.childLanes=c,null}function Ku(t,e){return e=Zu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function sg(t,e,i){return is(e,t.child,null,i),t=Ku(e,e.pendingProps),t.flags|=2,gn(e),e.memoizedState=null,t}function ov(t,e,i){var s=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Dt){if(s.mode==="hidden")return t=Ku(e,s),e.lanes=536870912,ul(null,t);if(Bc(e),(t=Wt)?(t=yp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:ui,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},i=Hd(t),i.return=e,e.child=i,ke=e,Wt=null)):t=null,t===null)throw $i(e);return e.lanes=536870912,null}return Ku(e,s)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(Bc(e),c)if(e.flags&256)e.flags&=-257,e=sg(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(Se||Ls(t,e,i,!1),c=(i&t.childLanes)!==0,Se||c){if(s=$t,s!==null&&(g=Nr(s,i),g!==0&&g!==h.retryLane))throw h.retryLane=g,Xa(t,g),un(s,t,g),rh;so(),e=sg(t,e,i)}else t=h.treeContext,Wt=Dn(g.nextSibling),ke=e,Dt=!0,Ji=null,Cn=!1,t!==null&&Qd(e,t),e=Ku(e,s),e.flags|=4096;return e}return t=Si(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Xu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function lh(t,e,i,s,c){return Wa(e),i=qc(t,e,i,s,void 0,c),s=Hc(),t!==null&&!Se?(Pc(t,e,c),Ci(t,e,c)):(Dt&&s&&Sc(e),e.flags|=1,He(t,e,i,c),e.child)}function rg(t,e,i,s,c,h){return Wa(e),e.updateQueue=null,i=om(e,s,i,c),um(t),s=Hc(),t!==null&&!Se?(Pc(t,e,h),Ci(t,e,h)):(Dt&&s&&Sc(e),e.flags|=1,He(t,e,i,h),e.child)}function lg(t,e,i,s,c){if(Wa(e),e.stateNode===null){var h=Is,g=i.contextType;typeof g=="object"&&g!==null&&(h=qe(g)),h=new i(s,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ah,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=s,h.state=e.memoizedState,h.refs={},Mc(e),g=i.contextType,h.context=typeof g=="object"&&g!==null?qe(g):Is,h.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ih(e,i,g,s),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&ah.enqueueReplaceState(h,h.state,null),il(e,s,h,c),nl(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,w=ss(i,E);h.props=w;var B=h.context,P=i.contextType;g=Is,typeof P=="object"&&P!==null&&(g=qe(P));var F=i.getDerivedStateFromProps;P=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&Fm(e,h,s,g),ta=!1;var k=e.memoizedState;h.state=k,il(e,s,h,c),nl(),B=e.memoizedState,E||k!==B||ta?(typeof F=="function"&&(ih(e,i,F,s),B=e.memoizedState),(w=ta||Ym(e,i,w,s,k,B,g))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=B),h.props=s,h.state=B,h.context=g,s=w):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{h=e.stateNode,Ic(t,e),g=e.memoizedProps,P=ss(i,g),h.props=P,F=e.pendingProps,k=h.context,B=i.contextType,w=Is,typeof B=="object"&&B!==null&&(w=qe(B)),E=i.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==F||k!==w)&&Fm(e,h,s,w),ta=!1,k=e.memoizedState,h.state=k,il(e,s,h,c),nl();var H=e.memoizedState;g!==F||k!==H||ta||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(ih(e,i,E,s),H=e.memoizedState),(P=ta||Ym(e,i,P,s,k,H,w)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,H,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,H,w)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=H),h.props=s,h.state=H,h.context=w,s=P):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),s=!1)}return h=s,Xu(t,e),s=(e.flags&128)!==0,h||s?(h=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&s?(e.child=is(e,t.child,null,c),e.child=is(e,null,i,c)):He(t,e,i,c),e.memoizedState=h.state,t=e.child):t=Ci(t,e,c),t}function ug(t,e,i,s){return Ja(),e.flags|=256,He(t,e,i,s),e.child}var uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oh(t){return{baseLanes:t,cachePool:Jd()}}function ch(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=yn),t}function og(t,e,i){var s=e.pendingProps,c=!1,h=(e.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(Dt){if(c?ia(e):aa(),(t=Wt)?(t=yp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Zi!==null?{id:ui,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},i=Hd(t),i.return=e,e.child=i,ke=e,Wt=null)):t=null,t===null)throw $i(e);return Yh(t)?e.lanes=32:e.lanes=536870912,null}var E=s.children;return s=s.fallback,c?(aa(),c=e.mode,E=Zu({mode:"hidden",children:E},c),s=Za(s,c,i,null),E.return=e,s.return=e,E.sibling=s,e.child=E,s=e.child,s.memoizedState=oh(i),s.childLanes=ch(t,g,i),e.memoizedState=uh,ul(null,s)):(ia(e),hh(e,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(h)e.flags&256?(ia(e),e.flags&=-257,e=fh(t,e,i)):e.memoizedState!==null?(aa(),e.child=t.child,e.flags|=128,e=null):(aa(),E=s.fallback,c=e.mode,s=Zu({mode:"visible",children:s.children},c),E=Za(E,c,i,null),E.flags|=2,s.return=e,E.return=e,s.sibling=E,e.child=s,is(e,t.child,null,i),s=e.child,s.memoizedState=oh(i),s.childLanes=ch(t,g,i),e.memoizedState=uh,e=ul(null,s));else if(ia(e),Yh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,s=Error(r(419)),s.stack="",s.digest=g,Zr({value:s,source:null,stack:null}),e=fh(t,e,i)}else if(Se||Ls(t,e,i,!1),g=(i&t.childLanes)!==0,Se||g){if(g=$t,g!==null&&(s=Nr(g,i),s!==0&&s!==w.retryLane))throw w.retryLane=s,Xa(t,s),un(g,t,s),rh;Qh(E)||so(),e=fh(t,e,i)}else Qh(E)?(e.flags|=192,e.child=t.child,e=null):(t=w.treeContext,Wt=Dn(E.nextSibling),ke=e,Dt=!0,Ji=null,Cn=!1,t!==null&&Qd(e,t),e=hh(e,s.children),e.flags|=4096);return e}return c?(aa(),E=s.fallback,c=e.mode,w=t.child,B=w.sibling,s=Si(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Si(B,E):(E=Za(E,c,i,null),E.flags|=2),E.return=e,s.return=e,s.sibling=E,e.child=s,ul(null,s),s=e.child,E=t.child.memoizedState,E===null?E=oh(i):(c=E.cachePool,c!==null?(w=Ee._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Jd(),E={baseLanes:E.baseLanes|i,cachePool:c}),s.memoizedState=E,s.childLanes=ch(t,g,i),e.memoizedState=uh,ul(t.child,s)):(ia(e),i=t.child,t=i.sibling,i=Si(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function hh(t,e){return e=Zu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Zu(t,e){return t=dn(22,t,null,e),t.lanes=0,t}function fh(t,e,i){return is(e,t.child,null,i),t=hh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cg(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),xc(t.return,e,i)}function dh(t,e,i,s,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c,treeForkCount:h}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=i,g.tailMode=c,g.treeForkCount=h)}function hg(t,e,i){var s=e.pendingProps,c=s.revealOrder,h=s.tail;s=s.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,e.flags|=128):g&=1,nt(he,g),He(t,e,s,i),s=Dt?Xr:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,i,e);else if(t.tag===19)cg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Lu(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),dh(e,!1,c,i,h,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Lu(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}dh(e,!0,i,null,h,s);break;case"together":dh(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ci(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),la|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Ls(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=Si(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Si(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function mh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function cv(t,e,i){switch(e.tag){case 3:Ne(e,e.stateNode.containerInfo),Wi(e,Ee,t.memoizedState.cache),Ja();break;case 27:case 5:Oa(e);break;case 4:Ne(e,e.stateNode.containerInfo);break;case 10:Wi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Bc(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ia(e),e.flags|=128,null):(i&e.child.childLanes)!==0?og(t,e,i):(ia(e),t=Ci(t,e,i),t!==null?t.sibling:null);ia(e);break;case 19:var c=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(Ls(t,e,i,!1),s=(i&e.childLanes)!==0),c){if(s)return hg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(he,he.current),s)break;return null;case 22:return e.lanes=0,ig(t,e,i,e.pendingProps);case 24:Wi(e,Ee,t.memoizedState.cache)}return Ci(t,e,i)}function fg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Se=!0;else{if(!mh(t,i)&&(e.flags&128)===0)return Se=!1,cv(t,e,i);Se=(t.flags&131072)!==0}else Se=!1,Dt&&(e.flags&1048576)!==0&&Gd(e,Xr,e.index);switch(e.lanes=0,e.tag){case 16:t:{var s=e.pendingProps;if(t=es(e.elementType),e.type=t,typeof t=="function")vc(t)?(s=ss(t,s),e.tag=1,e=lg(null,e,t,s,i)):(e.tag=0,e=lh(null,e,t,s,i));else{if(t!=null){var c=t.$$typeof;if(c===Tt){e.tag=11,e=tg(null,e,t,s,i);break t}else if(c===C){e.tag=14,e=eg(null,e,t,s,i);break t}}throw e=ee(t)||t,Error(r(306,e,""))}}return e;case 0:return lh(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,c=ss(s,e.pendingProps),lg(t,e,s,c,i);case 3:t:{if(Ne(e,e.stateNode.containerInfo),t===null)throw Error(r(387));s=e.pendingProps;var h=e.memoizedState;c=h.element,Ic(t,e),il(e,s,null,i);var g=e.memoizedState;if(s=g.cache,Wi(e,Ee,s),s!==h.cache&&Cc(e,[Ee],i,!0),nl(),s=g.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=ug(t,e,s,i);break t}else if(s!==c){c=Rn(Error(r(424)),e),Zr(c),e=ug(t,e,s,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Dn(t.firstChild),ke=e,Dt=!0,Ji=null,Cn=!0,i=im(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ja(),s===c){e=Ci(t,e,i);break t}He(t,e,s,i)}e=e.child}return e;case 26:return Xu(t,e),t===null?(i=bp(e.type,null,e.pendingProps,null))?e.memoizedState=i:Dt||(i=e.type,t=e.pendingProps,s=fo(bt.current).createElement(i),s[ye]=e,s[Ie]=t,Pe(s,i,t),_e(s),e.stateNode=s):e.memoizedState=bp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Oa(e),t===null&&Dt&&(s=e.stateNode=Ep(e.type,e.pendingProps,bt.current),ke=e,Cn=!0,c=Wt,fa(e.type)?(Fh=c,Wt=Dn(s.firstChild)):Wt=c),He(t,e,e.pendingProps.children,i),Xu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Dt&&((c=s=Wt)&&(s=kv(s,e.type,e.pendingProps,Cn),s!==null?(e.stateNode=s,ke=e,Wt=Dn(s.firstChild),Cn=!1,c=!0):c=!1),c||$i(e)),Oa(e),c=e.type,h=e.pendingProps,g=t!==null?t.memoizedProps:null,s=h.children,Hh(c,h)?s=null:g!==null&&Hh(c,g)&&(e.flags|=32),e.memoizedState!==null&&(c=qc(t,e,ev,null,null,i),bl._currentValue=c),Xu(t,e),He(t,e,s,i),e.child;case 6:return t===null&&Dt&&((t=i=Wt)&&(i=qv(i,e.pendingProps,Cn),i!==null?(e.stateNode=i,ke=e,Wt=null,t=!0):t=!1),t||$i(e)),null;case 13:return og(t,e,i);case 4:return Ne(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=is(e,null,s,i):He(t,e,s,i),e.child;case 11:return tg(t,e,e.type,e.pendingProps,i);case 7:return He(t,e,e.pendingProps,i),e.child;case 8:return He(t,e,e.pendingProps.children,i),e.child;case 12:return He(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,Wi(e,e.type,s.value),He(t,e,s.children,i),e.child;case 9:return c=e.type._context,s=e.pendingProps.children,Wa(e),c=qe(c),s=s(c),e.flags|=1,He(t,e,s,i),e.child;case 14:return eg(t,e,e.type,e.pendingProps,i);case 15:return ng(t,e,e.type,e.pendingProps,i);case 19:return hg(t,e,i);case 31:return ov(t,e,i);case 22:return ig(t,e,i,e.pendingProps);case 24:return Wa(e),s=qe(Ee),t===null?(c=Oc(),c===null&&(c=$t,h=Nc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),e.memoizedState={parent:s,cache:c},Mc(e),Wi(e,Ee,c)):((t.lanes&i)!==0&&(Ic(t,e),il(e,null,null,i),nl()),c=t.memoizedState,h=e.memoizedState,c.parent!==s?(c={parent:s,cache:s},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Wi(e,Ee,s)):(s=h.cache,Wi(e,Ee,s),s!==c.cache&&Cc(e,[Ee],i,!0))),He(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ni(t){t.flags|=4}function gh(t,e,i,s,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Bg())t.flags|=8192;else throw ns=Iu,Vc}else t.flags&=-16777217}function dg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(e))if(Bg())t.flags|=8192;else throw ns=Iu,Vc}function Ju(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?iu():536870912,t.lanes|=e,Zs|=e)}function ol(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function te(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function hv(t,e,i){var s=e.pendingProps;switch(bc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(e),null;case 1:return te(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Ri(Ee),ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Us(e)?Ni(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Rc())),te(e),null;case 26:var c=e.type,h=e.memoizedState;return t===null?(Ni(e),h!==null?(te(e),dg(e,h)):(te(e),gh(e,c,null,s,i))):h?h!==t.memoizedState?(Ni(e),te(e),dg(e,h)):(te(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ni(e),te(e),gh(e,c,t,s,i)),null;case 27:if(gs(e),i=bt.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ni(e);else{if(!s){if(e.stateNode===null)throw Error(r(166));return te(e),null}t=it.current,Us(e)?Yd(e):(t=Ep(c,s,i),e.stateNode=t,Ni(e))}return te(e),null;case 5:if(gs(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ni(e);else{if(!s){if(e.stateNode===null)throw Error(r(166));return te(e),null}if(h=it.current,Us(e))Yd(e);else{var g=fo(bt.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?g.createElement(c,{is:s.is}):g.createElement(c)}}h[ye]=e,h[Ie]=s;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=h;t:switch(Pe(h,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ni(e)}}return te(e),gh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ni(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(r(166));if(t=bt.current,Us(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,c=ke,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}t[ye]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||op(t.nodeValue,i)),t||$i(e,!0)}else t=fo(t).createTextNode(s),t[ye]=e,e.stateNode=t}return te(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(s=Us(e),i!==null){if(t===null){if(!s)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=e}else Ja(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;te(e),t=!1}else i=Rc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(gn(e),e):(gn(e),null);if((e.flags&128)!==0)throw Error(r(558))}return te(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Us(e),s!==null&&s.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=e}else Ja(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;te(e),c=!1}else c=Rc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(gn(e),e):(gn(e),null)}return gn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=s!==null,t=t!==null&&t.memoizedState!==null,i&&(s=e.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Ju(e,e.updateQueue),te(e),null);case 4:return ne(),t===null&&Uh(e.stateNode.containerInfo),te(e),null;case 10:return Ri(e.type),te(e),null;case 19:if(K(he),s=e.memoizedState,s===null)return te(e),null;if(c=(e.flags&128)!==0,h=s.rendering,h===null)if(c)ol(s,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=Lu(t),h!==null){for(e.flags|=128,ol(s,!1),t=h.updateQueue,e.updateQueue=t,Ju(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)qd(i,t),i=i.sibling;return nt(he,he.current&1|2),Dt&&bi(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ze()>no&&(e.flags|=128,c=!0,ol(s,!1),e.lanes=4194304)}else{if(!c)if(t=Lu(h),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,Ju(e,t),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Dt)return te(e),null}else 2*Ze()-s.renderingStartTime>no&&i!==536870912&&(e.flags|=128,c=!0,ol(s,!1),e.lanes=4194304);s.isBackwards?(h.sibling=e.child,e.child=h):(t=s.last,t!==null?t.sibling=h:e.child=h,s.last=h)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,i=he.current,nt(he,c?i&1|2:i&1),Dt&&bi(e,s.treeForkCount),t):(te(e),null);case 22:case 23:return gn(e),Lc(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(te(e),e.subtreeFlags&6&&(e.flags|=8192)):te(e),i=e.updateQueue,i!==null&&Ju(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&K(ts),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ri(Ee),te(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function fv(t,e){switch(bc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(Ee),ne(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return gs(e),null;case 31:if(e.memoizedState!==null){if(gn(e),e.alternate===null)throw Error(r(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(he),null;case 4:return ne(),null;case 10:return Ri(e.type),null;case 22:case 23:return gn(e),Lc(),t!==null&&K(ts),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ri(Ee),null;case 25:return null;default:return null}}function mg(t,e){switch(bc(e),e.tag){case 3:Ri(Ee),ne();break;case 26:case 27:case 5:gs(e);break;case 4:ne();break;case 31:e.memoizedState!==null&&gn(e);break;case 13:gn(e);break;case 19:K(he);break;case 10:Ri(e.type);break;case 22:case 23:gn(e),Lc(),t!==null&&K(ts);break;case 24:Ri(Ee)}}function cl(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var c=s.next;i=c;do{if((i.tag&t)===t){s=void 0;var h=i.create,g=i.inst;s=h(),g.destroy=s}i=i.next}while(i!==c)}}catch(E){Ft(e,e.return,E)}}function sa(t,e,i){try{var s=e.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&t)===t){var g=s.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=e;var w=i,B=E;try{B()}catch(P){Ft(c,w,P)}}}s=s.next}while(s!==h)}}catch(P){Ft(e,e.return,P)}}function gg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{sm(e,i)}catch(s){Ft(t,t.return,s)}}}function pg(t,e,i){i.props=ss(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Ft(t,e,s)}}function hl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(c){Ft(t,e,c)}}function ci(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(c){Ft(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Ft(t,e,c)}else i.current=null}function yg(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(c){Ft(t,t.return,c)}}function ph(t,e,i){try{var s=t.stateNode;Iv(s,t.type,i,e),s[Ie]=e}catch(c){Ft(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fa(t.type)||t.tag===4}function yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=jn));else if(s!==4&&(s===27&&fa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(_h(t,e,i),t=t.sibling;t!==null;)_h(t,e,i),t=t.sibling}function $u(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&fa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for($u(t,e,i),t=t.sibling;t!==null;)$u(t,e,i),t=t.sibling}function vg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Pe(e,s,i),e[ye]=t,e[Ie]=i}catch(h){Ft(t,t.return,h)}}var Di=!1,be=!1,vh=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,je=null;function dv(t,e){if(t=t.containerInfo,kh=Eo,t=Vd(t),fc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var g=0,E=-1,w=-1,B=0,P=0,F=t,k=null;e:for(;;){for(var H;F!==i||c!==0&&F.nodeType!==3||(E=g+c),F!==h||s!==0&&F.nodeType!==3||(w=g+s),F.nodeType===3&&(g+=F.nodeValue.length),(H=F.firstChild)!==null;)k=F,F=H;for(;;){if(F===t)break e;if(k===i&&++B===c&&(E=g),k===h&&++P===s&&(w=g),(H=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=H}i=E===-1||w===-1?null:{start:E,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(qh={focusedElem:t,selectionRange:i},Eo=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){switch(e=je,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)c=t[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,c=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var st=ss(i.type,c);t=s.getSnapshotBeforeUpdate(st,h),s.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Ft(i,i.return,ht)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Gh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function Tg(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Vi(t,i),s&4&&cl(5,i);break;case 1:if(Vi(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){Ft(i,i.return,g)}else{var c=ss(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(i,i.return,g)}}s&64&&gg(i),s&512&&hl(i,i.return);break;case 3:if(Vi(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{sm(t,e)}catch(g){Ft(i,i.return,g)}}break;case 27:e===null&&s&4&&vg(i);case 26:case 5:Vi(t,i),e===null&&s&4&&yg(i),s&512&&hl(i,i.return);break;case 12:Vi(t,i);break;case 31:Vi(t,i),s&4&&Ag(t,i);break;case 13:Vi(t,i),s&4&&Rg(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Sv.bind(null,i),Hv(t,i))));break;case 22:if(s=i.memoizedState!==null||Di,!s){e=e!==null&&e.memoizedState!==null||be,c=Di;var h=be;Di=s,(be=e)&&!h?Mi(t,i,(i.subtreeFlags&8772)!==0):Vi(t,i),Di=c,be=h}break;case 30:break;default:Vi(t,i)}}function Sg(t){var e=t.alternate;e!==null&&(t.alternate=null,Sg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Es(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,an=!1;function Oi(t,e,i){for(i=i.child;i!==null;)bg(t,e,i),i=i.sibling}function bg(t,e,i){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Vn,i)}catch{}switch(i.tag){case 26:be||ci(i,e),Oi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:be||ci(i,e);var s=ae,c=an;fa(i.type)&&(ae=i.stateNode,an=!1),Oi(t,e,i),El(i.stateNode),ae=s,an=c;break;case 5:be||ci(i,e);case 6:if(s=ae,c=an,ae=null,Oi(t,e,i),ae=s,an=c,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(i.stateNode)}catch(h){Ft(i,e,h)}else try{ae.removeChild(i.stateNode)}catch(h){Ft(i,e,h)}break;case 18:ae!==null&&(an?(t=ae,gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),ar(t)):gp(ae,i.stateNode));break;case 4:s=ae,c=an,ae=i.stateNode.containerInfo,an=!0,Oi(t,e,i),ae=s,an=c;break;case 0:case 11:case 14:case 15:sa(2,i,e),be||sa(4,i,e),Oi(t,e,i);break;case 1:be||(ci(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&pg(i,e,s)),Oi(t,e,i);break;case 21:Oi(t,e,i);break;case 22:be=(s=be)||i.memoizedState!==null,Oi(t,e,i),be=s;break;default:Oi(t,e,i)}}function Ag(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ar(t)}catch(i){Ft(e,e.return,i)}}}function Rg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ar(t)}catch(i){Ft(e,e.return,i)}}function mv(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Eg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Eg),e;default:throw Error(r(435,t.tag))}}function Wu(t,e){var i=mv(t);e.forEach(function(s){if(!i.has(s)){i.add(s);var c=bv.bind(null,t,s);s.then(c,c)}})}function sn(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s],h=t,g=e,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(fa(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(r(160));bg(h,g,c),ae=null,an=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)wg(e,t),e=e.sibling}var Hn=null;function wg(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(e,t),rn(t),s&4&&(sa(3,t,t.return),cl(3,t),sa(5,t,t.return));break;case 1:sn(e,t),rn(t),s&512&&(be||i===null||ci(i,i.return)),s&64&&Di&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var c=Hn;if(sn(e,t),rn(t),s&512&&(be||i===null||ci(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(s){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Zn]||h[ye]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(s),c.head.insertBefore(h,c.querySelector("head > title"))),Pe(h,s,i),h[ye]=t,_e(h),s=h;break t;case"link":var g=wp("link","href",c).get(s+(i.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(s),Pe(h,s,i),c.head.appendChild(h);break;case"meta":if(g=wp("meta","content",c).get(s+(i.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(E,1);break e}}h=c.createElement(s),Pe(h,s,i),c.head.appendChild(h);break;default:throw Error(r(468,s))}h[ye]=t,_e(h),s=h}t.stateNode=s}else xp(c,t.type,t.stateNode);else t.stateNode=Rp(c,s,t.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?xp(c,t.type,t.stateNode):Rp(c,s,t.memoizedProps)):s===null&&t.stateNode!==null&&ph(t,t.memoizedProps,i.memoizedProps)}break;case 27:sn(e,t),rn(t),s&512&&(be||i===null||ci(i,i.return)),i!==null&&s&4&&ph(t,t.memoizedProps,i.memoizedProps);break;case 5:if(sn(e,t),rn(t),s&512&&(be||i===null||ci(i,i.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(st){Ft(t,t.return,st)}}s&4&&t.stateNode!=null&&(c=t.memoizedProps,ph(t,c,i!==null?i.memoizedProps:c)),s&1024&&(vh=!0);break;case 6:if(sn(e,t),rn(t),s&4){if(t.stateNode===null)throw Error(r(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(st){Ft(t,t.return,st)}}break;case 3:if(po=null,c=Hn,Hn=mo(e.containerInfo),sn(e,t),Hn=c,rn(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ar(e.containerInfo)}catch(st){Ft(t,t.return,st)}vh&&(vh=!1,xg(t));break;case 4:s=Hn,Hn=mo(t.stateNode.containerInfo),sn(e,t),rn(t),Hn=s;break;case 12:sn(e,t),rn(t);break;case 31:sn(e,t),rn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Wu(t,s)));break;case 13:sn(e,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(eo=Ze()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Wu(t,s)));break;case 22:c=t.memoizedState!==null;var w=i!==null&&i.memoizedState!==null,B=Di,P=be;if(Di=B||c,be=P||w,sn(e,t),be=P,Di=B,rn(t),s&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||w||Di||be||rs(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){w=i=e;try{if(h=w.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(st){Ft(w,w.return,st)}}}else if(e.tag===6){if(i===null){w=e;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Ft(w,w.return,st)}}}else if(e.tag===18){if(i===null){w=e;try{var H=w.stateNode;c?pp(H,!0):pp(w.stateNode,!1)}catch(st){Ft(w,w.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Wu(t,i))));break;case 19:sn(e,t),rn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Wu(t,s)));break;case 30:break;case 21:break;default:sn(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(_g(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var c=i.stateNode,h=yh(t);$u(t,h,c);break;case 5:var g=i.stateNode;i.flags&32&&(nn(g,""),i.flags&=-33);var E=yh(t);$u(t,E,g);break;case 3:case 4:var w=i.stateNode.containerInfo,B=yh(t);_h(t,B,w);break;default:throw Error(r(161))}}catch(P){Ft(t,t.return,P)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;xg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Tg(t,e.alternate,e),e=e.sibling}function rs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:sa(4,e,e.return),rs(e);break;case 1:ci(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&pg(e,e.return,i),rs(e);break;case 27:El(e.stateNode);case 26:case 5:ci(e,e.return),rs(e);break;case 22:e.memoizedState===null&&rs(e);break;case 30:rs(e);break;default:rs(e)}t=t.sibling}}function Mi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,c=t,h=e,g=h.flags;switch(h.tag){case 0:case 11:case 15:Mi(c,h,i),cl(4,h);break;case 1:if(Mi(c,h,i),s=h,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ft(s,s.return,B)}if(s=h,c=s.updateQueue,c!==null){var E=s.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)am(w[c],E)}catch(B){Ft(s,s.return,B)}}i&&g&64&&gg(h),hl(h,h.return);break;case 27:vg(h);case 26:case 5:Mi(c,h,i),i&&s===null&&g&4&&yg(h),hl(h,h.return);break;case 12:Mi(c,h,i);break;case 31:Mi(c,h,i),i&&g&4&&Ag(c,h);break;case 13:Mi(c,h,i),i&&g&4&&Rg(c,h);break;case 22:h.memoizedState===null&&Mi(c,h,i),hl(h,h.return);break;case 30:break;default:Mi(c,h,i)}e=e.sibling}}function Eh(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Jr(i))}function Th(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jr(t))}function Pn(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(t,e,i,s),e=e.sibling}function Cg(t,e,i,s){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Pn(t,e,i,s),c&2048&&cl(9,e);break;case 1:Pn(t,e,i,s);break;case 3:Pn(t,e,i,s),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jr(t)));break;case 12:if(c&2048){Pn(t,e,i,s),t=e.stateNode;try{var h=e.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ft(e,e.return,w)}}else Pn(t,e,i,s);break;case 31:Pn(t,e,i,s);break;case 13:Pn(t,e,i,s);break;case 23:break;case 22:h=e.stateNode,g=e.alternate,e.memoizedState!==null?h._visibility&2?Pn(t,e,i,s):fl(t,e):h._visibility&2?Pn(t,e,i,s):(h._visibility|=2,Fs(t,e,i,s,(e.subtreeFlags&10256)!==0||!1)),c&2048&&Eh(g,e);break;case 24:Pn(t,e,i,s),c&2048&&Th(e.alternate,e);break;default:Pn(t,e,i,s)}}function Fs(t,e,i,s,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,g=e,E=i,w=s,B=g.flags;switch(g.tag){case 0:case 11:case 15:Fs(h,g,E,w,c),cl(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?Fs(h,g,E,w,c):fl(h,g):(P._visibility|=2,Fs(h,g,E,w,c)),c&&B&2048&&Eh(g.alternate,g);break;case 24:Fs(h,g,E,w,c),c&&B&2048&&Th(g.alternate,g);break;default:Fs(h,g,E,w,c)}e=e.sibling}}function fl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,c=s.flags;switch(s.tag){case 22:fl(i,s),c&2048&&Eh(s.alternate,s);break;case 24:fl(i,s),c&2048&&Th(s.alternate,s);break;default:fl(i,s)}e=e.sibling}}var dl=8192;function Ks(t,e,i){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Ng(t,e,i),t=t.sibling}function Ng(t,e,i){switch(t.tag){case 26:Ks(t,e,i),t.flags&dl&&t.memoizedState!==null&&t1(i,Hn,t.memoizedState,t.memoizedProps);break;case 5:Ks(t,e,i);break;case 3:case 4:var s=Hn;Hn=mo(t.stateNode.containerInfo),Ks(t,e,i),Hn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=dl,dl=16777216,Ks(t,e,i),dl=s):Ks(t,e,i));break;default:Ks(t,e,i)}}function Dg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ml(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];je=s,Vg(s,t)}Dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&sa(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,to(t)):ml(t);break;default:ml(t)}}function to(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];je=s,Vg(s,t)}Dg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:sa(8,e,e.return),to(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,to(e));break;default:to(e)}t=t.sibling}}function Vg(t,e){for(;je!==null;){var i=je;switch(i.tag){case 0:case 11:case 15:sa(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Jr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,je=s;else t:for(i=t;je!==null;){s=je;var c=s.sibling,h=s.return;if(Sg(s),s===i){je=null;break t}if(c!==null){c.return=h,je=c;break t}je=h}}}var gv={getCacheForType:function(t){var e=qe(Ee),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return qe(Ee).controller.signal}},pv=typeof WeakMap=="function"?WeakMap:Map,Pt=0,$t=null,wt=null,Ct=0,Yt=0,pn=null,ra=!1,Xs=!1,Sh=!1,Ii=0,ue=0,la=0,ls=0,bh=0,yn=0,Zs=0,gl=null,ln=null,Ah=!1,eo=0,Mg=0,no=1/0,io=null,ua=null,Oe=0,oa=null,Js=null,zi=0,Rh=0,wh=null,Ig=null,pl=0,xh=null;function _n(){return(Pt&2)!==0&&Ct!==0?Ct&-Ct:G.T!==null?Mh():au()}function zg(){if(yn===0)if((Ct&536870912)===0||Dt){var t=Ia;Ia<<=1,(Ia&3932160)===0&&(Ia=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function un(t,e,i){(t===$t&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&($s(t,0),ca(t,Ct,yn,!1)),za(t,i),((Pt&2)===0||t!==$t)&&(t===$t&&((Pt&2)===0&&(ls|=i),ue===4&&ca(t,Ct,yn,!1)),hi(t))}function jg(t,e,i){if((Pt&6)!==0)throw Error(r(327));var s=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Mn(t,e),c=s?vv(t,e):Nh(t,e,!0),h=s;do{if(c===0){Xs&&!s&&ca(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!yv(i)){c=Nh(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var E=t;c=gl;var w=E.current.memoizedState.isDehydrated;if(w&&($s(E,g).flags|=256),g=Nh(E,g,!1),g!==2){if(Sh&&!w){E.errorRecoveryDisabledLanes|=h,ls|=h,c=4;break t}h=ln,ln=c,h!==null&&(ln===null?ln=h:ln.push.apply(ln,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){$s(t,0),ca(t,e,0,!0);break}t:{switch(s=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:ca(s,e,yn,!ra);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=eo+300-Ze(),10<c)){if(ca(s,e,yn,!ra),Fn(s,0,!0)!==0)break t;zi=e,s.timeoutHandle=dp(Ug.bind(null,s,i,ln,io,Ah,e,yn,ls,Zs,ra,h,"Throttled",-0,0),c);break t}Ug(s,i,ln,io,Ah,e,yn,ls,Zs,ra,h,null,-0,0)}}break}while(!0);hi(t)}function Ug(t,e,i,s,c,h,g,E,w,B,P,F,k,H){if(t.timeoutHandle=-1,F=e.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Ng(e,h,F);var st=(h&62914560)===h?eo-Ze():(h&4194048)===h?Mg-Ze():0;if(st=e1(F,st),st!==null){zi=h,t.cancelPendingCommit=st(Qg.bind(null,t,e,h,i,s,c,g,E,w,P,F,null,k,H)),ca(t,h,g,!B);return}}Qg(t,e,h,i,s,c,g,E,w)}function yv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var c=i[s],h=c.getSnapshot;c=c.value;try{if(!fn(h(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ca(t,e,i,s){e&=~bh,e&=~ls,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var c=e;0<c;){var h=31-oe(c),g=1<<h;s[h]=-1,c&=~g}i!==0&&ja(t,i,e)}function ao(){return(Pt&6)===0?(yl(0),!1):!0}function Ch(){if(wt!==null){if(Yt===0)var t=wt.return;else t=wt,Ai=$a=null,Gc(t),Hs=null,Wr=0,t=wt;for(;t!==null;)mg(t.alternate,t),t=t.return;wt=null}}function $s(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Uv(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),zi=0,Ch(),$t=t,wt=i=Si(t.current,null),Ct=e,Yt=0,pn=null,ra=!1,Xs=Mn(t,e),Sh=!1,Zs=yn=bh=ls=la=ue=0,ln=gl=null,Ah=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var c=31-oe(s),h=1<<c;e|=t[c],s&=~h}return Ii=e,Ru(),i}function Lg(t,e){Et=null,G.H=ll,e===qs||e===Mu?(e=tm(),Yt=3):e===Vc?(e=tm(),Yt=4):Yt=e===rh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pn=e,wt===null&&(ue=1,Fu(t,Rn(e,t.current)))}function Bg(){var t=mn.current;return t===null?!0:(Ct&4194048)===Ct?Nn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?t===Nn:!1}function kg(){var t=G.H;return G.H=ll,t===null?ll:t}function qg(){var t=G.A;return G.A=gv,t}function so(){ue=4,ra||(Ct&4194048)!==Ct&&mn.current!==null||(Xs=!0),(la&134217727)===0&&(ls&134217727)===0||$t===null||ca($t,Ct,yn,!1)}function Nh(t,e,i){var s=Pt;Pt|=2;var c=kg(),h=qg();($t!==t||Ct!==e)&&(io=null,$s(t,e)),e=!1;var g=ue;t:do try{if(Yt!==0&&wt!==null){var E=wt,w=pn;switch(Yt){case 8:Ch(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(e=!0);var B=Yt;if(Yt=0,pn=null,Ws(t,E,w,B),i&&Xs){g=0;break t}break;default:B=Yt,Yt=0,pn=null,Ws(t,E,w,B)}}_v(),g=ue;break}catch(P){Lg(t,P)}while(!0);return e&&t.shellSuspendCounter++,Ai=$a=null,Pt=s,G.H=c,G.A=h,wt===null&&($t=null,Ct=0,Ru()),g}function _v(){for(;wt!==null;)Hg(wt)}function vv(t,e){var i=Pt;Pt|=2;var s=kg(),c=qg();$t!==t||Ct!==e?(io=null,no=Ze()+500,$s(t,e)):Xs=Mn(t,e);t:do try{if(Yt!==0&&wt!==null){e=wt;var h=pn;e:switch(Yt){case 1:Yt=0,pn=null,Ws(t,e,h,1);break;case 2:case 9:if($d(h)){Yt=0,pn=null,Pg(e);break}e=function(){Yt!==2&&Yt!==9||$t!==t||(Yt=7),hi(t)},h.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:$d(h)?(Yt=0,pn=null,Pg(e)):(Yt=0,pn=null,Ws(t,e,h,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?Cp(g):E.stateNode.complete){Yt=0,pn=null;var w=E.sibling;if(w!==null)wt=w;else{var B=E.return;B!==null?(wt=B,ro(B)):wt=null}break e}}Yt=0,pn=null,Ws(t,e,h,5);break;case 6:Yt=0,pn=null,Ws(t,e,h,6);break;case 8:Ch(),ue=6;break t;default:throw Error(r(462))}}Ev();break}catch(P){Lg(t,P)}while(!0);return Ai=$a=null,G.H=s,G.A=c,Pt=i,wt!==null?0:($t=null,Ct=0,Ru(),ue)}function Ev(){for(;wt!==null&&!sc();)Hg(wt)}function Hg(t){var e=fg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?ro(t):wt=e}function Pg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=rg(i,e,e.pendingProps,e.type,void 0,Ct);break;case 11:e=rg(i,e,e.pendingProps,e.type.render,e.ref,Ct);break;case 5:Gc(e);default:mg(i,e),e=wt=qd(e,Ii),e=fg(i,e,Ii)}t.memoizedProps=t.pendingProps,e===null?ro(t):wt=e}function Ws(t,e,i,s){Ai=$a=null,Gc(e),Hs=null,Wr=0;var c=e.return;try{if(uv(t,c,e,i,Ct)){ue=1,Fu(t,Rn(i,t.current)),wt=null;return}}catch(h){if(c!==null)throw wt=c,h;ue=1,Fu(t,Rn(i,t.current)),wt=null;return}e.flags&32768?(Dt||s===1?t=!0:Xs||(Ct&536870912)!==0?t=!1:(ra=t=!0,(s===2||s===9||s===3||s===6)&&(s=mn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Gg(e,t)):ro(e)}function ro(t){var e=t;do{if((e.flags&32768)!==0){Gg(e,ra);return}t=e.return;var i=hv(e.alternate,e,Ii);if(i!==null){wt=i;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);ue===0&&(ue=5)}function Gg(t,e){do{var i=fv(t.alternate,t);if(i!==null){i.flags&=32767,wt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){wt=t;return}wt=t=i}while(t!==null);ue=6,wt=null}function Qg(t,e,i,s,c,h,g,E,w){t.cancelPendingCommit=null;do lo();while(Oe!==0);if((Pt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(h=e.lanes|e.childLanes,h|=yc,uc(t,i,h,g,E,w),t===$t&&(wt=$t=null,Ct=0),Js=e,oa=t,zi=i,Rh=h,wh=c,Ig=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Av(ki,function(){return Zg(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{dv(t,e,i)}finally{Pt=g,et.p=c,G.T=s}}Oe=1,Yg(),Fg(),Kg()}}function Yg(){if(Oe===1){Oe=0;var t=oa,e=Js,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var s=et.p;et.p=2;var c=Pt;Pt|=4;try{wg(e,t);var h=qh,g=Vd(t.containerInfo),E=h.focusedElem,w=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&Od(E.ownerDocument.documentElement,E)){if(w!==null&&fc(E)){var B=w.start,P=w.end;if(P===void 0&&(P=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(P,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var H=k.getSelection(),st=E.textContent.length,ht=Math.min(w.start,st),Jt=w.end===void 0?ht:Math.min(w.end,st);!H.extend&&ht>Jt&&(g=Jt,Jt=ht,ht=g);var z=Dd(E,ht),O=Dd(E,Jt);if(z&&O&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=F.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),ht>Jt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(F=[],H=E;H=H.parentNode;)H.nodeType===1&&F.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Eo=!!kh,qh=kh=null}finally{Pt=c,et.p=s,G.T=i}}t.current=e,Oe=2}}function Fg(){if(Oe===2){Oe=0;var t=oa,e=Js,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var s=et.p;et.p=2;var c=Pt;Pt|=4;try{Tg(t,e.alternate,e)}finally{Pt=c,et.p=s,G.T=i}}Oe=3}}function Kg(){if(Oe===4||Oe===3){Oe=0,Jl();var t=oa,e=Js,i=zi,s=Ig;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Oe=5:(Oe=0,Js=oa=null,Xg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ua=null),_i(i),e=e.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Vn,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=G.T,c=et.p,et.p=2,G.T=null;try{for(var h=t.onRecoverableError,g=0;g<s.length;g++){var E=s[g];h(E.value,{componentStack:E.stack})}}finally{G.T=e,et.p=c}}(zi&3)!==0&&lo(),hi(t),c=t.pendingLanes,(i&261930)!==0&&(c&42)!==0?t===xh?pl++:(pl=0,xh=t):pl=0,yl(0)}}function Xg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Jr(e)))}function lo(){return Yg(),Fg(),Kg(),Zg()}function Zg(){if(Oe!==5)return!1;var t=oa,e=Rh;Rh=0;var i=_i(zi),s=G.T,c=et.p;try{et.p=32>i?32:i,G.T=null,i=wh,wh=null;var h=oa,g=zi;if(Oe=0,Js=oa=null,zi=0,(Pt&6)!==0)throw Error(r(331));var E=Pt;if(Pt|=4,Og(h.current),Cg(h,h.current,g,i),Pt=E,yl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Vn,h)}catch{}return!0}finally{et.p=c,G.T=s,Xg(t,e)}}function Jg(t,e,i){e=Rn(i,e),e=sh(t.stateNode,e,2),t=na(t,e,2),t!==null&&(za(t,2),hi(t))}function Ft(t,e,i){if(t.tag===3)Jg(t,t,i);else for(;e!==null;){if(e.tag===3){Jg(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ua===null||!ua.has(s))){t=Rn(i,t),i=$m(2),s=na(e,i,2),s!==null&&(Wm(i,s,e,t),za(s,2),hi(s));break}}e=e.return}}function Dh(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new pv;var c=new Set;s.set(e,c)}else c=s.get(e),c===void 0&&(c=new Set,s.set(e,c));c.has(i)||(Sh=!0,c.add(i),t=Tv.bind(null,t,e,i),e.then(t,t))}function Tv(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,$t===t&&(Ct&i)===i&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>Ze()-eo?(Pt&2)===0&&$s(t,0):bh|=i,Zs===Ct&&(Zs=0)),hi(t)}function $g(t,e){e===0&&(e=iu()),t=Xa(t,e),t!==null&&(za(t,e),hi(t))}function Sv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),$g(t,i)}function bv(t,e){var i=0;switch(t.tag){case 31:case 13:var s=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(e),$g(t,i)}function Av(t,e){return De(t,e)}var uo=null,tr=null,Oh=!1,oo=!1,Vh=!1,ha=0;function hi(t){t!==tr&&t.next===null&&(tr===null?uo=tr=t:tr=tr.next=t),oo=!0,Oh||(Oh=!0,wv())}function yl(t,e){if(!Vh&&oo){Vh=!0;do for(var i=!1,s=uo;s!==null;){if(t!==0){var c=s.pendingLanes;if(c===0)var h=0;else{var g=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-oe(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,np(s,h))}else h=Ct,h=Fn(s,s===$t?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Mn(s,h)||(i=!0,np(s,h));s=s.next}while(i);Vh=!1}}function Rv(){Wg()}function Wg(){oo=Oh=!1;var t=0;ha!==0&&jv()&&(t=ha);for(var e=Ze(),i=null,s=uo;s!==null;){var c=s.next,h=tp(s,e);h===0?(s.next=null,i===null?uo=c:i.next=c,c===null&&(tr=i)):(i=s,(t!==0||(h&3)!==0)&&(oo=!0)),s=c}Oe!==0&&Oe!==5||yl(t),ha!==0&&(ha=0)}function tp(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-oe(h),E=1<<g,w=c[g];w===-1?((E&i)===0||(E&s)!==0)&&(c[g]=lc(E,e)):w<=e&&(t.expiredLanes|=E),h&=~E}if(e=$t,i=Ct,i=Fn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Bi(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Mn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&Bi(s),_i(i)){case 2:case 8:i=xr;break;case 32:i=ki;break;case 268435456:i=$l;break;default:i=ki}return s=ep.bind(null,t),i=De(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&Bi(s),t.callbackPriority=2,t.callbackNode=null,2}function ep(t,e){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(lo()&&t.callbackNode!==i)return null;var s=Ct;return s=Fn(t,t===$t?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(jg(t,s,e),tp(t,Ze()),t.callbackNode!=null&&t.callbackNode===i?ep.bind(null,t):null)}function np(t,e){if(lo())return null;jg(t,e,!0)}function wv(){Lv(function(){(Pt&6)!==0?De(wr,Rv):Wg()})}function Mh(){if(ha===0){var t=Bs;t===0&&(t=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),ha=t}return ha}function ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:As(""+t)}function ap(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function xv(t,e,i,s,c){if(e==="submit"&&i&&i.stateNode===c){var h=ip((c[Ie]||null).action),g=s.submitter;g&&(e=(e=g[Ie]||null)?ip(e.formAction):g.getAttribute("formAction"),e!==null&&(h=e,g=null));var E=new ai("action","action",null,s,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ha!==0){var w=g?ap(c,g):new FormData(c);Wc(i,{pending:!0,data:w,method:c.method,action:h},null,w)}}else typeof h=="function"&&(E.preventDefault(),w=g?ap(c,g):new FormData(c),Wc(i,{pending:!0,data:w,method:c.method,action:h},h,w))},currentTarget:c}]})}}for(var Ih=0;Ih<pc.length;Ih++){var zh=pc[Ih],Cv=zh.toLowerCase(),Nv=zh[0].toUpperCase()+zh.slice(1);qn(Cv,"on"+Nv)}qn(zd,"onAnimationEnd"),qn(jd,"onAnimationIteration"),qn(Ud,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Q_,"onTransitionRun"),qn(Y_,"onTransitionStart"),qn(F_,"onTransitionCancel"),qn(Ld,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function sp(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],c=s.event;s=s.listeners;t:{var h=void 0;if(e)for(var g=s.length-1;0<=g;g--){var E=s[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(P){Au(P)}c.currentTarget=null,h=w}else for(g=0;g<s.length;g++){if(E=s[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(P){Au(P)}c.currentTarget=null,h=w}}}}function xt(t,e){var i=e[vs];i===void 0&&(i=e[vs]=new Set);var s=t+"__bubble";i.has(s)||(rp(e,t,2,!1),i.add(s))}function jh(t,e,i){var s=0;e&&(s|=4),rp(i,t,s,e)}var co="_reactListening"+Math.random().toString(36).slice(2);function Uh(t){if(!t[co]){t[co]=!0,Dr.forEach(function(i){i!=="selectionchange"&&(Dv.has(i)||jh(i,!1,t),jh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[co]||(e[co]=!0,jh("selectionchange",!1,e))}}function rp(t,e,i,s){switch(zp(e)){case 2:var c=a1;break;case 8:c=s1;break;default:c=$h}i=c.bind(null,e,i,t),c=void 0,!qa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),s?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Lh(t,e,i,s,c){var h=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var E=s.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=s.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Jn(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){s=h=g;continue t}E=E.parentNode}}s=s.return}Yi(function(){var B=h,P=Tn(i),F=[];t:{var k=Bd.get(t);if(k!==void 0){var H=ai,st=t;switch(t){case"keypress":if(Pa(i)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":st="focus",H=Qa;break;case"focusout":st="blur",H=Qa;break;case"beforeblur":case"afterblur":H=Qa;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case zd:case jd:case Ud:H=mu;break;case Ld:H=T;break;case"scroll":case"scrollend":H=Hr;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ti;break;case"toggle":case"beforetoggle":H=vt}var ht=(e&4)!==0,Jt=!ht&&(t==="scroll"||t==="scrollend"),z=ht?k!==null?k+"Capture":null:k;ht=[];for(var O=B,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=Un(O,z),Q!=null&&ht.push(vl(O,Q,L))),Jt)break;O=O.return}0<ht.length&&(k=new H(k,st,null,i,P),F.push({event:k,listeners:ht}))}}if((e&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&i!==Br&&(st=i.relatedTarget||i.fromElement)&&(Jn(st)||st[Xn]))break t;if((H||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,H?(st=i.relatedTarget||i.toElement,H=B,st=st?Jn(st):null,st!==null&&(Jt=f(st),ht=st.tag,st!==Jt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(H=null,st=B),H!==st)){if(ht=Pr,Q="onMouseLeave",z="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Ti,Q="onPointerLeave",z="onPointerEnter",O="pointer"),Jt=H==null?k:cn(H),L=st==null?k:cn(st),k=new ht(Q,O+"leave",H,i,P),k.target=Jt,k.relatedTarget=L,Q=null,Jn(P)===B&&(ht=new ht(z,O+"enter",st,i,P),ht.target=L,ht.relatedTarget=Jt,Q=ht),Jt=Q,H&&st)e:{for(ht=Ov,z=H,O=st,L=0,Q=z;Q;Q=ht(Q))L++;Q=0;for(var ot=O;ot;ot=ht(ot))Q++;for(;0<L-Q;)z=ht(z),L--;for(;0<Q-L;)O=ht(O),Q--;for(;L--;){if(z===O||O!==null&&z===O.alternate){ht=z;break e}z=ht(z),O=ht(O)}ht=null}else ht=null;H!==null&&lp(F,k,H,ht,!1),st!==null&&Jt!==null&&lp(F,Jt,st,ht,!0)}}t:{if(k=B?cn(B):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var Bt=Ad;else if(Sd(k))if(Rd)Bt=H_;else{Bt=k_;var rt=B_}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&bs(B.elementType)&&(Bt=Ad):Bt=q_;if(Bt&&(Bt=Bt(t,B))){bd(F,Bt,i,P);break t}rt&&rt(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&jr(k,"number",k.value)}switch(rt=B?cn(B):window,t){case"focusin":(Sd(rt)||rt.contentEditable==="true")&&(Os=rt,dc=B,Kr=null);break;case"focusout":Kr=dc=Os=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Md(F,i,P);break;case"selectionchange":if(G_)break;case"keydown":case"keyup":Md(F,i,P)}var At;if(Ht)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Ds?Ya(t,i)&&(Nt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Nt="onCompositionStart");Nt&&(li&&i.locale!=="ko"&&(Ds||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ds&&(At=qr()):(ii=P,kr="value"in ii?ii.value:ii.textContent,Ds=!0)),rt=ho(B,Nt),0<rt.length&&(Nt=new ri(Nt,t,null,i,P),F.push({event:Nt,listeners:rt}),At?Nt.data=At:(At=Ns(i),At!==null&&(Nt.data=At)))),(At=bn?z_(t,i):j_(t,i))&&(Nt=ho(B,"onBeforeInput"),0<Nt.length&&(rt=new ri("onBeforeInput","beforeinput",null,i,P),F.push({event:rt,listeners:Nt}),rt.data=At)),xv(F,t,B,i,P)}sp(F,e)})}function vl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function ho(t,e){for(var i=e+"Capture",s=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Un(t,i),c!=null&&s.unshift(vl(t,c,h)),c=Un(t,e),c!=null&&s.push(vl(t,c,h))),t.tag===3)return s;t=t.return}return[]}function Ov(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lp(t,e,i,s,c){for(var h=e._reactName,g=[];i!==null&&i!==s;){var E=i,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===s)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Un(i,h),B!=null&&g.unshift(vl(i,B,w))):c||(B=Un(i,h),B!=null&&g.push(vl(i,B,w)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var Vv=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function up(t){return(typeof t=="string"?t:""+t).replace(Vv,`
`).replace(Mv,"")}function op(t,e){return e=up(e),up(t)===e}function Zt(t,e,i,s,c,h){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||nn(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&nn(t,""+s);break;case"className":hn(t,"class",s);break;case"tabIndex":hn(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,i,s);break;case"style":Lr(t,s,h);break;case"data":if(e!=="object"){hn(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=As(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Zt(t,e,"name",c.name,c,null),Zt(t,e,"formEncType",c.formEncType,c,null),Zt(t,e,"formMethod",c.formMethod,c,null),Zt(t,e,"formTarget",c.formTarget,c,null)):(Zt(t,e,"encType",c.encType,c,null),Zt(t,e,"method",c.method,c,null),Zt(t,e,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=As(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=jn);break;case"onScroll":s!=null&&xt("scroll",t);break;case"onScrollEnd":s!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=As(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Ts(t,"popover",s);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ts(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=hu.get(i)||i,Ts(t,i,s))}}function Bh(t,e,i,s,c,h){switch(i){case"style":Lr(t,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof s=="string"?nn(t,s):(typeof s=="number"||typeof s=="bigint")&&nn(t,""+s);break;case"onScroll":s!=null&&xt("scroll",t);break;case"onScrollEnd":s!=null&&xt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),h=t[Ie]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof s=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,c);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):Ts(t,i,s)}}}function Pe(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var s=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var g=i[h];if(g!=null)switch(h){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Zt(t,e,h,g,i,null)}}c&&Zt(t,e,"srcSet",i.srcSet,i,null),s&&Zt(t,e,"src",i.src,i,null);return;case"input":xt("invalid",t);var E=h=g=c=null,w=null,B=null;for(s in i)if(i.hasOwnProperty(s)){var P=i[s];if(P!=null)switch(s){case"name":c=P;break;case"type":g=P;break;case"checked":w=P;break;case"defaultChecked":B=P;break;case"value":h=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:Zt(t,e,s,P,i,null)}}uu(t,h,E,w,B,g,c,!1);return;case"select":xt("invalid",t),s=g=h=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":s=E;default:Zt(t,e,c,E,i,null)}e=h,i=g,t.multiple=!!s,e!=null?Hi(t,!!s,e,!1):i!=null&&Hi(t,!!s,i,!0);return;case"textarea":xt("invalid",t),h=c=s=null;for(g in i)if(i.hasOwnProperty(g)&&(E=i[g],E!=null))switch(g){case"value":s=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(t,e,g,E,i,null)}Pi(t,s,c,h);return;case"option":for(w in i)if(i.hasOwnProperty(w)&&(s=i[w],s!=null))switch(w){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Zt(t,e,w,s,i,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(s=0;s<_l.length;s++)xt(_l[s],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(s=i[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Zt(t,e,B,s,i,null)}return;default:if(bs(e)){for(P in i)i.hasOwnProperty(P)&&(s=i[P],s!==void 0&&Bh(t,e,P,s,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null&&Zt(t,e,E,s,i,null))}function Iv(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,w=null,B=null,P=null;for(H in i){var F=i[H];if(i.hasOwnProperty(H)&&F!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=F;default:s.hasOwnProperty(H)||Zt(t,e,H,null,s,F)}}for(var k in s){var H=s[k];if(F=i[k],s.hasOwnProperty(k)&&(H!=null||F!=null))switch(k){case"type":h=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":P=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,e));break;default:H!==F&&Zt(t,e,k,H,s,F)}}Ss(t,g,E,w,B,P,h,c);return;case"select":H=g=E=k=null;for(h in i)if(w=i[h],i.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":H=w;default:s.hasOwnProperty(h)||Zt(t,e,h,null,s,w)}for(c in s)if(h=s[c],w=i[c],s.hasOwnProperty(c)&&(h!=null||w!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==w&&Zt(t,e,c,h,s,w)}e=E,i=g,s=H,k!=null?Hi(t,!!i,k,!1):!!s!=!!i&&(e!=null?Hi(t,!!i,e,!0):Hi(t,!!i,i?[]:"",!1));return;case"textarea":H=k=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,e,E,null,s,c)}for(g in s)if(c=s[g],h=i[g],s.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Zt(t,e,g,c,s,h)}ou(t,k,H);return;case"option":for(var st in i)if(k=i[st],i.hasOwnProperty(st)&&k!=null&&!s.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Zt(t,e,st,null,s,k)}for(w in s)if(k=s[w],H=i[w],s.hasOwnProperty(w)&&k!==H&&(k!=null||H!=null))switch(w){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Zt(t,e,w,k,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in i)k=i[ht],i.hasOwnProperty(ht)&&k!=null&&!s.hasOwnProperty(ht)&&Zt(t,e,ht,null,s,k);for(B in s)if(k=s[B],H=i[B],s.hasOwnProperty(B)&&k!==H&&(k!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,e));break;default:Zt(t,e,B,k,s,H)}return;default:if(bs(e)){for(var Jt in i)k=i[Jt],i.hasOwnProperty(Jt)&&k!==void 0&&!s.hasOwnProperty(Jt)&&Bh(t,e,Jt,void 0,s,k);for(P in s)k=s[P],H=i[P],!s.hasOwnProperty(P)||k===H||k===void 0&&H===void 0||Bh(t,e,P,k,s,H);return}}for(var z in i)k=i[z],i.hasOwnProperty(z)&&k!=null&&!s.hasOwnProperty(z)&&Zt(t,e,z,null,s,k);for(F in s)k=s[F],H=i[F],!s.hasOwnProperty(F)||k===H||k==null&&H==null||Zt(t,e,F,k,s,H)}function cp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var c=i[s],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&cp(g)){for(g=0,E=c.responseEnd,s+=1;s<i.length;s++){var w=i[s],B=w.startTime;if(B>E)break;var P=w.transferSize,F=w.initiatorType;P&&cp(F)&&(w=w.responseEnd,g+=P*(w<E?1:(E-B)/(w-B)))}if(--s,e+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kh=null,qh=null;function fo(t){return t.nodeType===9?t:t.ownerDocument}function hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=null;function jv(){var t=window.event;return t&&t.type==="popstate"?t===Ph?!1:(Ph=t,!0):(Ph=null,!1)}var dp=typeof setTimeout=="function"?setTimeout:void 0,Uv=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,Lv=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(t){return mp.resolve(null).then(t).catch(Bv)}:dp;function Bv(t){setTimeout(function(){throw t})}function fa(t){return t==="head"}function gp(t,e){var i=e,s=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(s===0){t.removeChild(c),ar(e);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")El(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,El(i);for(var h=i.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[Zn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=g}}else i==="body"&&El(t.ownerDocument.body);i=c}while(i);ar(e)}function pp(t,e){var i=t;t=0;do{var s=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=s}while(i)}function Gh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gh(i),Es(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function kv(t,e,i,s){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Zn])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function qv(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function yp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Dn(t.nextSibling),t===null))return null;return t}function Qh(t){return t.data==="$?"||t.data==="$~"}function Yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Hv(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Fh=null;function _p(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Dn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function vp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Ep(t,e,i){switch(e=fo(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function El(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Es(t)}var On=new Map,Tp=new Set;function mo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=et.d;et.d={f:Pv,r:Gv,D:Qv,C:Yv,L:Fv,m:Kv,X:Zv,S:Xv,M:Jv};function Pv(){var t=ji.f(),e=ao();return t||e}function Gv(t){var e=En(t);e!==null&&e.tag===5&&e.type==="form"?Lm(e):ji.r(t)}var er=typeof document>"u"?null:document;function Sp(t,e,i){var s=er;if(s&&typeof e=="string"&&e){var c=en(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Tp.has(c)||(Tp.add(c),t={rel:t,crossOrigin:i,href:e},s.querySelector(c)===null&&(e=s.createElement("link"),Pe(e,"link",t),_e(e),s.head.appendChild(e)))}}function Qv(t){ji.D(t),Sp("dns-prefetch",t,null)}function Yv(t,e){ji.C(t,e),Sp("preconnect",t,e)}function Fv(t,e,i){ji.L(t,e,i);var s=er;if(s&&t&&e){var c='link[rel="preload"][as="'+en(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+en(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+en(i.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var h=c;switch(e){case"style":h=nr(t);break;case"script":h=ir(t)}On.has(h)||(t=N({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),On.set(h,t),s.querySelector(c)!==null||e==="style"&&s.querySelector(Tl(h))||e==="script"&&s.querySelector(Sl(h))||(e=s.createElement("link"),Pe(e,"link",t),_e(e),s.head.appendChild(e)))}}function Kv(t,e){ji.m(t,e);var i=er;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+en(s)+'"][href="'+en(t)+'"]',h=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ir(t)}if(!On.has(h)&&(t=N({rel:"modulepreload",href:t},e),On.set(h,t),i.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Sl(h)))return}s=i.createElement("link"),Pe(s,"link",t),_e(s),i.head.appendChild(s)}}}function Xv(t,e,i){ji.S(t,e,i);var s=er;if(s&&t){var c=$n(s).hoistableStyles,h=nr(t);e=e||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=s.querySelector(Tl(h)))E.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":e},i),(i=On.get(h))&&Kh(t,i);var w=g=s.createElement("link");_e(w),Pe(w,"link",t),w._p=new Promise(function(B,P){w.onload=B,w.onerror=P}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,go(g,e,s)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function Zv(t,e){ji.X(t,e);var i=er;if(i&&t){var s=$n(i).hoistableScripts,c=ir(t),h=s.get(c);h||(h=i.querySelector(Sl(c)),h||(t=N({src:t,async:!0},e),(e=On.get(c))&&Xh(t,e),h=i.createElement("script"),_e(h),Pe(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function Jv(t,e){ji.M(t,e);var i=er;if(i&&t){var s=$n(i).hoistableScripts,c=ir(t),h=s.get(c);h||(h=i.querySelector(Sl(c)),h||(t=N({src:t,async:!0,type:"module"},e),(e=On.get(c))&&Xh(t,e),h=i.createElement("script"),_e(h),Pe(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function bp(t,e,i,s){var c=(c=bt.current)?mo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=nr(i.href),i=$n(c).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=nr(i.href);var h=$n(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Tl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),On.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},On.set(t,i),h||$v(c,t,i,g.state))),e&&s===null)throw Error(r(528,""));return g}if(e&&s!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ir(i),i=$n(c).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function nr(t){return'href="'+en(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function Ap(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function $v(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Pe(e,"link",i),_e(e),t.head.appendChild(e))}function ir(t){return'[src="'+en(t)+'"]'}function Sl(t){return"script[async]"+t}function Rp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+en(i.href)+'"]');if(s)return e.instance=s,_e(s),s;var c=N({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),_e(s),Pe(s,"style",c),go(s,i.precedence,t),e.instance=s;case"stylesheet":c=nr(i.href);var h=t.querySelector(Tl(c));if(h)return e.state.loading|=4,e.instance=h,_e(h),h;s=Ap(i),(c=On.get(c))&&Kh(s,c),h=(t.ownerDocument||t).createElement("link"),_e(h);var g=h;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(h,"link",s),e.state.loading|=4,go(h,i.precedence,t),e.instance=h;case"script":return h=ir(i.src),(c=t.querySelector(Sl(h)))?(e.instance=c,_e(c),c):(s=i,(c=On.get(h))&&(s=N({},i),Xh(s,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Pe(c,"link",s),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,go(s,i.precedence,t));return e.instance}function go(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,h=c,g=0;g<s.length;g++){var E=s[g];if(E.dataset.precedence===e)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Kh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var po=null;function wp(t,e,i){if(po===null){var s=new Map,c=po=new Map;c.set(i,s)}else c=po,s=c.get(i),s||(s=new Map,c.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var h=i[c];if(!(h[Zn]||h[ye]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(e)||"";g=t+g;var E=s.get(g);E?E.push(h):s.set(g,[h])}}return s}function xp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Wv(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function t1(t,e,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=nr(s.href),h=e.querySelector(Tl(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=yo.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,_e(h);return}h=e.ownerDocument||e,s=Ap(s),(c=On.get(c))&&Kh(s,c),h=h.createElement("link"),_e(h);var g=h;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(h,"link",s),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=yo.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Zh=0;function e1(t,e){return t.stylesheets&&t.count===0&&vo(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var s=setTimeout(function(){if(t.stylesheets&&vo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&Zh===0&&(Zh=62500*zv());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Zh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _o=null;function vo(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_o=new Map,e.forEach(n1,t),_o=null,yo.call(t))}function n1(t,e){if(!(e.state.loading&4)){var i=_o.get(t);if(i)var s=i.get(null);else{i=new Map,_o.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),s=g)}s&&i.set(null,s)}c=e.instance,g=c.getAttribute("data-precedence"),h=i.get(g)||s,h===s&&i.set(null,c),i.set(g,c),this.count++,s=yo.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var bl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function i1(t,e,i,s,c,h,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Np(t,e,i,s,c,h,g,E,w,B,P,F){return t=new i1(t,e,i,g,w,B,P,F,E),e=1,h===!0&&(e|=24),h=dn(3,null,null,e),t.current=h,h.stateNode=t,e=Nc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:e},Mc(h),t}function Dp(t){return t?(t=Is,t):Is}function Op(t,e,i,s,c,h){c=Dp(c),s.context===null?s.context=c:s.pendingContext=c,s=ea(e),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=na(t,s,e),i!==null&&(un(i,t,e),el(i,t,e))}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Jh(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function Mp(t){if(t.tag===13||t.tag===31){var e=Xa(t,67108864);e!==null&&un(e,t,67108864),Jh(t,67108864)}}function Ip(t){if(t.tag===13||t.tag===31){var e=_n();e=Ua(e);var i=Xa(t,e);i!==null&&un(i,t,e),Jh(t,e)}}var Eo=!0;function a1(t,e,i,s){var c=G.T;G.T=null;var h=et.p;try{et.p=2,$h(t,e,i,s)}finally{et.p=h,G.T=c}}function s1(t,e,i,s){var c=G.T;G.T=null;var h=et.p;try{et.p=8,$h(t,e,i,s)}finally{et.p=h,G.T=c}}function $h(t,e,i,s){if(Eo){var c=Wh(s);if(c===null)Lh(t,e,s,To,i),jp(t,s);else if(l1(c,t,e,i,s))s.stopPropagation();else if(jp(t,s),e&4&&-1<r1.indexOf(t)){for(;c!==null;){var h=En(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Yn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-oe(g);E.entanglements[1]|=w,g&=~w}hi(h),(Pt&6)===0&&(no=Ze()+500,yl(0))}}break;case 31:case 13:E=Xa(h,2),E!==null&&un(E,h,2),ao(),Jh(h,2)}if(h=Wh(s),h===null&&Lh(t,e,s,To,i),h===c)break;c=h}c!==null&&s.stopPropagation()}else Lh(t,e,s,null,i)}}function Wh(t){return t=Tn(t),tf(t)}var To=null;function tf(t){if(To=null,t=Jn(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===31){if(t=y(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return To=t,null}function zp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ma()){case wr:return 2;case xr:return 8;case ki:case rc:return 32;case $l:return 268435456;default:return 32}default:return 32}}var ef=!1,da=null,ma=null,ga=null,Al=new Map,Rl=new Map,pa=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(t,e){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function wl(t,e,i,s,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[c]},e!==null&&(e=En(e),e!==null&&Mp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function l1(t,e,i,s,c){switch(e){case"focusin":return da=wl(da,t,e,i,s,c),!0;case"dragenter":return ma=wl(ma,t,e,i,s,c),!0;case"mouseover":return ga=wl(ga,t,e,i,s,c),!0;case"pointerover":var h=c.pointerId;return Al.set(h,wl(Al.get(h)||null,t,e,i,s,c)),!0;case"gotpointercapture":return h=c.pointerId,Rl.set(h,wl(Rl.get(h)||null,t,e,i,s,c)),!0}return!1}function Up(t){var e=Jn(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,In(t.priority,function(){Ip(i)});return}}else if(e===31){if(e=y(i),e!==null){t.blockedOn=e,In(t.priority,function(){Ip(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Wh(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);Br=s,i.target.dispatchEvent(s),Br=null}else return e=En(i),e!==null&&Mp(e),t.blockedOn=i,!1;e.shift()}return!0}function Lp(t,e,i){So(t)&&i.delete(e)}function u1(){ef=!1,da!==null&&So(da)&&(da=null),ma!==null&&So(ma)&&(ma=null),ga!==null&&So(ga)&&(ga=null),Al.forEach(Lp),Rl.forEach(Lp)}function bo(t,e){t.blockedOn===e&&(t.blockedOn=null,ef||(ef=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,u1)))}var Ao=null;function Bp(t){Ao!==t&&(Ao=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ao===t&&(Ao=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],c=t[e+2];if(typeof s!="function"){if(tf(s||i)===null)continue;break}var h=En(i);h!==null&&(t.splice(e,3),e-=3,Wc(h,{pending:!0,data:c,method:i.method,action:s},s,c))}}))}function ar(t){function e(w){return bo(w,t)}da!==null&&bo(da,t),ma!==null&&bo(ma,t),ga!==null&&bo(ga,t),Al.forEach(e),Rl.forEach(e);for(var i=0;i<pa.length;i++){var s=pa[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<pa.length&&(i=pa[0],i.blockedOn===null);)Up(i),i.blockedOn===null&&pa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var c=i[s],h=i[s+1],g=c[Ie]||null;if(typeof h=="function")g||Bp(i);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ie]||null)E=g.formAction;else if(tf(c)!==null)continue}else E=g.action;typeof E=="function"?i[s+1]=E:(i.splice(s,3),s-=3),Bp(i)}}}function kp(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function nf(t){this._internalRoot=t}Ro.prototype.render=nf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,s=_n();Op(i,s,t,e,null,null)},Ro.prototype.unmount=nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Op(t.current,2,null,t,null,null),ao(),e[Xn]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=au();t={blockedOn:null,target:t,priority:e};for(var i=0;i<pa.length&&e!==0&&e<pa[i].priority;i++);pa.splice(i,0,t),i===0&&Up(t)}};var qp=n.version;if(qp!=="19.2.3")throw Error(r(527,qp,"19.2.3"));et.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(e),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var o1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Vn=wo.inject(o1),Le=wo}catch{}}return Cl.createRoot=function(t,e){if(!o(t))throw Error(r(299));var i=!1,s="",c=Km,h=Xm,g=Zm;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Np(t,1,!1,null,null,i,s,null,c,h,g,kp),t[Xn]=e.current,Uh(t),new nf(e)},Cl.hydrateRoot=function(t,e,i){if(!o(t))throw Error(r(299));var s=!1,c="",h=Km,g=Xm,E=Zm,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(w=i.formState)),e=Np(t,1,!0,e,i??null,s,c,w,h,g,E,kp),e.context=Dp(null),i=e.current,s=_n(),s=Ua(s),c=ea(s),c.callback=null,na(i,c,s),i=s,e.current.lanes=i,za(e,i),hi(e),t[Xn]=e.current,Uh(t),new Ro(e)},Cl.version="19.2.3",Cl}var Jp;function E1(){if(Jp)return rf.exports;Jp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),rf.exports=v1(),rf.exports}var T1=E1();const S1=f0(T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,r)=>r?r.toUpperCase():a.toLowerCase()),$p=l=>{const n=A1(l);return n.charAt(0).toUpperCase()+n.slice(1)},d0=(...l)=>l.filter((n,a,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===a).join(" ").trim(),R1=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=It.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:f,iconNode:d,...y},v)=>It.createElement("svg",{ref:v,...w1,width:n,height:n,stroke:l,strokeWidth:r?Number(a)*24/Number(n):a,className:d0("lucide",o),...!f&&!R1(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>It.createElement(_,S)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(l,n)=>{const a=It.forwardRef(({className:r,...o},f)=>It.createElement(x1,{ref:f,iconNode:n,className:d0(`lucide-${b1($p(l))}`,`lucide-${l}`,r),...o}));return a.displayName=$p(l),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bf=xe("arrow-right",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wp=xe("camera",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m0=xe("circle-alert",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],V1=xe("circle-check-big",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],I1=xe("cloud-upload",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],j1=xe("coffee",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ty=xe("download",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],cf=xe("lock-open",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hf=xe("lock",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],ey=xe("mic-off",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],H1=xe("mic-vocal",q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],g0=xe("mic",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Q1=xe("play",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],F1=xe("power",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],p0=xe("refresh-cw",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Z1=xe("settings-2",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],$1=xe("timer",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tE=xe("triangle-alert",W1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ny=xe("video-off",eE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],iE=xe("video",nE),aE=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let o=l.charCodeAt(r);o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):(o&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(l.charCodeAt(++r)&1023),n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},sE=function(l){const n=[];let a=0,r=0;for(;a<l.length;){const o=l[a++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=l[a++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=l[a++],d=l[a++],y=l[a++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;n[r++]=String.fromCharCode(55296+(v>>10)),n[r++]=String.fromCharCode(56320+(v&1023))}else{const f=l[a++],d=l[a++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return n.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<l.length;o+=3){const f=l[o],d=o+1<l.length,y=d?l[o+1]:0,v=o+2<l.length,_=v?l[o+2]:0,S=f>>2,N=(f&3)<<4|y>>4;let j=(y&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(j=64)),r.push(a[S],a[N],a[j],a[Y])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(y0(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):sE(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<l.length;){const f=a[l.charAt(o++)],y=o<l.length?a[l.charAt(o)]:0;++o;const _=o<l.length?a[l.charAt(o)]:64;++o;const N=o<l.length?a[l.charAt(o)]:64;if(++o,f==null||y==null||_==null||N==null)throw new rE;const j=f<<2|y>>4;if(r.push(j),_!==64){const Y=y<<4&240|_>>2;if(r.push(Y),N!==64){const tt=_<<6&192|N;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lE=function(l){const n=y0(l);return _0.encodeByteArray(n,!0)},Uo=function(l){return lE(l).replace(/\./g,"")},uE=function(l){try{return _0.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=()=>oE().__FIREBASE_DEFAULTS__,hE=()=>{if(typeof process>"u"||typeof iy>"u")return;const l=iy.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},fE=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&uE(l[1]);return n&&JSON.parse(n)},Xf=()=>{try{return aE()||cE()||hE()||fE()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},dE=l=>{var n,a;return(a=(n=Xf())==null?void 0:n.emulatorHosts)==null?void 0:a[l]},mE=l=>{const n=dE(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},v0=()=>{var l;return(l=Xf())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pE(l){return(await fetch(l,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",o=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[Uo(JSON.stringify(a)),Uo(JSON.stringify(d)),""].join(".")}const Ml={};function _E(){const l={prod:[],emulator:[]};for(const n of Object.keys(Ml))Ml[n]?l.emulator.push(n):l.prod.push(n);return l}function vE(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let ay=!1;function EE(l,n){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||Ml[l]===n||Ml[l]||ay)return;Ml[l]=n;function a(j){return`__firebase__banner__${j}`}const r="__firebase__banner",f=_E().prod.length>0;function d(){const j=document.getElementById(r);j&&j.remove()}function y(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function v(j,Y){j.setAttribute("width","24"),j.setAttribute("id",Y),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function _(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{ay=!0,d()},j}function S(j,Y){j.setAttribute("id",Y),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function N(){const j=vE(r),Y=a("text"),tt=document.getElementById(Y)||document.createElement("span"),Z=a("learnmore"),J=document.getElementById(Z)||document.createElement("a"),ut=a("preprendIcon"),mt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const dt=j.element;y(dt),S(J,Z);const Tt=_();v(mt,ut),dt.append(mt,tt,J,Tt),document.body.appendChild(dt)}f?(tt.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SE(){var n;const l=(n=Xf())==null?void 0:n.forceEnvironment;if(l==="node")return!0;if(l==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bE(){return!SE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AE(){try{return typeof indexedDB=="object"}catch{return!1}}function RE(){return new Promise((l,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(r),l(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var f;n(((f=o.error)==null?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="FirebaseError";class vr extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=wE,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E0.prototype.create)}}class E0{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},o=`${this.service}/${n}`,f=this.errors[n],d=f?xE(f,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new vr(o,y,r)}}function xE(l,n){return l.replace(CE,(a,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const CE=/\{\$([^}]+)}/g;function Lo(l,n){if(l===n)return!0;const a=Object.keys(l),r=Object.keys(n);for(const o of a){if(!r.includes(o))return!1;const f=l[o],d=n[o];if(sy(f)&&sy(d)){if(!Lo(f,d))return!1}else if(f!==d)return!1}for(const o of r)if(!a.includes(o))return!1;return!0}function sy(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(l){return l&&l._delegate?l._delegate:l}class Bl{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new gE;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(VE(n))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=us){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=us){return this.instances.has(n)}getOptions(n=us){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);r===y&&d.resolve(o)}return o}onInit(n,a){const r=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const o of r)try{o(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OE(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=us){return this.component?this.component.multipleInstances?n:us:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OE(l){return l===us?void 0:l}function VE(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new DE(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(zt||(zt={}));const IE={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},zE=zt.INFO,jE={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},UE=(l,n,...a)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),o=jE[n];if(o)console[o](`[${r}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class T0{constructor(n){this.name=n,this._logLevel=zE,this._logHandler=UE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in zt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?IE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...n),this._logHandler(this,zt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...n),this._logHandler(this,zt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...n),this._logHandler(this,zt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...n),this._logHandler(this,zt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...n),this._logHandler(this,zt.ERROR,...n)}}const LE=(l,n)=>n.some(a=>l instanceof a);let ry,ly;function BE(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kE(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Af=new WeakMap,b0=new WeakMap,ff=new WeakMap,Jf=new WeakMap;function qE(l){const n=new Promise((a,r)=>{const o=()=>{l.removeEventListener("success",f),l.removeEventListener("error",d)},f=()=>{a(Ea(l.result)),o()},d=()=>{r(l.error),o()};l.addEventListener("success",f),l.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&S0.set(a,l)}).catch(()=>{}),Jf.set(n,l),n}function HE(l){if(Af.has(l))return;const n=new Promise((a,r)=>{const o=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",d),l.removeEventListener("abort",d)},f=()=>{a(),o()},d=()=>{r(l.error||new DOMException("AbortError","AbortError")),o()};l.addEventListener("complete",f),l.addEventListener("error",d),l.addEventListener("abort",d)});Af.set(l,n)}let Rf={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return Af.get(l);if(n==="objectStoreNames")return l.objectStoreNames||b0.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ea(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function PE(l){Rf=l(Rf)}function GE(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=l.call(df(this),n,...a);return b0.set(r,n.sort?n.sort():[n]),Ea(r)}:kE().includes(l)?function(...n){return l.apply(df(this),n),Ea(S0.get(this))}:function(...n){return Ea(l.apply(df(this),n))}}function QE(l){return typeof l=="function"?GE(l):(l instanceof IDBTransaction&&HE(l),LE(l,BE())?new Proxy(l,Rf):l)}function Ea(l){if(l instanceof IDBRequest)return qE(l);if(ff.has(l))return ff.get(l);const n=QE(l);return n!==l&&(ff.set(l,n),Jf.set(n,l)),n}const df=l=>Jf.get(l);function YE(l,n,{blocked:a,upgrade:r,blocking:o,terminated:f}={}){const d=indexedDB.open(l,n),y=Ea(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ea(d.result),v.oldVersion,v.newVersion,Ea(d.transaction),v)}),a&&d.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const FE=["get","getKey","getAll","getAllKeys","count"],KE=["put","add","delete","clear"],mf=new Map;function uy(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(mf.get(n))return mf.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,o=KE.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(o||FE.includes(a)))return;const f=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),o&&v.done]))[0]};return mf.set(n,f),f}PE(l=>({...l,get:(n,a,r)=>uy(n,a)||l.get(n,a,r),has:(n,a)=>!!uy(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(ZE(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function ZE(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const wf="@firebase/app",oy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new T0("@firebase/app"),JE="@firebase/app-compat",$E="@firebase/analytics-compat",WE="@firebase/analytics",tT="@firebase/app-check-compat",eT="@firebase/app-check",nT="@firebase/auth",iT="@firebase/auth-compat",aT="@firebase/database",sT="@firebase/data-connect",rT="@firebase/database-compat",lT="@firebase/functions",uT="@firebase/functions-compat",oT="@firebase/installations",cT="@firebase/installations-compat",hT="@firebase/messaging",fT="@firebase/messaging-compat",dT="@firebase/performance",mT="@firebase/performance-compat",gT="@firebase/remote-config",pT="@firebase/remote-config-compat",yT="@firebase/storage",_T="@firebase/storage-compat",vT="@firebase/firestore",ET="@firebase/ai",TT="@firebase/firestore-compat",ST="firebase",bT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",AT={[wf]:"fire-core",[JE]:"fire-core-compat",[WE]:"fire-analytics",[$E]:"fire-analytics-compat",[eT]:"fire-app-check",[tT]:"fire-app-check-compat",[nT]:"fire-auth",[iT]:"fire-auth-compat",[aT]:"fire-rtdb",[sT]:"fire-data-connect",[rT]:"fire-rtdb-compat",[lT]:"fire-fn",[uT]:"fire-fn-compat",[oT]:"fire-iid",[cT]:"fire-iid-compat",[hT]:"fire-fcm",[fT]:"fire-fcm-compat",[dT]:"fire-perf",[mT]:"fire-perf-compat",[gT]:"fire-rc",[pT]:"fire-rc-compat",[yT]:"fire-gcs",[_T]:"fire-gcs-compat",[vT]:"fire-fst",[TT]:"fire-fst-compat",[ET]:"fire-vertex","fire-js":"fire-js",[ST]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,RT=new Map,Cf=new Map;function cy(l,n){try{l.container.addComponent(n)}catch(a){Ui.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function ko(l){const n=l.name;if(Cf.has(n))return Ui.debug(`There were multiple attempts to register component ${n}.`),!1;Cf.set(n,l);for(const a of Bo.values())cy(a,l);for(const a of RT.values())cy(a,l);return!0}function wT(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function xT(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new E0("app","Firebase",CT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(n,a,r){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=bT;function A0(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const r={name:xf,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw Ta.create("bad-app-name",{appName:String(o)});if(a||(a=v0()),!a)throw Ta.create("no-options");const f=Bo.get(o);if(f){if(Lo(a,f.options)&&Lo(r,f.config))return f;throw Ta.create("duplicate-app",{appName:o})}const d=new ME(o);for(const v of Cf.values())d.addComponent(v);const y=new NT(a,r,d);return Bo.set(o,y),y}function OT(l=xf){const n=Bo.get(l);if(!n&&l===xf&&v0())return A0();if(!n)throw Ta.create("no-app",{appName:l});return n}function or(l,n,a){let r=AT[l]??l;a&&(r+=`-${a}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const d=[`Unable to register library "${r}" with version "${n}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}ko(new Bl(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firebase-heartbeat-database",MT=1,kl="firebase-heartbeat-store";let gf=null;function R0(){return gf||(gf=YE(VT,MT,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(kl)}catch(a){console.warn(a)}}}}).catch(l=>{throw Ta.create("idb-open",{originalErrorMessage:l.message})})),gf}async function IT(l){try{const a=(await R0()).transaction(kl),r=await a.objectStore(kl).get(w0(l));return await a.done,r}catch(n){if(n instanceof vr)Ui.warn(n.message);else{const a=Ta.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(a.message)}}}async function hy(l,n){try{const r=(await R0()).transaction(kl,"readwrite");await r.objectStore(kl).put(n,w0(l)),await r.done}catch(a){if(a instanceof vr)Ui.warn(a.message);else{const r=Ta.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Ui.warn(r.message)}}}function w0(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=1024,jT=30;class UT{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new BT(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=fy();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>jT){const d=kT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=fy(),{heartbeatsToSend:r,unsentEntries:o}=LT(this._heartbeatsCache.heartbeats),f=Uo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return Ui.warn(a),""}}}function fy(){return new Date().toISOString().substring(0,10)}function LT(l,n=zT){const a=[];let r=l.slice();for(const o of l){const f=a.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),dy(a)>n){f.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),dy(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class BT{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AE()?RE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await IT(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return hy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return hy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function dy(l){return Uo(JSON.stringify({version:2,heartbeats:l})).length}function kT(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let r=1;r<l.length;r++)l[r].date<a&&(a=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(l){ko(new Bl("platform-logger",n=>new XE(n),"PRIVATE")),ko(new Bl("heartbeat",n=>new UT(n),"PRIVATE")),or(wf,oy,l),or(wf,oy,"esm2020"),or("fire-js","")}qT("");var HT="firebase",PT="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(HT,PT,"app");var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,x0;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(C,b){function A(){}A.prototype=b.prototype,C.F=b.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(M,D,I){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return b.prototype[D].apply(M,R)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}n(r,a),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,A){A||(A=0);const M=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)M[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;D<16;++D)M[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=C.g[0],A=C.g[1],D=C.g[2];let I=C.g[3],R;R=b+(I^A&(D^I))+M[0]+3614090360&4294967295,b=A+(R<<7&4294967295|R>>>25),R=I+(D^b&(A^D))+M[1]+3905402710&4294967295,I=b+(R<<12&4294967295|R>>>20),R=D+(A^I&(b^A))+M[2]+606105819&4294967295,D=I+(R<<17&4294967295|R>>>15),R=A+(b^D&(I^b))+M[3]+3250441966&4294967295,A=D+(R<<22&4294967295|R>>>10),R=b+(I^A&(D^I))+M[4]+4118548399&4294967295,b=A+(R<<7&4294967295|R>>>25),R=I+(D^b&(A^D))+M[5]+1200080426&4294967295,I=b+(R<<12&4294967295|R>>>20),R=D+(A^I&(b^A))+M[6]+2821735955&4294967295,D=I+(R<<17&4294967295|R>>>15),R=A+(b^D&(I^b))+M[7]+4249261313&4294967295,A=D+(R<<22&4294967295|R>>>10),R=b+(I^A&(D^I))+M[8]+1770035416&4294967295,b=A+(R<<7&4294967295|R>>>25),R=I+(D^b&(A^D))+M[9]+2336552879&4294967295,I=b+(R<<12&4294967295|R>>>20),R=D+(A^I&(b^A))+M[10]+4294925233&4294967295,D=I+(R<<17&4294967295|R>>>15),R=A+(b^D&(I^b))+M[11]+2304563134&4294967295,A=D+(R<<22&4294967295|R>>>10),R=b+(I^A&(D^I))+M[12]+1804603682&4294967295,b=A+(R<<7&4294967295|R>>>25),R=I+(D^b&(A^D))+M[13]+4254626195&4294967295,I=b+(R<<12&4294967295|R>>>20),R=D+(A^I&(b^A))+M[14]+2792965006&4294967295,D=I+(R<<17&4294967295|R>>>15),R=A+(b^D&(I^b))+M[15]+1236535329&4294967295,A=D+(R<<22&4294967295|R>>>10),R=b+(D^I&(A^D))+M[1]+4129170786&4294967295,b=A+(R<<5&4294967295|R>>>27),R=I+(A^D&(b^A))+M[6]+3225465664&4294967295,I=b+(R<<9&4294967295|R>>>23),R=D+(b^A&(I^b))+M[11]+643717713&4294967295,D=I+(R<<14&4294967295|R>>>18),R=A+(I^b&(D^I))+M[0]+3921069994&4294967295,A=D+(R<<20&4294967295|R>>>12),R=b+(D^I&(A^D))+M[5]+3593408605&4294967295,b=A+(R<<5&4294967295|R>>>27),R=I+(A^D&(b^A))+M[10]+38016083&4294967295,I=b+(R<<9&4294967295|R>>>23),R=D+(b^A&(I^b))+M[15]+3634488961&4294967295,D=I+(R<<14&4294967295|R>>>18),R=A+(I^b&(D^I))+M[4]+3889429448&4294967295,A=D+(R<<20&4294967295|R>>>12),R=b+(D^I&(A^D))+M[9]+568446438&4294967295,b=A+(R<<5&4294967295|R>>>27),R=I+(A^D&(b^A))+M[14]+3275163606&4294967295,I=b+(R<<9&4294967295|R>>>23),R=D+(b^A&(I^b))+M[3]+4107603335&4294967295,D=I+(R<<14&4294967295|R>>>18),R=A+(I^b&(D^I))+M[8]+1163531501&4294967295,A=D+(R<<20&4294967295|R>>>12),R=b+(D^I&(A^D))+M[13]+2850285829&4294967295,b=A+(R<<5&4294967295|R>>>27),R=I+(A^D&(b^A))+M[2]+4243563512&4294967295,I=b+(R<<9&4294967295|R>>>23),R=D+(b^A&(I^b))+M[7]+1735328473&4294967295,D=I+(R<<14&4294967295|R>>>18),R=A+(I^b&(D^I))+M[12]+2368359562&4294967295,A=D+(R<<20&4294967295|R>>>12),R=b+(A^D^I)+M[5]+4294588738&4294967295,b=A+(R<<4&4294967295|R>>>28),R=I+(b^A^D)+M[8]+2272392833&4294967295,I=b+(R<<11&4294967295|R>>>21),R=D+(I^b^A)+M[11]+1839030562&4294967295,D=I+(R<<16&4294967295|R>>>16),R=A+(D^I^b)+M[14]+4259657740&4294967295,A=D+(R<<23&4294967295|R>>>9),R=b+(A^D^I)+M[1]+2763975236&4294967295,b=A+(R<<4&4294967295|R>>>28),R=I+(b^A^D)+M[4]+1272893353&4294967295,I=b+(R<<11&4294967295|R>>>21),R=D+(I^b^A)+M[7]+4139469664&4294967295,D=I+(R<<16&4294967295|R>>>16),R=A+(D^I^b)+M[10]+3200236656&4294967295,A=D+(R<<23&4294967295|R>>>9),R=b+(A^D^I)+M[13]+681279174&4294967295,b=A+(R<<4&4294967295|R>>>28),R=I+(b^A^D)+M[0]+3936430074&4294967295,I=b+(R<<11&4294967295|R>>>21),R=D+(I^b^A)+M[3]+3572445317&4294967295,D=I+(R<<16&4294967295|R>>>16),R=A+(D^I^b)+M[6]+76029189&4294967295,A=D+(R<<23&4294967295|R>>>9),R=b+(A^D^I)+M[9]+3654602809&4294967295,b=A+(R<<4&4294967295|R>>>28),R=I+(b^A^D)+M[12]+3873151461&4294967295,I=b+(R<<11&4294967295|R>>>21),R=D+(I^b^A)+M[15]+530742520&4294967295,D=I+(R<<16&4294967295|R>>>16),R=A+(D^I^b)+M[2]+3299628645&4294967295,A=D+(R<<23&4294967295|R>>>9),R=b+(D^(A|~I))+M[0]+4096336452&4294967295,b=A+(R<<6&4294967295|R>>>26),R=I+(A^(b|~D))+M[7]+1126891415&4294967295,I=b+(R<<10&4294967295|R>>>22),R=D+(b^(I|~A))+M[14]+2878612391&4294967295,D=I+(R<<15&4294967295|R>>>17),R=A+(I^(D|~b))+M[5]+4237533241&4294967295,A=D+(R<<21&4294967295|R>>>11),R=b+(D^(A|~I))+M[12]+1700485571&4294967295,b=A+(R<<6&4294967295|R>>>26),R=I+(A^(b|~D))+M[3]+2399980690&4294967295,I=b+(R<<10&4294967295|R>>>22),R=D+(b^(I|~A))+M[10]+4293915773&4294967295,D=I+(R<<15&4294967295|R>>>17),R=A+(I^(D|~b))+M[1]+2240044497&4294967295,A=D+(R<<21&4294967295|R>>>11),R=b+(D^(A|~I))+M[8]+1873313359&4294967295,b=A+(R<<6&4294967295|R>>>26),R=I+(A^(b|~D))+M[15]+4264355552&4294967295,I=b+(R<<10&4294967295|R>>>22),R=D+(b^(I|~A))+M[6]+2734768916&4294967295,D=I+(R<<15&4294967295|R>>>17),R=A+(I^(D|~b))+M[13]+1309151649&4294967295,A=D+(R<<21&4294967295|R>>>11),R=b+(D^(A|~I))+M[4]+4149444226&4294967295,b=A+(R<<6&4294967295|R>>>26),R=I+(A^(b|~D))+M[11]+3174756917&4294967295,I=b+(R<<10&4294967295|R>>>22),R=D+(b^(I|~A))+M[2]+718787259&4294967295,D=I+(R<<15&4294967295|R>>>17),R=A+(I^(D|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const A=b-this.blockSize,M=this.C;let D=this.h,I=0;for(;I<b;){if(D==0)for(;I<=A;)o(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<b;)if(M[D++]=C.charCodeAt(I++),D==this.blockSize){o(this,M),D=0;break}}else for(;I<b;)if(M[D++]=C[I++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,A=0;A<4;++A)for(let M=0;M<32;M+=8)C[b++]=this.g[A]>>>M&255;return C};function f(C,b){var A=y;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=b(C)}function d(C,b){this.h=b;const A=[];let M=!0;for(let D=C.length-1;D>=0;D--){const I=C[D]|0;M&&I==b||(A[D]=I,M=!1)}this.g=A}var y={};function v(C){return-128<=C&&C<128?f(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return N;if(C<0)return J(_(-C));const b=[];let A=1;for(let M=0;C>=A;M++)b[M]=C/A|0,A*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(S(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(b,8));let M=N;for(let I=0;I<C.length;I+=8){var D=Math.min(8,C.length-I);const R=parseInt(C.substring(I,I+D),b);D<8?(D=_(Math.pow(b,D)),M=M.j(D).add(_(R))):(M=M.j(A),M=M.add(_(R)))}return M}var N=v(0),j=v(1),Y=v(16777216);l=d.prototype,l.m=function(){if(Z(this))return-J(this).m();let C=0,b=1;for(let A=0;A<this.g.length;A++){const M=this.i(A);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},l.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(Z(this))return"-"+J(this).toString(C);const b=_(Math.pow(C,6));var A=this;let M="";for(;;){const D=Tt(A,b).g;A=ut(A,D.j(b));let I=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=D,tt(A))return I+M;for(;I.length<6;)I="0"+I;M=I+M}},l.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function Z(C){return C.h==-1}l.l=function(C){return C=ut(this,C),Z(C)?-1:tt(C)?0:1};function J(C){const b=C.g.length,A=[];for(let M=0;M<b;M++)A[M]=~C.g[M];return new d(A,~C.h).add(j)}l.abs=function(){return Z(this)?J(this):this},l.add=function(C){const b=Math.max(this.g.length,C.g.length),A=[];let M=0;for(let D=0;D<=b;D++){let I=M+(this.i(D)&65535)+(C.i(D)&65535),R=(I>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,I&=65535,R&=65535,A[D]=R<<16|I}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ut(C,b){return C.add(J(b))}l.j=function(C){if(tt(this)||tt(C))return N;if(Z(this))return Z(C)?J(this).j(J(C)):J(J(this).j(C));if(Z(C))return J(this.j(J(C)));if(this.l(Y)<0&&C.l(Y)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,A=[];for(var M=0;M<2*b;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const I=this.i(M)>>>16,R=this.i(M)&65535,ee=C.i(D)>>>16,Ce=C.i(D)&65535;A[2*M+2*D]+=R*Ce,mt(A,2*M+2*D),A[2*M+2*D+1]+=I*Ce,mt(A,2*M+2*D+1),A[2*M+2*D+1]+=R*ee,mt(A,2*M+2*D+1),A[2*M+2*D+2]+=I*ee,mt(A,2*M+2*D+2)}for(C=0;C<b;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=b;C<2*b;C++)A[C]=0;return new d(A,0)};function mt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Tt(C,b){if(tt(b))throw Error("division by zero");if(tt(C))return new dt(N,N);if(Z(C))return b=Tt(J(C),b),new dt(J(b.g),J(b.h));if(Z(b))return b=Tt(C,J(b)),new dt(J(b.g),b.h);if(C.g.length>30){if(Z(C)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var A=j,M=b;M.l(C)<=0;)A=qt(A),M=qt(M);var D=St(A,1),I=St(M,1);for(M=St(M,2),A=St(A,2);!tt(M);){var R=I.add(M);R.l(C)<=0&&(D=D.add(A),I=R),M=St(M,1),A=St(A,1)}return b=ut(C,D.j(b)),new dt(D,b)}for(D=N;C.l(b)>=0;){for(A=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),I=_(A),R=I.j(b);Z(R)||R.l(C)>0;)A-=M,I=_(A),R=I.j(b);tt(I)&&(I=j),D=D.add(I),C=ut(C,R)}return new dt(D,C)}l.B=function(C){return Tt(this,C).h},l.and=function(C){const b=Math.max(this.g.length,C.g.length),A=[];for(let M=0;M<b;M++)A[M]=this.i(M)&C.i(M);return new d(A,this.h&C.h)},l.or=function(C){const b=Math.max(this.g.length,C.g.length),A=[];for(let M=0;M<b;M++)A[M]=this.i(M)|C.i(M);return new d(A,this.h|C.h)},l.xor=function(C){const b=Math.max(this.g.length,C.g.length),A=[];for(let M=0;M<b;M++)A[M]=this.i(M)^C.i(M);return new d(A,this.h^C.h)};function qt(C){const b=C.g.length+1,A=[];for(let M=0;M<b;M++)A[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(A,C.h)}function St(C,b){const A=b>>5;b%=32;const M=C.g.length-A,D=[];for(let I=0;I<M;I++)D[I]=b>0?C.i(I+A)>>>b|C.i(I+A+1)<<32-b:C.i(I+A);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,x0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Sa=d}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C0,Nl,N0,Vo,Nf,D0,O0,V0;(function(){var l,n=Object.defineProperty;function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xo=="object"&&xo];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=a(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&n(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function S(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function N(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var $=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)$[vt-2]=arguments[vt];return m.prototype[U].apply(T,$)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const q=U.length||0;u.length=p+q;for(let $=0;$<q;$++)u[p+$]=U[$]}else u.push(U)}}class Z{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new Z(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,St=!1,C=new mt,b=()=>{const u=Promise.resolve(void 0);qt=()=>{u.then(A)}};function A(){for(var u;u=ut();){try{u.h.call(u.g)}catch(p){J(p)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}St=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}N(ee,D),ee.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Gt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function V(u){const m={};for(const p in u)m[p]=u[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<K.length;q++)p=K[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,p,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const $=bt(u,m,T,U);return $>-1?(m=u[$],p||(m.fa=!1)):(m=new et(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ct(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function bt(u,m,p,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ne(u,m,p,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ne(u,m[q],p,T,U);return null}return p=Rr(p),u&&u[Ce]?u.J(m,p,y(T)?!!T.capture:!1,U):Oa(u,m,p,!1,T,U)}function Oa(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");const $=y(U)?!!U.capture:!!U;let vt=Va(u);if(vt||(u[Vt]=vt=new it(u)),p=vt.add(m,p,T,$,q),p.proxy)return p;if(T=gs(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)I||(U=$),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gs(){function u(p){return m.call(u.src,u.listener,p)}const m=br;return u}function ps(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ps(u,m[q],p,T,U);else T=y(T)?!!T.capture:!!T,p=Rr(p),u&&u[Ce]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=bt(m,p,T,U),p>-1&&(ct(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Va(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,p,T,U)),(p=u>-1?m[u]:null)&&ys(p))}function ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Gn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Va(m))?(gt(p,u),p.h==0&&(p.src=null,m[Vt]=null)):ct(u)}}}function Gn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function br(u,m){if(u.da)u=!0;else{m=new ee(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&ys(u),u=p.call(T,m)}return u}function Va(u){return u=u[Vt],u instanceof it?u:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function ge(){M.call(this),this.i=new it(this),this.M=this,this.G=null}N(ge,M),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,p,T){ps(this,u,m,p,T)};function De(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),nt(m,U)}U=!0;let q,$;if(p)for($=p.length-1;$>=0;$--)q=m.g=p[$],U=Bi(q,T,!0,m)&&U;if(q=m.g=u,U=Bi(q,T,!0,m)&&U,U=Bi(q,T,!1,m)&&U,p)for($=0;$<p.length;$++)q=m.g=p[$],U=Bi(q,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ct(p[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ge.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Bi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const $=m[q];if($&&!$.da&&$.capture==p){const vt=$.listener,ce=$.ha||$.src;$.fa&&gt(u.i,$),U=vt.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function sc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=sc(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(u){M.call(this),this.h=u,this.g={}}N(Ma,M);var wr=[];function xr(u){Ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&ys(m)},u),u.g={}}Ma.prototype.N=function(){Ma.Z.N.call(this),xr(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=d.JSON.stringify,rc=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}N(Le,D);function vn(){D.call(this,"c")}N(vn,D);var oe={},eu=null;function _s(){return eu=eu||new ge}oe.Ia="serverreachability";function nu(u){D.call(this,oe.Ia,u)}N(nu,D);function Qn(u){const m=_s();De(m,new nu(m))}oe.STAT_EVENT="statevent";function Ia(u,m){D.call(this,oe.STAT_EVENT,u),this.stat=m}N(Ia,D);function pe(u){const m=_s();De(m,new Ia(m,u))}oe.Ja="timingevent";function Yn(u,m){D.call(this,oe.Ja,u),this.size=m}N(Yn,D);function Fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function lc(u,m,p,T,U,q){u.info(function(){if(u.g)if(q){var $="",vt=q.split("&");for(let Ht=0;Ht<vt.length;Ht++){var ce=vt[Ht].split("=");if(ce.length>1){const ie=ce[0];ce=ce[1];const bn=ie.split("_");$=bn.length>=2&&bn[1]=="type"?$+(ie+"="+ce+"&"):$+(ie+"=redacted&")}}}else $=null;else $=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+$})}function iu(u,m,p,T,U,q,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+$})}function Kn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+uc(u,p)+(T?" "+T:"")})}function za(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function uc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return ki(q)}catch{return m}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nr;function Ua(){}N(Ua,Wl),Ua.prototype.g=function(){return new XMLHttpRequest},Nr=new Ua;function _i(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function In(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ye={},Ie={};function Xn(u,m,p){u.M=1,u.A=La(ve(m)),u.u=p,u.R=!0,vs(u,null)}function vs(u,m){u.F=Date.now(),Zn(u),u.B=ve(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),bs(p.i,"t",T),u.C=0,p=u.j.L,u.h=new zn,u.g=vu(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(wr[0]=U.toString()),U=wr);for(let q=0;q<U.length;q++){const $=ne(p,U[q],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Qn(),lc(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ln(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const vt=Ln(this.g),ce=this.g.ya(),Ht=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||vt!=4||ce==7||(ce==8||Ht<=0?Qn(3):Qn(2)),Jn(this);var m=this.g.ca();this.X=m;var p=oc(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$n(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=ru(this,p),ie==Ie){vt==4&&(this.m=4,pe(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ye){this.m=4,pe(15),Kn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,ie,null),$n(this,ie);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Gr($),$.P=!0,pe(11))}}else Kn(this.i,this.l,p,null),$n(this,p);vt==4&&cn(this),this.o&&!this.K&&(vt==4?gu(this.j,this):(this.o=!1,Zn(this)))}else Ei(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}finally{}};function oc(u){if(!su(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,U=Ln(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ie:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Ie:(m=m.slice(T,T+p),u.C=T+p,m)))}In.prototype.cancel=function(){this.K=!0,cn(this)};function Zn(u){u.T=Date.now()+u.H,Es(u,u.H)}function Es(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Fn(_(u.aa,u),m)}function Jn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(za(this.i,this.B),this.M!=2&&(Qn(),pe(17)),cn(this),this.m=2,En(this)):Es(this,this.T-u)};function En(u){u.j.I==0||u.K||gu(u.j,u)}function cn(u){Jn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,xr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function $n(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ti(p.h,u))){if(!u.L&&ti(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Cs(p),Ki(p);else break t;Qa(p),pe(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Fn(_(p.Va,p),6e3));Wn(p.h)<=1&&p.ta&&(p.ta=void 0)}else ri(p,11)}else if((u.L||p.g==u)&&Cs(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const ie=Ht[0];if(!(ie<=p.K))if(p.K=ie,Ht=Ht[1],p.I==2)if(Ht[0]=="c"){p.M=Ht[1],p.ba=Ht[2];const bn=Ht[3];bn!=null&&(p.ka=bn,p.j.info("VER="+p.ka));const li=Ht[4];li!=null&&(p.za=li,p.j.info("SVER="+p.za));const Bn=Ht[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=u.g;if(kn){const Ya=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var q=T.h;q.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vr(q,q.h),q.h=null))}if(T.G){const Ns=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ns&&(T.wa=Ns,Qt(T.J,T.G,Ns))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var $=u;if(T.na=_u(T,T.L?T.ba:null,T.W),$.L){Mr(T.h,$);var vt=$,ce=T.O;ce&&(vt.H=ce),vt.D&&(Jn(vt),Zn(vt)),T.g=$}else du(T);p.i.length>0&&si(p)}else Ht[0]!="stop"&&Ht[0]!="close"||ri(p,7);else p.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ri(p,7):Hr(p):Ht[0]!="noop"&&p.l&&p.l.qa(Ht),p.A=0)}}Qn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function Dr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Or(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wn(u){return u.h?1:u.g?u.g.size:0}function ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vr(u,m){u.g?u.g.add(m):u.h=m}function Mr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dr.prototype.cancel=function(){if(this.i=Ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ir(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Y(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ts(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,q=null;T>=0?(U=u[p].substring(0,T),q=u[p].substring(T+1)):U=u[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.u),this.h=u.h,zr(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=ei(m[2]||""),this.g=ei(m[3]||"",!0),qi(this,m[4]),this.h=ei(m[5]||"",!0),zr(this,m[6]||"",!0),this.m=ei(m[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ba(m,Ss,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ba(m,Ss,!0),"@"),u.push(_i(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ba(p,p.charAt(0)=="/"?jr:uu,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ba(p,ou)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?ze(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)qi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let $=0;$<U.length;){const vt=U[$++];vt=="."?T&&$==U.length&&q.push(""):vt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&$==U.length&&q.push("")):(q.push(vt),T=!0)}T=q.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?zr(m,hu(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new hn(u)}function ze(u,m,p){u.j=p?ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zr(u,m,p){m instanceof Pi?(u.i=m,As(u.i,u.l)):(p||(m=Ba(m,Hi)),u.i=new Pi(m,u.l))}function Qt(u,m,p){u.i.set(m,p)}function La(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ba(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,en),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ss=/[#\/\?@]/g,uu=/[#\?:]/g,jr=/[#\?]/g,Hi=/[#\?@]/g,ou=/#/g;function Pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ts(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}l=Pi.prototype,l.add=function(u,m){nn(this),this.i=null,u=Gi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function cu(u,m){nn(u),m=Gi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ur(u,m){return nn(u),m=Gi(u,m),u.g.has(m)}l.forEach=function(u,m){nn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Lr(u,m){nn(u);let p=[];if(typeof m=="string")Ur(u,m)&&(p=p.concat(u.g.get(Gi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}l.set=function(u,m){return nn(this),this.i=null,u=Gi(this,u),Ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},l.get=function(u,m){return u?(u=Lr(this,u),u.length>0?String(u[0]):m):m};function bs(u,m,p){cu(u,m),p.length>0&&(u.i=null,u.g.set(Gi(u,m),Y(p)),u.h+=p.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=_i(p);p=Lr(this,p);for(let q=0;q<p.length;q++){let $=U;p[q]!==""&&($+="="+_i(p[q])),u.push($)}}return this.i=u.join("&")};function hu(u){const m=new Pi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Gi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function As(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(cu(this,T),bs(this,U,p))},u)),u.j=m}function jn(u,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=S(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=S(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Br(u,m){const p=new Mn,T=new AbortController,U=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Qi(){this.g=new $l}function ni(u){this.i=u.Sb||null,this.h=u.ab||!1}N(ni,Wl),ni.prototype.g=function(){return new ka(this.i,this.h)};function ka(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(ka,ge),l=ka.prototype,l.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Un(this)},l.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},l.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}l.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yi(this):Un(this),this.readyState==3&&Rs(this)}},l.Oa=function(u){this.g&&(this.response=this.responseText=u,Yi(this))},l.Na=function(u){this.g&&(this.response=u,Yi(this))},l.ga=function(){this.g&&Yi(this)};function Yi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Un(u)}l.setRequestHeader=function(u,m){this.A.append(u,m)},l.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function qa(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof u=="string"?p!=null&&_i(p):Qt(u,m,p))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Kt,ge);var ii=/^https?$/i,kr=["POST","PUT"];l=Kt.prototype,l.Fa=function(u){this.H=u},l.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nr.g(),this.g.onreadystatechange=j(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ha(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(kr,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,$]of p)this.g.setRequestHeader(q,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ha(this,q)}};function Ha(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qr(u),vi(u)}function qr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}l.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),vi(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Kt.Z.N.call(this)},l.Ca=function(){this.u||(this.B||this.v||this.j?Pa(this):this.Xa())},l.Xa=function(){Pa(this)};function Pa(u){if(u.h&&typeof f<"u"){if(u.v&&Ln(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let $=String(u.D).match(lu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!ii.test($?$.toLowerCase():"")}p=T}if(p)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Ln(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",qr(u)}}finally{vi(u)}}}}function vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||De(u,"ready");try{p.onreadystatechange=null}catch{}}}l.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}l.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},l.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),rc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(u){const m={};u=(u.g&&Ln(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=au(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}Gt(m,function(T){return T.join(", ")})}l.ya=function(){return this.o},l.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Fi(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ai("baseRetryDelayMs",5e3,u),this.Za=ai("retryDelaySeedMs",1e4,u),this.Ta=ai("forwardChannelMaxRetries",2,u),this.va=ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dr(u&&u.concurrentRequestLimit),this.Ba=new Qi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}l=Fi.prototype,l.ka=8,l.I=1,l.connect=function(u,m,p,T){pe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),si(this)};function Hr(u){if(ws(u),u.I==3){var m=u.V++,p=ve(u.J);if(Qt(p,"SID",u.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Ga(u,p),m=new In(u,u.j,m),m.M=2,m.A=La(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zn(m)}yu(u)}function Ki(u){u.g&&(Gr(u),u.g.cancel(),u.g=null)}function ws(u){Ki(u),u.v&&(d.clearTimeout(u.v),u.v=null),Cs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function si(u){if(!Or(u.h)&&!u.m){u.m=!0;var m=u.Ea;qt||b(),St||(qt(),St=!0),C.add(m,u),u.D=0}}function xs(u,m){return Wn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Fn(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}l.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new In(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),p=ve(this.J),Qt(p,"RID",u),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),Ga(this,p),q&&(this.R?m="headers="+_i(Sn(q))+"&"+m:this.u&&qa(p,this.u,q)),Vr(this.h,U),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),U.U=!0,Xn(U,p,null)):Xn(U,p,m),this.I=2}}else this.I==3&&(u?Pr(this,u):this.i.length==0||Or(this.h)||Pr(this))};function Pr(u,m){var p;m?p=m.l:p=u.V++;const T=ve(u.J);Qt(T,"SID",u.M),Qt(T,"RID",p),Qt(T,"AID",u.K),Ga(u,T),u.u&&u.o&&qa(T,u.u,u.o),p=new In(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vr(u.h,p),Xn(p,T,m)}function Ga(u,m){u.H&&Ut(u.H,function(p,T){Qt(m,T,p)}),u.l&&Ut({},function(p,T){Qt(m,T,p)})}function fu(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let vt=-1;for(;;){const ce=["count="+p];vt==-1?p>0?(vt=U[0].g,ce.push("ofs="+vt)):vt=0:ce.push("ofs="+vt);let Ht=!0;for(let ie=0;ie<p;ie++){var q=U[ie].g;const bn=U[ie].map;if(q-=vt,q<0)vt=Math.max(0,U[ie].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var $=bn instanceof Map?bn:Object.entries(bn);for(const[li,Bn]of $){let kn=Bn;y(Bn)&&(kn=ki(Bn)),ce.push(q+li+"="+encodeURIComponent(kn))}}catch(li){throw ce.push(q+"type="+encodeURIComponent("_badmap")),li}}catch{T&&T(bn)}}if(Ht){$=ce.join("&");break t}}$=void 0}return u=u.i.splice(0,p),m.G=u,$}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qt||b(),St||(qt(),St=!0),C.add(m,u),u.A=0}}function Qa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Fn(_(u.Da,u),pu(u,u.A)),u.A++,!0)}l.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Fn(_(this.Wa,this),u)}},l.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),Ki(this),mu(this))};function Gr(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ga(u,m),u.u&&u.o&&qa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=La(ve(m)),p.u=null,p.R=!0,vs(p,u)}l.Va=function(){this.C!=null&&(this.C=null,Ki(this),Qa(this),pe(19))};function Cs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var p=null;if(u.g==m){Cs(u),Gr(u),u.g=null;var T=2}else if(ti(u.h,m))p=m.G,Mr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=_s(),De(T,new Yn(T,p)),si(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&xs(u,m)||T==2&&Qa(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:ri(u,5);break;case 4:ri(u,10);break;case 3:ri(u,6);break;default:ri(u,2)}}}function pu(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ri(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),La(T),U?jn(T.toString(),p):Br(T.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),yu(u),ws(u)}l.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Ir(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,p){var T=p instanceof hn?ve(p):new hn(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new hn(null);T&&ze(q,T),m&&(q.g=m),U&&qi(q,U),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Qt(T,p,m),Qt(T,"VER",u.ka),Ga(u,T),T}function vu(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ni({ab:p})):new Kt(u.ma),m.Fa(u.L),m}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}l=Eu.prototype,l.ra=function(){},l.qa=function(){},l.pa=function(){},l.oa=function(){},l.isActive=function(){return!0},l.Ka=function(){};function Xi(){}Xi.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new Fi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ti(this)}N(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Hr(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=ki(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&si(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Hr(this.g),delete this.g,Je.Z.N.call(this)};function Tu(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Tu,Le);function Su(){vn.call(this),this.status=1}N(Su,vn);function Ti(u){this.g=u}N(Ti,Eu),Ti.prototype.ra=function(){De(this.g,"a")},Ti.prototype.qa=function(u){De(this.g,new Tu(u))},Ti.prototype.pa=function(u){De(this.g,new Su)},Ti.prototype.oa=function(){De(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,V0=function(){return new Xi},O0=function(){return _s()},D0=oe,Nf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Vo=ja,Cr.COMPLETE="complete",N0=Cr,tu.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Nl=tu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,C0=Kt}).apply(typeof xo<"u"?xo:typeof self<"u"?self:typeof window<"u"?window:{});const gy="@firebase/firestore",py="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new T0("@firebase/firestore");function sr(){return ds.logLevel}function at(l,...n){if(ds.logLevel<=zt.DEBUG){const a=n.map($f);ds.debug(`Firestore (${Er}): ${l}`,...a)}}function Li(l,...n){if(ds.logLevel<=zt.ERROR){const a=n.map($f);ds.error(`Firestore (${Er}): ${l}`,...a)}}function fr(l,...n){if(ds.logLevel<=zt.WARN){const a=n.map($f);ds.warn(`Firestore (${Er}): ${l}`,...a)}}function $f(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(l,n,a){let r="Unexpected state";typeof n=="string"?r=n:a=n,M0(l,r,a)}function M0(l,n,a){let r=`FIRESTORE (${Er}) INTERNAL ASSERTION FAILED: ${n} (ID: ${l.toString(16)})`;if(a!==void 0)try{r+=" CONTEXT: "+JSON.stringify(a)}catch{r+=" CONTEXT: "+a}throw Li(r),new Error(r)}function re(l,n,a,r){let o="Unexpected state";typeof a=="string"?o=a:r=a,l||M0(n,o,r)}function jt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends vr{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class GT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(Ke.UNAUTHENTICATED)))}shutdown(){}}class QT{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class YT{constructor(n){this.t=n,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){re(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,a(v)):Promise.resolve();let f=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new cs,n.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;n.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new cs)}}),0),d()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==n?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new I0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return re(n===null||typeof n=="string",2055,{h:n}),new Ke(n)}}class FT{constructor(n,a,r){this.P=n,this.T=a,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KT{constructor(n,a,r){this.P=n,this.T=a,this.I=r}getToken(){return Promise.resolve(new FT(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XT{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xT(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){re(this.o===void 0,3512);const r=f=>{f.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable((()=>r(f)))};const o=f=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(re(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new yy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let r=0;r<l;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=ZT(40);for(let f=0;f<o.length;++f)r.length<20&&o[f]<a&&(r+=n.charAt(o[f]%62))}return r}}function Ot(l,n){return l<n?-1:l>n?1:0}function Df(l,n){const a=Math.min(l.length,n.length);for(let r=0;r<a;r++){const o=l.charAt(r),f=n.charAt(r);if(o!==f)return pf(o)===pf(f)?Ot(o,f):pf(o)?1:-1}return Ot(l.length,n.length)}const JT=55296,$T=57343;function pf(l){const n=l.charCodeAt(0);return n>=JT&&n<=$T}function dr(l,n,a){return l.length===n.length&&l.every(((r,o)=>a(r,n[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class fi{constructor(n,a,r){a===void 0?a=0:a>n.length&&_t(637,{offset:a,range:n.length}),r===void 0?r=n.length-a:r>n.length-a&&_t(1746,{length:r,range:n.length-a}),this.segments=n,this.offset=a,this.len=r}get length(){return this.len}isEqual(n){return fi.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof fi?n.forEach((r=>{a.push(r)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,r=this.limit();a<r;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const r=Math.min(n.length,a.length);for(let o=0;o<r;o++){const f=fi.compareSegments(n.get(o),a.get(o));if(f!==0)return f}return Ot(n.length,a.length)}static compareSegments(n,a){const r=fi.isNumericId(n),o=fi.isNumericId(a);return r&&!o?-1:!r&&o?1:r&&o?fi.extractNumericId(n).compare(fi.extractNumericId(a)):Df(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Sa.fromString(n.substring(4,n.length-2))}}class se extends fi{construct(n,a,r){return new se(n,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const r of n){if(r.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((o=>o.length>0)))}return new se(a)}static emptyPath(){return new se([])}}const WT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends fi{construct(n,a,r){return new We(n,a,r)}static isValidIdentifier(n){return WT.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new We([_y])}static fromServerFormat(n){const a=[];let r="",o=0;const f=()=>{if(r.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let d=!1;for(;o<n.length;){const y=n[o];if(y==="\\"){if(o+1===n.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(f(),o++)}if(f(),d)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new We(a)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(n){this.path=n}static fromPath(n){return new ft(se.fromString(n))}static fromName(n){return new ft(se.fromString(n).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&se.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return se.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new ft(new se(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(l,n,a){if(!a)throw new lt(W.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function e2(l,n,a,r){if(n===!0&&r===!0)throw new lt(W.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function vy(l){if(!ft.isDocumentKey(l))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function n2(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function i2(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=(function(r){return r.constructor?r.constructor.name:null})(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":_t(12329,{type:typeof l})}function Of(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=i2(l);throw new lt(W.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(l,n){const a={typeString:l};return n&&(a.value=n),a}function Yl(l,n){if(!n2(l))throw new lt(W.INVALID_ARGUMENT,"JSON must be an object");let a;for(const r in n)if(n[r]){const o=n[r].typeString,f="value"in n[r]?{value:n[r].value}:void 0;if(!(r in l)){a=`JSON missing required field: '${r}'`;break}const d=l[r];if(o&&typeof d!==o){a=`JSON field '${r}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){a=`Expected '${r}' field to equal '${f.value}'`;break}}if(a)throw new lt(W.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-62135596800,Ty=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(n){return Re.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),r=Math.floor((n-1e3*a)*Ty);return new Re(a,r)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<Ey)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ty}_compareTo(n){return this.seconds===n.seconds?Ot(this.nanoseconds,n.nanoseconds):Ot(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(Yl(n,Re._jsonSchema))return new Re(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-Ey;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(n){return new yt(n)}static min(){return new yt(new Re(0,0))}static max(){return new yt(new Re(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function a2(l,n){const a=l.toTimestamp().seconds,r=l.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new Re(a+1,0):new Re(a,r));return new Ra(o,ft.empty(),n)}function s2(l){return new Ra(l.readTime,l.key,ql)}class Ra{constructor(n,a,r){this.readTime=n,this.documentKey=a,this.largestBatchId=r}static min(){return new Ra(yt.min(),ft.empty(),ql)}static max(){return new Ra(yt.max(),ft.empty(),ql)}}function r2(l,n){let a=l.readTime.compareTo(n.readTime);return a!==0?a:(a=ft.comparator(l.documentKey,n.documentKey),a!==0?a:Ot(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(l){if(l.code!==W.FAILED_PRECONDITION||l.message!==l2)throw l;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new X(((r,o)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(r,o)},this.catchCallback=f=>{this.wrapFailure(a,f).next(r,o)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof X?a:X.resolve(a)}catch(a){return X.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):X.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):X.reject(a)}static resolve(n){return new X(((a,r)=>{a(n)}))}static reject(n){return new X(((a,r)=>{r(n)}))}static waitFor(n){return new X(((a,r)=>{let o=0,f=0,d=!1;n.forEach((y=>{++o,y.next((()=>{++f,d&&f===o&&a()}),(v=>r(v)))})),d=!0,f===o&&a()}))}static or(n){let a=X.resolve(!1);for(const r of n)a=a.next((o=>o?X.resolve(o):r()));return a}static forEach(n,a){const r=[];return n.forEach(((o,f)=>{r.push(a.call(this,o,f))})),this.waitFor(r)}static mapArray(n,a){return new X(((r,o)=>{const f=n.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;a(n[_]).next((S=>{d[_]=S,++y,y===f&&r(d)}),(S=>o(S)))}}))}static doWhile(n,a){return new X(((r,o)=>{const f=()=>{n()===!0?a().next((()=>{f()}),o):r()};f()}))}}function o2(l){const n=l.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Tr(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>a.writeSequenceNumber(r))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}Xo.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=-1;function Zo(l){return l==null}function Vf(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="";function h2(l){let n="";for(let a=0;a<l.length;a++)n.length>0&&(n=Sy(n)),n=f2(l.get(a),n);return Sy(n)}function f2(l,n){let a=n;const r=l.length;for(let o=0;o<r;o++){const f=l.charAt(o);switch(f){case"\0":a+="";break;case z0:a+="";break;default:a+=f}}return a}function Sy(l){return l+z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function Fl(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function d2(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(n,a){this.comparator=n,this.root=a||Ge.EMPTY}insert(n,a){return new me(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(n){return new me(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(n,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(n){let a=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(n,r.key);if(o===0)return a+r.left.size;o<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,r)=>(n(a,r),!1)))}toString(){const n=[];return this.inorderTraversal(((a,r)=>(n.push(`${a}:${r}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Co(this.root,n,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Co(this.root,n,this.comparator,!0)}}class Co{constructor(n,a,r,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=a?r(n.key,a):1,a&&o&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ge{constructor(n,a,r,o,f){this.key=n,this.value=a,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=f??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,r,o,f){return new Ge(n??this.key,a??this.value,r??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let o=this;const f=r(n,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(n,a,r),null):f===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(n,a,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let r,o=this;if(a(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(n,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw _t(27949);return n+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(n,a,r,o,f){return this}insert(n,a,r){return new Ge(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(n){this.comparator=n,this.data=new me(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,r)=>(n(a),!1)))}forEachInRange(n,a){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,n[1])>=0)return;a(o.key)}}forEachWhile(n,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(n){return new Ay(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((r=>{a=a.add(r)})),a}isEqual(n){if(!(n instanceof Me)||this.size!==n.size)return!1;const a=this.data.getIterator(),r=n.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,f=r.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new Me(this.comparator);return a.data=n,a}}class Ay{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(n){this.fields=n,n.sort(We.comparator)}static empty(){return new _a([])}unionWith(n){let a=new Me(We.comparator);for(const r of this.fields)a=a.add(r);for(const r of n)a=a.add(r);return new _a(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return dr(this.fields,n.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new j0("Invalid base64 string: "+f):f}})(n);return new Qe(a)}static fromUint8Array(n){const a=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(n);return new Qe(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ot(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(l){if(re(!!l,39018),typeof l=="string"){let n=0;const a=m2.exec(l);if(re(!!a,46558,{timestamp:l}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),n=Number(o)}const r=new Date(l);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:de(l.seconds),nanos:de(l.nanos)}}function de(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function xa(l){return typeof l=="string"?Qe.fromBase64String(l):Qe.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="server_timestamp",L0="__type__",B0="__previous_value__",k0="__local_write_time__";function td(l){var a,r;return((r=(((a=l==null?void 0:l.mapValue)==null?void 0:a.fields)||{})[L0])==null?void 0:r.stringValue)===U0}function Jo(l){const n=l.mapValue.fields[B0];return td(n)?Jo(n):n}function Hl(l){const n=wa(l.mapValue.fields[k0].timestampValue);return new Re(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(n,a,r,o,f,d,y,v,_,S){this.databaseId=n,this.appId=a,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const qo="(default)";class Pl{constructor(n,a){this.projectId=n,this.database=a||qo}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===qo}isEqual(n){return n instanceof Pl&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="__type__",y2="__max__",No={mapValue:{}},_2="__vector__",Mf="value";function Ca(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?td(l)?4:E2(l)?9007199254740991:v2(l)?10:11:_t(28295,{value:l})}function pi(l,n){if(l===n)return!0;const a=Ca(l);if(a!==Ca(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Hl(l).isEqual(Hl(n));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=wa(o.timestampValue),y=wa(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(l,n);case 5:return l.stringValue===n.stringValue;case 6:return(function(o,f){return xa(o.bytesValue).isEqual(xa(f.bytesValue))})(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return(function(o,f){return de(o.geoPointValue.latitude)===de(f.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(f.geoPointValue.longitude)})(l,n);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return de(o.integerValue)===de(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=de(o.doubleValue),y=de(f.doubleValue);return d===y?Vf(d)===Vf(y):isNaN(d)&&isNaN(y)}return!1})(l,n);case 9:return dr(l.arrayValue.values||[],n.arrayValue.values||[],pi);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},y=f.mapValue.fields||{};if(by(d)!==by(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!pi(d[v],y[v])))return!1;return!0})(l,n);default:return _t(52216,{left:l})}}function Gl(l,n){return(l.values||[]).find((a=>pi(a,n)))!==void 0}function mr(l,n){if(l===n)return 0;const a=Ca(l),r=Ca(n);if(a!==r)return Ot(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return Ot(l.booleanValue,n.booleanValue);case 2:return(function(f,d){const y=de(f.integerValue||f.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(l,n);case 3:return Ry(l.timestampValue,n.timestampValue);case 4:return Ry(Hl(l),Hl(n));case 5:return Df(l.stringValue,n.stringValue);case 6:return(function(f,d){const y=xa(f),v=xa(d);return y.compareTo(v)})(l.bytesValue,n.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Ot(y[_],v[_]);if(S!==0)return S}return Ot(y.length,v.length)})(l.referenceValue,n.referenceValue);case 8:return(function(f,d){const y=Ot(de(f.latitude),de(d.latitude));return y!==0?y:Ot(de(f.longitude),de(d.longitude))})(l.geoPointValue,n.geoPointValue);case 9:return wy(l.arrayValue,n.arrayValue);case 10:return(function(f,d){var j,Y,tt,Z;const y=f.fields||{},v=d.fields||{},_=(j=y[Mf])==null?void 0:j.arrayValue,S=(Y=v[Mf])==null?void 0:Y.arrayValue,N=Ot(((tt=_==null?void 0:_.values)==null?void 0:tt.length)||0,((Z=S==null?void 0:S.values)==null?void 0:Z.length)||0);return N!==0?N:wy(_,S)})(l.mapValue,n.mapValue);case 11:return(function(f,d){if(f===No.mapValue&&d===No.mapValue)return 0;if(f===No.mapValue)return 1;if(d===No.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let N=0;N<v.length&&N<S.length;++N){const j=Df(v[N],S[N]);if(j!==0)return j;const Y=mr(y[v[N]],_[S[N]]);if(Y!==0)return Y}return Ot(v.length,S.length)})(l.mapValue,n.mapValue);default:throw _t(23264,{he:a})}}function Ry(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return Ot(l,n);const a=wa(l),r=wa(n),o=Ot(a.seconds,r.seconds);return o!==0?o:Ot(a.nanos,r.nanos)}function wy(l,n){const a=l.values||[],r=n.values||[];for(let o=0;o<a.length&&o<r.length;++o){const f=mr(a[o],r[o]);if(f)return f}return Ot(a.length,r.length)}function gr(l){return If(l)}function If(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?(function(a){const r=wa(a);return`time(${r.seconds},${r.nanos})`})(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?(function(a){return xa(a).toBase64()})(l.bytesValue):"referenceValue"in l?(function(a){return ft.fromName(a).toString()})(l.referenceValue):"geoPointValue"in l?(function(a){return`geo(${a.latitude},${a.longitude})`})(l.geoPointValue):"arrayValue"in l?(function(a){let r="[",o=!0;for(const f of a.values||[])o?o=!1:r+=",",r+=If(f);return r+"]"})(l.arrayValue):"mapValue"in l?(function(a){const r=Object.keys(a.fields||{}).sort();let o="{",f=!0;for(const d of r)f?f=!1:o+=",",o+=`${d}:${If(a.fields[d])}`;return o+"}"})(l.mapValue):_t(61005,{value:l})}function Mo(l){switch(Ca(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Jo(l);return n?16+Mo(n):16;case 5:return 2*l.stringValue.length;case 6:return xa(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,f)=>o+Mo(f)),0)})(l.arrayValue);case 10:case 11:return(function(r){let o=0;return Fl(r.fields,((f,d)=>{o+=f.length+Mo(d)})),o})(l.mapValue);default:throw _t(13486,{value:l})}}function zf(l){return!!l&&"integerValue"in l}function ed(l){return!!l&&"arrayValue"in l}function xy(l){return!!l&&"nullValue"in l}function Cy(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function yf(l){return!!l&&"mapValue"in l}function v2(l){var a,r;return((r=(((a=l==null?void 0:l.mapValue)==null?void 0:a.fields)||{})[p2])==null?void 0:r.stringValue)===_2}function Il(l){if(l.geoPointValue)return{geoPointValue:{...l.geoPointValue}};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:{...l.timestampValue}};if(l.mapValue){const n={mapValue:{fields:{}}};return Fl(l.mapValue.fields,((a,r)=>n.mapValue.fields[a]=Il(r))),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Il(l.arrayValue.values[a]);return n}return{...l}}function E2(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===y2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(n){this.value=n}static empty(){return new di({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let r=0;r<n.length-1;++r)if(a=(a.mapValue.fields||{})[n.get(r)],!yf(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Il(a)}setAll(n){let a=We.emptyPath(),r={},o=[];n.forEach(((d,y)=>{if(!a.isImmediateParentOf(y)){const v=this.getFieldsMap(a);this.applyChanges(v,r,o),r={},o=[],a=y.popLast()}d?r[y.lastSegment()]=Il(d):o.push(y.lastSegment())}));const f=this.getFieldsMap(a);this.applyChanges(f,r,o)}delete(n){const a=this.field(n.popLast());yf(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return pi(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<n.length;++r){let o=a.mapValue.fields[n.get(r)];yf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[n.get(r)]=o),a=o}return a.mapValue.fields}applyChanges(n,a,r){Fl(a,((o,f)=>n[o]=f));for(const o of r)delete n[o]}clone(){return new di(Il(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(n,a,r,o,f,d,y){this.key=n,this.documentType=a,this.version=r,this.readTime=o,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(n){return new Xe(n,0,yt.min(),yt.min(),yt.min(),di.empty(),0)}static newFoundDocument(n,a,r,o){return new Xe(n,1,a,yt.min(),r,o,0)}static newNoDocument(n,a){return new Xe(n,2,a,yt.min(),yt.min(),di.empty(),0)}static newUnknownDocument(n,a){return new Xe(n,3,a,yt.min(),yt.min(),di.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Xe&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(n,a){this.position=n,this.inclusive=a}}function Ny(l,n,a){let r=0;for(let o=0;o<l.position.length;o++){const f=n[o],d=l.position[o];if(f.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),a.key):r=mr(d,a.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dy(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!pi(l.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(n,a="asc"){this.field=n,this.dir=a}}function T2(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{}class Ve extends q0{constructor(n,a,r){super(),this.field=n,this.op=a,this.value=r}static create(n,a,r){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,r):new b2(n,a,r):a==="array-contains"?new w2(n,r):a==="in"?new x2(n,r):a==="not-in"?new C2(n,r):a==="array-contains-any"?new N2(n,r):new Ve(n,a,r)}static createKeyFieldInFilter(n,a,r){return a==="in"?new A2(n,r):new R2(n,r)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(mr(a,this.value)):a!==null&&Ca(this.value)===Ca(a)&&this.matchesComparison(mr(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends q0{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new yi(n,a)}matches(n){return H0(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H0(l){return l.op==="and"}function P0(l){return S2(l)&&H0(l)}function S2(l){for(const n of l.filters)if(n instanceof yi)return!1;return!0}function jf(l){if(l instanceof Ve)return l.field.canonicalString()+l.op.toString()+gr(l.value);if(P0(l))return l.filters.map((n=>jf(n))).join(",");{const n=l.filters.map((a=>jf(a))).join(",");return`${l.op}(${n})`}}function G0(l,n){return l instanceof Ve?(function(r,o){return o instanceof Ve&&r.op===o.op&&r.field.isEqual(o.field)&&pi(r.value,o.value)})(l,n):l instanceof yi?(function(r,o){return o instanceof yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((f,d,y)=>f&&G0(d,o.filters[y])),!0):!1})(l,n):void _t(19439)}function Q0(l){return l instanceof Ve?(function(a){return`${a.field.canonicalString()} ${a.op} ${gr(a.value)}`})(l):l instanceof yi?(function(a){return a.op.toString()+" {"+a.getFilters().map(Q0).join(" ,")+"}"})(l):"Filter"}class b2 extends Ve{constructor(n,a,r){super(n,a,r),this.key=ft.fromName(r.referenceValue)}matches(n){const a=ft.comparator(n.key,this.key);return this.matchesComparison(a)}}class A2 extends Ve{constructor(n,a){super(n,"in",a),this.keys=Y0("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class R2 extends Ve{constructor(n,a){super(n,"not-in",a),this.keys=Y0("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function Y0(l,n){var a;return(((a=n.arrayValue)==null?void 0:a.values)||[]).map((r=>ft.fromName(r.referenceValue)))}class w2 extends Ve{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return ed(a)&&Gl(a.arrayValue,this.value)}}class x2 extends Ve{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Gl(this.value.arrayValue,a)}}class C2 extends Ve{constructor(n,a){super(n,"not-in",a)}matches(n){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Gl(this.value.arrayValue,a)}}class N2 extends Ve{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!ed(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(n,a=null,r=[],o=[],f=null,d=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=r,this.filters=o,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function Oy(l,n=null,a=[],r=[],o=null,f=null,d=null){return new D2(l,n,a,r,o,f,d)}function nd(l){const n=jt(l);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((r=>jf(r))).join(","),a+="|ob:",a+=n.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),Zo(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((r=>gr(r))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((r=>gr(r))).join(",")),n.Te=a}return n.Te}function id(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!T2(l.orderBy[a],n.orderBy[a]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!G0(l.filters[a],n.filters[a]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Dy(l.startAt,n.startAt)&&Dy(l.endAt,n.endAt)}function Uf(l){return ft.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(n,a=null,r=[],o=[],f=null,d="F",y=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=o,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O2(l,n,a,r,o,f,d,y){return new $o(l,n,a,r,o,f,d,y)}function ad(l){return new $o(l)}function Vy(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function V2(l){return l.collectionGroup!==null}function zl(l){const n=jt(l);if(n.Ie===null){n.Ie=[];const a=new Set;for(const f of n.explicitOrderBy)n.Ie.push(f),a.add(f.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Me(We.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(n).forEach((f=>{a.has(f.canonicalString())||f.isKeyField()||n.Ie.push(new Po(f,r))})),a.has(We.keyField().canonicalString())||n.Ie.push(new Po(We.keyField(),r))}return n.Ie}function gi(l){const n=jt(l);return n.Ee||(n.Ee=M2(n,zl(l))),n.Ee}function M2(l,n){if(l.limitType==="F")return Oy(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new Po(o.field,f)}));const a=l.endAt?new Ho(l.endAt.position,l.endAt.inclusive):null,r=l.startAt?new Ho(l.startAt.position,l.startAt.inclusive):null;return Oy(l.path,l.collectionGroup,n,l.filters,l.limit,a,r)}}function Lf(l,n,a){return new $o(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}function Wo(l,n){return id(gi(l),gi(n))&&l.limitType===n.limitType}function F0(l){return`${nd(gi(l))}|lt:${l.limitType}`}function rr(l){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((o=>Q0(o))).join(", ")}]`),Zo(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((o=>gr(o))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((o=>gr(o))).join(",")),`Target(${r})`})(gi(l))}; limitType=${l.limitType})`}function tc(l,n){return n.isFoundDocument()&&(function(r,o){const f=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):ft.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(l,n)&&(function(r,o){for(const f of zl(r))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(l,n)&&(function(r,o){for(const f of r.filters)if(!f.matches(o))return!1;return!0})(l,n)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=Ny(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,zl(r),o)||r.endAt&&!(function(d,y,v){const _=Ny(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,zl(r),o))})(l,n)}function I2(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function K0(l){return(n,a)=>{let r=!1;for(const o of zl(l)){const f=z2(o,n,a);if(f!==0)return f;r=r||o.field.isKeyField()}return 0}}function z2(l,n,a){const r=l.field.isKeyField()?ft.comparator(n.key,a.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?mr(v,_):_t(42886)})(l.field,n,a);switch(l.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r!==void 0){for(const[o,f]of r)if(this.equalsFn(o,n))return f}}has(n){return this.get(n)!==void 0}set(n,a){const r=this.mapKeyFn(n),o=this.inner[r];if(o===void 0)return this.inner[r]=[[n,a]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],n))return void(o[f]=[n,a]);o.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],n))return r.length===1?delete this.inner[a]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(n){Fl(this.inner,((a,r)=>{for(const[o,f]of r)n(o,f)}))}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new me(ft.comparator);function Na(){return j2}const X0=new me(ft.comparator);function Dl(...l){let n=X0;for(const a of l)n=n.insert(a.key,a);return n}function U2(l){let n=X0;return l.forEach(((a,r)=>n=n.insert(a,r.overlayedDocument))),n}function os(){return jl()}function Z0(){return jl()}function jl(){return new ms((l=>l.toString()),((l,n)=>l.isEqual(n)))}const L2=new Me(ft.comparator);function Lt(...l){let n=L2;for(const a of l)n=n.add(a);return n}const B2=new Me(Ot);function k2(){return B2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(n)?"-0":n}}function H2(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function P2(l,n,a){return l instanceof Bf?(function(o,f){const d={fields:{[L0]:{stringValue:U0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&td(f)&&(f=Jo(f)),f&&(d.fields[B0]=f),{mapValue:d}})(a,n):l instanceof Go?J0(l,n):l instanceof Qo?$0(l,n):(function(o,f){const d=Q2(o,f),y=My(d)+My(o.Ae);return zf(d)&&zf(o.Ae)?H2(y):q2(o.serializer,y)})(l,n)}function G2(l,n,a){return l instanceof Go?J0(l,n):l instanceof Qo?$0(l,n):a}function Q2(l,n){return l instanceof kf?(function(r){return zf(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(n)?n:{integerValue:0}:null}class Bf extends ec{}class Go extends ec{constructor(n){super(),this.elements=n}}function J0(l,n){const a=W0(n);for(const r of l.elements)a.some((o=>pi(o,r)))||a.push(r);return{arrayValue:{values:a}}}class Qo extends ec{constructor(n){super(),this.elements=n}}function $0(l,n){let a=W0(n);for(const r of l.elements)a=a.filter((o=>!pi(o,r)));return{arrayValue:{values:a}}}class kf extends ec{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function My(l){return de(l.integerValue||l.doubleValue)}function W0(l){return ed(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function Y2(l,n){return l.field.isEqual(n.field)&&(function(r,o){return r instanceof Go&&o instanceof Go||r instanceof Qo&&o instanceof Qo?dr(r.elements,o.elements,pi):r instanceof kf&&o instanceof kf?pi(r.Ae,o.Ae):r instanceof Bf&&o instanceof Bf})(l.transform,n.transform)}class hs{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new hs}static exists(n){return new hs(void 0,n)}static updateTime(n){return new hs(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Io(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class sd{}function t_(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new K2(l.key,hs.none()):new rd(l.key,l.data,hs.none());{const a=l.data,r=di.empty();let o=new Me(We.comparator);for(let f of n.fields)if(!o.has(f)){let d=a.field(f);d===null&&f.length>1&&(f=f.popLast(),d=a.field(f)),d===null?r.delete(f):r.set(f,d),o=o.add(f)}return new nc(l.key,r,new _a(o.toArray()),hs.none())}}function F2(l,n,a){l instanceof rd?(function(o,f,d){const y=o.value.clone(),v=zy(o.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(l,n,a):l instanceof nc?(function(o,f,d){if(!Io(o.precondition,f))return void f.convertToUnknownDocument(d.version);const y=zy(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(e_(o)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(l,n,a):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,a)}function Ul(l,n,a,r){return l instanceof rd?(function(f,d,y,v){if(!Io(f.precondition,d))return y;const _=f.value.clone(),S=jy(f.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(l,n,a,r):l instanceof nc?(function(f,d,y,v){if(!Io(f.precondition,d))return y;const _=jy(f.fieldTransforms,v,d),S=d.data;return S.setAll(e_(f)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((N=>N.field)))})(l,n,a,r):(function(f,d,y){return Io(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(l,n,a)}function Iy(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&dr(r,o,((f,d)=>Y2(f,d)))})(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class rd extends sd{constructor(n,a,r,o=[]){super(),this.key=n,this.value=a,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class nc extends sd{constructor(n,a,r,o,f=[]){super(),this.key=n,this.data=a,this.fieldMask=r,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function e_(l){const n=new Map;return l.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=l.data.field(a);n.set(a,r)}})),n}function zy(l,n,a){const r=new Map;re(l.length===a.length,32656,{Re:a.length,Ve:l.length});for(let o=0;o<a.length;o++){const f=l[o],d=f.transform,y=n.data.field(f.field);r.set(f.field,G2(d,y,a[o]))}return r}function jy(l,n,a){const r=new Map;for(const o of l){const f=o.transform,d=a.data.field(o.field);r.set(o.field,P2(f,d,n))}return r}class K2 extends sd{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(n,a,r,o){this.batchId=n,this.localWriteTime=a,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(n,a){const r=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(n.key)&&F2(f,n,r[o])}}applyToLocalView(n,a){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(a=Ul(r,n,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(a=Ul(r,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const r=Z0();return this.mutations.forEach((o=>{const f=n.get(o.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=a.has(o.key)?null:y;const v=t_(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),Lt())}isEqual(n){return this.batchId===n.batchId&&dr(this.mutations,n.mutations,((a,r)=>Iy(a,r)))&&dr(this.baseMutations,n.baseMutations,((a,r)=>Iy(a,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Mt;function n_(l){if(l===void 0)return Li("GRPC error has no .code"),W.UNKNOWN;switch(l){case Ae.OK:return W.OK;case Ae.CANCELLED:return W.CANCELLED;case Ae.UNKNOWN:return W.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return W.INTERNAL;case Ae.UNAVAILABLE:return W.UNAVAILABLE;case Ae.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ae.NOT_FOUND:return W.NOT_FOUND;case Ae.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ae.ABORTED:return W.ABORTED;case Ae.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ae.DATA_LOSS:return W.DATA_LOSS;default:return _t(39323,{code:l})}}(Mt=Ae||(Ae={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Sa([4294967295,4294967295],0);function Uy(l){const n=$2().encode(l),a=new x0;return a.update(n),new Uint8Array(a.digest())}function Ly(l){const n=new DataView(l.buffer),a=n.getUint32(0,!0),r=n.getUint32(4,!0),o=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new Sa([a,r],0),new Sa([o,f],0)]}class ld{constructor(n,a,r){if(this.bitmap=n,this.padding=a,this.hashCount=r,a<0||a>=8)throw new Ol(`Invalid padding: ${a}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(n.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(n.length===0&&a!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*n.length-a,this.pe=Sa.fromNumber(this.ge)}ye(n,a,r){let o=n.add(a.multiply(Sa.fromNumber(r)));return o.compare(W2)===1&&(o=new Sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.ge===0)return!1;const a=Uy(n),[r,o]=Ly(a);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);if(!this.we(d))return!1}return!0}static create(n,a,r){const o=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),d=new ld(f,o,a);return r.forEach((y=>d.insert(y))),d}insert(n){if(this.ge===0)return;const a=Uy(n),[r,o]=Ly(a);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);this.Se(d)}}Se(n){const a=Math.floor(n/8),r=n%8;this.bitmap[a]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(n,a,r,o,f){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,a,r){const o=new Map;return o.set(n,Kl.createSynthesizedTargetChangeForCurrentChange(n,a,r)),new ic(yt.min(),o,new me(Ot),Na(),Lt())}}class Kl{constructor(n,a,r,o,f){this.resumeToken=n,this.current=a,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,a,r){return new Kl(r,a,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(n,a,r,o){this.be=n,this.removedTargetIds=a,this.key=r,this.De=o}}class i_{constructor(n,a){this.targetId=n,this.Ce=a}}class a_{constructor(n,a,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=a,this.resumeToken=r,this.cause=o}}class By{constructor(){this.ve=0,this.Fe=ky(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=Lt(),a=Lt(),r=Lt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:n=n.add(o);break;case 2:a=a.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:f})}})),new Kl(this.Me,this.xe,n,a,r)}qe(){this.Oe=!1,this.Fe=ky()}Qe(n,a){this.Oe=!0,this.Fe=this.Fe.insert(n,a)}$e(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tS{constructor(n){this.Ge=n,this.ze=new Map,this.je=Na(),this.Je=Do(),this.He=Do(),this.Ye=new me(Ot)}Ze(n){for(const a of n.be)n.De&&n.De.isFoundDocument()?this.Xe(a,n.De):this.et(a,n.key,n.De);for(const a of n.removedTargetIds)this.et(a,n.key,n.De)}tt(n){this.forEachTarget(n,(a=>{const r=this.nt(a);switch(n.state){case 0:this.rt(a)&&r.Le(n.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(n.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(r.We(),r.Le(n.resumeToken));break;case 4:this.rt(a)&&(this.it(a),r.Le(n.resumeToken));break;default:_t(56790,{state:n.state})}}))}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.ze.forEach(((r,o)=>{this.rt(o)&&a(o)}))}st(n){const a=n.targetId,r=n.Ce.count,o=this.ot(a);if(o){const f=o.target;if(Uf(f))if(r===0){const d=new ft(f.path);this.et(a,d,Xe.newNoDocument(d,yt.min()))}else re(r===1,20013,{expectedCount:r});else{const d=this._t(a);if(d!==r){const y=this.ut(n),v=y?this.ct(y,n,d):1;if(v!==0){this.it(a);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,_)}}}}}ut(n){const a=n.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:f=0}=a;let d,y;try{d=xa(r).toUint8Array()}catch(v){if(v instanceof j0)return fr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new ld(d,o,f)}catch(v){return fr(v instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(n,a,r){return a.Ce.count===r-this.Pt(n,a.targetId)?0:2}Pt(n,a){const r=this.Ge.getRemoteKeysForTarget(a);let o=0;return r.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;n.mightContain(y)||(this.et(a,f,null),o++)})),o}Tt(n){const a=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&Uf(y.target)){const v=new ft(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,n))}f.Be&&(a.set(d,f.ke()),f.qe())}}));let r=Lt();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(n)));const o=new ic(n,a,this.Ye,this.je,r);return this.je=Na(),this.Je=Do(),this.He=Do(),this.Ye=new me(Ot),o}Xe(n,a){if(!this.rt(n))return;const r=this.Et(n,a.key)?2:0;this.nt(n).Qe(a.key,r),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(n)),this.He=this.He.insert(a.key,this.dt(a.key).add(n))}et(n,a,r){if(!this.rt(n))return;const o=this.nt(n);this.Et(n,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(n)),this.He=this.He.insert(a,this.dt(a).add(n)),r&&(this.je=this.je.insert(a,r))}removeTarget(n){this.ze.delete(n)}_t(n){const a=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Ue(n){this.nt(n).Ue()}nt(n){let a=this.ze.get(n);return a||(a=new By,this.ze.set(n,a)),a}dt(n){let a=this.He.get(n);return a||(a=new Me(Ot),this.He=this.He.insert(n,a)),a}It(n){let a=this.Je.get(n);return a||(a=new Me(Ot),this.Je=this.Je.insert(n,a)),a}rt(n){const a=this.ot(n)!==null;return a||at("WatchChangeAggregator","Detected inactive target",n),a}ot(n){const a=this.ze.get(n);return a&&a.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new By),this.Ge.getRemoteKeysForTarget(n).forEach((a=>{this.et(n,a,null)}))}Et(n,a){return this.Ge.getRemoteKeysForTarget(n).has(a)}}function Do(){return new me(ft.comparator)}function ky(){return new me(ft.comparator)}const eS={asc:"ASCENDING",desc:"DESCENDING"},nS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iS={and:"AND",or:"OR"};class aS{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function qf(l,n){return l.useProto3Json||Zo(n)?n:{value:n}}function sS(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function rS(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function cr(l){return re(!!l,49232),yt.fromTimestamp((function(a){const r=wa(a);return new Re(r.seconds,r.nanos)})(l))}function lS(l,n){return Hf(l,n).canonicalString()}function Hf(l,n){const a=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(l).child("documents");return n===void 0?a:a.child(n)}function s_(l){const n=se.fromString(l);return re(c_(n),10190,{key:n.toString()}),n}function _f(l,n){const a=s_(n);if(a.get(1)!==l.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new ft(l_(a))}function r_(l,n){return lS(l.databaseId,n)}function uS(l){const n=s_(l);return n.length===4?se.emptyPath():l_(n)}function qy(l){return new se(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function l_(l){return re(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function oS(l,n){let a;if("targetChange"in n){n.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(n.targetChange.targetChangeType||"NO_CHANGE"),o=n.targetChange.targetIds||[],f=(function(_,S){return _.useProto3Json?(re(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(re(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(l,n.targetChange.resumeToken),d=n.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?W.UNKNOWN:n_(_.code);return new lt(S,_.message||"")})(d);a=new a_(r,o,f,y||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const o=_f(l,r.document.name),f=cr(r.document.updateTime),d=r.document.createTime?cr(r.document.createTime):yt.min(),y=new di({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,f,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];a=new zo(_,S,v.key,v)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const o=_f(l,r.document),f=r.readTime?cr(r.readTime):yt.min(),d=Xe.newNoDocument(o,f),y=r.removedTargetIds||[];a=new zo([],y,d.key,d)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const o=_f(l,r.document),f=r.removedTargetIds||[];a=new zo([],f,o,null)}else{if(!("filter"in n))return _t(11601,{Rt:n});{n.filter;const r=n.filter;r.targetId;const{count:o=0,unchangedNames:f}=r,d=new J2(o,f),y=r.targetId;a=new i_(y,d)}}return a}function cS(l,n){return{documents:[r_(l,n.path)]}}function hS(l,n){const a={structuredQuery:{}},r=n.path;let o;n.collectionGroup!==null?(o=r,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=r_(l,o);const f=(function(_){if(_.length!==0)return o_(yi.create(_,"and"))})(n.filters);f&&(a.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((S=>(function(j){return{field:lr(j.field),direction:mS(j.dir)}})(S)))})(n.orderBy);d&&(a.structuredQuery.orderBy=d);const y=qf(l,n.limit);return y!==null&&(a.structuredQuery.limit=y),n.startAt&&(a.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(n.startAt)),n.endAt&&(a.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(n.endAt)),{ft:a,parent:o}}function fS(l){let n=uS(l.parent);const a=l.structuredQuery,r=a.from?a.from.length:0;let o=null;if(r>0){re(r===1,65062);const S=a.from[0];S.allDescendants?o=S.collectionId:n=n.child(S.collectionId)}let f=[];a.where&&(f=(function(N){const j=u_(N);return j instanceof yi&&P0(j)?j.getFilters():[j]})(a.where));let d=[];a.orderBy&&(d=(function(N){return N.map((j=>(function(tt){return new Po(ur(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(j)))})(a.orderBy));let y=null;a.limit&&(y=(function(N){let j;return j=typeof N=="object"?N.value:N,Zo(j)?null:j})(a.limit));let v=null;a.startAt&&(v=(function(N){const j=!!N.before,Y=N.values||[];return new Ho(Y,j)})(a.startAt));let _=null;return a.endAt&&(_=(function(N){const j=!N.before,Y=N.values||[];return new Ho(Y,j)})(a.endAt)),O2(n,o,d,f,y,"F",v,_)}function dS(l,n){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(n.purpose);return a==null?null:{"goog-listen-tags":a}}function u_(l){return l.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=ur(a.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ur(a.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ur(a.unaryFilter.field);return Ve.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ur(a.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(l):l.fieldFilter!==void 0?(function(a){return Ve.create(ur(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(l):l.compositeFilter!==void 0?(function(a){return yi.create(a.compositeFilter.filters.map((r=>u_(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(a.compositeFilter.op))})(l):_t(30097,{filter:l})}function mS(l){return eS[l]}function gS(l){return nS[l]}function pS(l){return iS[l]}function lr(l){return{fieldPath:l.canonicalString()}}function ur(l){return We.fromServerFormat(l.fieldPath)}function o_(l){return l instanceof Ve?(function(a){if(a.op==="=="){if(Cy(a.value))return{unaryFilter:{field:lr(a.field),op:"IS_NAN"}};if(xy(a.value))return{unaryFilter:{field:lr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Cy(a.value))return{unaryFilter:{field:lr(a.field),op:"IS_NOT_NAN"}};if(xy(a.value))return{unaryFilter:{field:lr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(a.field),op:gS(a.op),value:a.value}}})(l):l instanceof yi?(function(a){const r=a.getFilters().map((o=>o_(o)));return r.length===1?r[0]:{compositeFilter:{op:pS(a.op),filters:r}}})(l):_t(54877,{filter:l})}function c_(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(n,a,r,o,f=yt.min(),d=yt.min(),y=Qe.EMPTY_BYTE_STRING,v=null){this.target=n,this.targetId=a,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(n){return new va(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(n){this.yt=n}}function _S(l){const n=fS({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Lf(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.Cn=new ES}addToCollectionParentIndex(n,a){return this.Cn.add(a),X.resolve()}getCollectionParents(n,a){return X.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return X.resolve()}deleteFieldIndex(n,a){return X.resolve()}deleteAllFieldIndexes(n){return X.resolve()}createTargetIndexes(n,a){return X.resolve()}getDocumentsMatchingTarget(n,a){return X.resolve(null)}getIndexType(n,a){return X.resolve(0)}getFieldIndexes(n,a){return X.resolve([])}getNextCollectionGroupToUpdate(n){return X.resolve(null)}getMinOffset(n,a){return X.resolve(Ra.min())}getMinOffsetFromCollectionGroup(n,a){return X.resolve(Ra.min())}updateCollectionGroup(n,a,r){return X.resolve()}updateIndexEntries(n,a){return X.resolve()}}class ES{constructor(){this.index={}}add(n){const a=n.lastSegment(),r=n.popLast(),o=this.index[a]||new Me(se.comparator),f=!o.has(r);return this.index[a]=o.add(r),f}has(n){const a=n.lastSegment(),r=n.popLast(),o=this.index[a];return o&&o.has(r)}getEntries(n){return(this.index[n]||new Me(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h_=41943040;class on{static withCacheSize(n){return new on(n,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(h_,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new pr(0)}static cr(){return new pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",TS=1048576;function Gy([l,n],[a,r]){const o=Ot(l,a);return o===0?Ot(n,r):o}class SS{constructor(n){this.Ir=n,this.buffer=new Me(Gy),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();Gy(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class bS{constructor(n,a,r){this.garbageCollector=n,this.asyncQueue=a,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){at(Py,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Tr(a)?at(Py,"Ignoring IndexedDB error during garbage collection: ",a):await Ko(a)}await this.Vr(3e5)}))}}class AS{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((r=>Math.floor(a/100*r)))}nthSequenceNumber(n,a){if(a===0)return X.resolve(Xo.ce);const r=new SS(a);return this.mr.forEachTarget(n,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(n,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(n,a,r){return this.mr.removeTargets(n,a,r)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hy)):this.getCacheSize(n).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hy):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let r,o,f,d,y,v,_;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(n,o)))).next((N=>(r=N,y=Date.now(),this.removeTargets(n,r,a)))).next((N=>(f=N,v=Date.now(),this.removeOrphanedDocuments(n,r)))).next((N=>(_=Date.now(),sr()<=zt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:N}))))}}function RS(l,n){return new AS(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.changes=new ms((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Xe.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?X.resolve(r):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(n,a,r,o){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=o}getDocument(n,a){let r=null;return this.documentOverlayCache.getOverlay(n,a).next((o=>(r=o,this.remoteDocumentCache.getEntry(n,a)))).next((o=>(r!==null&&Ul(r.mutation,o,_a.empty(),Re.now()),o)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((r=>this.getLocalViewOfDocuments(n,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(n,a,r=Lt()){const o=os();return this.populateOverlays(n,o,a).next((()=>this.computeViews(n,a,o,r).next((f=>{let d=Dl();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(n,a){const r=os();return this.populateOverlays(n,r,a).next((()=>this.computeViews(n,a,r,Lt())))}populateOverlays(n,a,r){const o=[];return r.forEach((f=>{a.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(n,o).next((f=>{f.forEach(((d,y)=>{a.set(d,y)}))}))}computeViews(n,a,r,o){let f=Na();const d=jl(),y=(function(){return jl()})();return a.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof nc)?f=f.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ul(S.mutation,_,S.mutation.getFieldMask(),Re.now())):d.set(_.key,_a.empty())})),this.recalculateAndSaveOverlays(n,f).next((v=>(v.forEach(((_,S)=>d.set(_,S))),a.forEach(((_,S)=>y.set(_,new xS(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(n,a){const r=jl();let o=new me(((d,y)=>d-y)),f=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let S=r.get(v)||_a.empty();S=y.applyToLocalView(_,S),r.set(v,S);const N=(o.get(y.batchId)||Lt()).add(v);o=o.insert(y.batchId,N)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,N=Z0();S.forEach((j=>{if(!f.has(j)){const Y=t_(a.get(j),r.get(j));Y!==null&&N.set(j,Y),f=f.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(n,_,N))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((r=>this.recalculateAndSaveOverlays(n,r)))}getDocumentsMatchingQuery(n,a,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):V2(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,r,o):this.getDocumentsMatchingCollectionQuery(n,a,r,o)}getNextDocuments(n,a,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,r,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,r.largestBatchId,o-f.size):X.resolve(os());let y=ql,v=f;return d.next((_=>X.forEach(_,((S,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),f.get(S)?X.resolve():this.remoteDocumentCache.getEntry(n,S).next((j=>{v=v.insert(S,j)}))))).next((()=>this.populateOverlays(n,_,f))).next((()=>this.computeViews(n,v,_,Lt()))).next((S=>({batchId:y,changes:U2(S)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new ft(a)).next((r=>{let o=Dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(n,a,r,o){const f=a.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(n,f).next((y=>X.forEach(y,(v=>{const _=(function(N,j){return new $o(j,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(a,v.child(f));return this.getDocumentsMatchingCollectionQuery(n,_,r,o).next((S=>{S.forEach(((N,j)=>{d=d.insert(N,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,a,r,o){let f;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,r,f,o)))).next((d=>{f.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let y=Dl();return d.forEach(((v,_)=>{const S=f.get(v);S!==void 0&&Ul(S.mutation,_,_a.empty(),Re.now()),tc(a,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return X.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}})(a)),X.resolve()}getNamedQuery(n,a){return X.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:_S(o.bundledQuery),readTime:cr(o.readTime)}})(a)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.overlays=new me(ft.comparator),this.qr=new Map}getOverlay(n,a){return X.resolve(this.overlays.get(a))}getOverlays(n,a){const r=os();return X.forEach(a,(o=>this.getOverlay(n,o).next((f=>{f!==null&&r.set(o,f)})))).next((()=>r))}saveOverlays(n,a,r){return r.forEach(((o,f)=>{this.St(n,a,f)})),X.resolve()}removeOverlaysForBatchId(n,a,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(n,a,r){const o=os(),f=a.length+1,d=new ft(a.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>r&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(n,a,r,o){let f=new me(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>r){let S=f.get(_.largestBatchId);S===null&&(S=os(),f=f.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=os(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return X.resolve(y)}St(n,a,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Z2(a,r));let f=this.qr.get(a);f===void 0&&(f=Lt(),this.qr.set(a,f)),this.qr.set(a,f.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(n){return X.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const r=new Ue(n,a);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(n,a){n.forEach((r=>this.addReference(r,a)))}removeReference(n,a){this.Gr(new Ue(n,a))}zr(n,a){n.forEach((r=>this.removeReference(r,a)))}jr(n){const a=new ft(new se([])),r=new Ue(a,n),o=new Ue(a,n+1),f=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new ft(new se([])),r=new Ue(a,n),o=new Ue(a,n+1);let f=Lt();return this.Ur.forEachInRange([r,o],(d=>{f=f.add(d.key)})),f}containsKey(n){const a=new Ue(n,0),r=this.Qr.firstAfterOrEqual(a);return r!==null&&n.isEqual(r.key)}}class Ue{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return ft.comparator(n.key,a.key)||Ot(n.Yr,a.Yr)}static Kr(n,a){return Ot(n.Yr,a.Yr)||ft.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(n){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,r,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new X2(f,a,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,f)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(n,a){return X.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const r=a+1,o=this.ei(r),f=o<0?0:o;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?c2:this.tr-1)}getAllMutationBatches(n){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const r=new Ue(a,0),o=new Ue(a,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);f.push(y)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,a){let r=new Me(Ot);return a.forEach((o=>{const f=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{r=r.add(y.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(n,a){const r=a.path,o=r.length+1;let f=r;ft.isDocumentKey(f)||(f=f.child(""));const d=new Ue(new ft(f),0);let y=new Me(Ot);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(n){const a=[];return n.forEach((r=>{const o=this.Xr(r);o!==null&&a.push(o)})),a}removeMutationBatch(n,a){re(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(a.mutations,(o=>{const f=new Ue(o.key,a.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)})).next((()=>{this.Zr=r}))}ir(n){}containsKey(n,a){const r=new Ue(a,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(n){return this.mutationQueue.length,X.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(n){this.ri=n,this.docs=(function(){return new me(ft.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const r=a.key,o=this.docs.get(r),f=o?o.size:0,d=this.ri(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const r=this.docs.get(a);return X.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(a))}getEntries(n,a){let r=Na();return a.forEach((o=>{const f=this.docs.get(o);r=r.insert(o,f?f.document.mutableCopy():Xe.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(n,a,r,o){let f=Na();const d=a.path,y=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||r2(s2(S),r)<=0||(o.has(S.key)||tc(a,S))&&(f=f.insert(S.key,S.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(n,a,r,o){_t(9500)}ii(n,a){return X.forEach(this.docs,(r=>a(r)))}newChangeBuffer(n){return new IS(this)}getSize(n){return X.resolve(this.size)}}class IS extends wS{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(n,o)):this.Nr.removeEntry(r)})),X.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(n){this.persistence=n,this.si=new ms((a=>nd(a)),id),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new ud,this.targetCount=0,this.ai=pr.ur()}forEachTarget(n,a){return this.si.forEach(((r,o)=>a(o))),X.resolve()}getLastRemoteSnapshotVersion(n){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return X.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(n,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.oi&&(this.oi=a),X.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new pr(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,X.resolve()}updateTargetData(n,a){return this.Pr(a),X.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,X.resolve()}removeTargets(n,a,r){let o=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=a&&r.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(n,y.targetId)),o++)})),X.waitFor(f).next((()=>o))}getTargetCount(n){return X.resolve(this.targetCount)}getTargetData(n,a){const r=this.si.get(a)||null;return X.resolve(r)}addMatchingKeys(n,a,r){return this._i.Wr(a,r),X.resolve()}removeMatchingKeys(n,a,r){this._i.zr(a,r);const o=this.persistence.referenceDelegate,f=[];return o&&a.forEach((d=>{f.push(o.markPotentiallyOrphaned(n,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),X.resolve()}getMatchingKeysForTargetId(n,a){const r=this._i.Hr(a);return X.resolve(r)}containsKey(n,a){return X.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(n,a){this.ui={},this.overlays={},this.ci=new Xo(0),this.li=!1,this.li=!0,this.hi=new OS,this.referenceDelegate=n(this),this.Pi=new zS(this),this.indexManager=new vS,this.remoteDocumentCache=(function(o){return new MS(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yS(a),this.Ii=new NS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new DS,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let r=this.ui[n.toKey()];return r||(r=new VS(a,this.referenceDelegate),this.ui[n.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,r){at("MemoryPersistence","Starting transaction:",n);const o=new jS(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(n,a){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(n,a))))}}class jS extends u2{constructor(n){super(),this.currentSequenceNumber=n}}class od{constructor(n){this.persistence=n,this.Ri=new ud,this.Vi=null}static mi(n){return new od(n)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(n,a,r){return this.Ri.addReference(r,a),this.fi.delete(r.toString()),X.resolve()}removeReference(n,a,r){return this.Ri.removeReference(r,a),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),X.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,a.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>r.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(n,o).next((f=>{f||a.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((r=>{r?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return X.or([()=>X.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class Yo{constructor(n,a){this.persistence=n,this.pi=new ms((r=>h2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=RS(this,a)}static mi(n,a){return new Yo(n,a)}Ei(){}di(n){return X.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((r=>a.next((o=>r+o))))}wr(n){let a=0;return this.pr(n,(r=>{a++})).next((()=>a))}pr(n,a){return X.forEach(this.pi,((r,o)=>this.br(n,r,o).next((f=>f?X.resolve():a(o)))))}removeTargets(n,a,r){return this.persistence.getTargetCache().removeTargets(n,a,r)}removeOrphanedDocuments(n,a){let r=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(n,(d=>this.br(n,d,a).next((y=>{y||(r++,f.removeEntry(d,yt.min()))})))).next((()=>f.apply(n))).next((()=>r))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}removeTarget(n,a){const r=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,r)}addReference(n,a,r){return this.pi.set(r,n.currentSequenceNumber),X.resolve()}removeReference(n,a,r){return this.pi.set(r,n.currentSequenceNumber),X.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Mo(n.data.value)),a}br(n,a,r){return X.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const o=this.pi.get(a);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(n,a,r,o){this.targetId=n,this.fromCache=a,this.Es=r,this.ds=o}static As(n,a){let r=Lt(),o=Lt();for(const f of a.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new cd(n,a.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bE()?8:o2(TE())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,r,o){const f={result:null};return this.ys(n,a).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(n,a,o,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new US;return this.Ss(n,a,d).next((y=>{if(f.result=y,this.Vs)return this.bs(n,a,d,y.size)}))})).next((()=>f.result))}bs(n,a,r,o){return r.documentReadCount<this.fs?(sr()<=zt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",rr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(sr()<=zt.DEBUG&&at("QueryEngine","Query:",rr(a),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(sr()<=zt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",rr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,gi(a))):X.resolve())}ys(n,a){if(Vy(a))return X.resolve(null);let r=gi(a);return this.indexManager.getIndexType(n,r).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Lf(a,null,"F"),r=gi(a)),this.indexManager.getDocumentsMatchingTarget(n,r).next((f=>{const d=Lt(...f);return this.ps.getDocuments(n,d).next((y=>this.indexManager.getMinOffset(n,r).next((v=>{const _=this.Ds(a,y);return this.Cs(a,_,d,v.readTime)?this.ys(n,Lf(a,null,"F")):this.vs(n,_,a,v)}))))})))))}ws(n,a,r,o){return Vy(a)||o.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(n,r).next((f=>{const d=this.Ds(a,f);return this.Cs(a,d,r,o)?X.resolve(null):(sr()<=zt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rr(a)),this.vs(n,d,a,a2(o,ql)).next((y=>y)))}))}Ds(n,a){let r=new Me(K0(n));return a.forEach(((o,f)=>{tc(n,f)&&(r=r.add(f))})),r}Cs(n,a,r,o){if(n.limit===null)return!1;if(r.size!==a.size)return!0;const f=n.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(n,a,r){return sr()<=zt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",rr(a)),this.ps.getDocumentsMatchingQuery(n,a,Ra.min(),r)}vs(n,a,r,o){return this.ps.getDocumentsMatchingQuery(n,r,o).next((f=>(a.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="LocalStore",BS=3e8;class kS{constructor(n,a,r,o){this.persistence=n,this.Fs=a,this.serializer=o,this.Ms=new me(Ot),this.xs=new ms((f=>nd(f)),id),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(r)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new CS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function qS(l,n,a,r){return new kS(l,n,a,r)}async function d_(l,n){const a=jt(l);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return a.mutationQueue.getAllMutationBatches(r).next((f=>(o=f,a.Bs(n),a.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],y=[];let v=Lt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of f){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return a.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function m_(l){const n=jt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function HS(l,n){const a=jt(l),r=n.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const y=[];n.targetChanges.forEach(((S,N)=>{const j=o.get(N);if(!j)return;y.push(a.Pi.removeMatchingKeys(f,S.removedDocuments,N).next((()=>a.Pi.addMatchingKeys(f,S.addedDocuments,N))));let Y=j.withSequenceNumber(f.currentSequenceNumber);n.targetMismatches.get(N)!==null?Y=Y.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(S.resumeToken,r)),o=o.insert(N,Y),(function(Z,J,ut){return Z.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=BS?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(j,Y,S)&&y.push(a.Pi.updateTargetData(f,Y))}));let v=Na(),_=Lt();if(n.documentUpdates.forEach((S=>{n.resolvedLimboDocuments.has(S)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(f,S))})),y.push(PS(f,d,n.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(yt.min())){const S=a.Pi.getLastRemoteSnapshotVersion(f).next((N=>a.Pi.setTargetsMetadata(f,f.currentSequenceNumber,r)));y.push(S)}return X.waitFor(y).next((()=>d.apply(f))).next((()=>a.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(a.Ms=o,f)))}function PS(l,n,a){let r=Lt(),o=Lt();return a.forEach((f=>r=r.add(f))),n.getEntries(l,r).next((f=>{let d=Na();return a.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(n.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(n.addEntry(v),d=d.insert(y,v)):at(hd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function GS(l,n){const a=jt(l);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return a.Pi.getTargetData(r,n).next((f=>f?(o=f,X.resolve(o)):a.Pi.allocateTargetId(r).next((d=>(o=new va(n,d,"TargetPurposeListen",r.currentSequenceNumber),a.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=a.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(r.targetId,r),a.xs.set(n,r.targetId)),r}))}async function Pf(l,n,a){const r=jt(l),o=r.Ms.get(n),f=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",f,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Tr(d))throw d;at(hd,`Failed to update sequence numbers for target ${n}: ${d}`)}r.Ms=r.Ms.remove(n),r.xs.delete(o.target)}function Qy(l,n,a){const r=jt(l);let o=yt.min(),f=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const N=jt(v),j=N.xs.get(S);return j!==void 0?X.resolve(N.Ms.get(j)):N.Pi.getTargetData(_,S)})(r,d,gi(n)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,n,a?o:yt.min(),a?f:Lt()))).next((y=>(QS(r,I2(n),y),{documents:y,Qs:f})))))}function QS(l,n,a){let r=l.Os.get(n)||yt.min();a.forEach(((o,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)})),l.Os.set(n,r)}class Yy{constructor(){this.activeTargetIds=k2()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class YS{constructor(){this.Mo=new Yy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,r){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,r){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Yy,Promise.resolve()}handleUserChange(n,a,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class Ky{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Fy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){at(Fy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=null;function Gf(){return Oo===null?Oo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oo++,"0x"+Oo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",KS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===qo?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(n,a,r,o,f){const d=Gf(),y=this.zo(n,a.toUriEncodedString());at(vf,`Sending RPC '${n}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(y),S=Zf(_);return this.Jo(n,y,v,r,S).then((N=>(at(vf,`Received RPC '${n}' ${d}: `,N),N)),(N=>{throw fr(vf,`RPC '${n}' ${d} failed with error: `,N,"url: ",y,"request:",r),N}))}Ho(n,a,r,o,f,d){return this.Go(n,a,r,o,f)}jo(n,a,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Er})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,f)=>n[f]=o)),r&&r.headers.forEach(((o,f)=>n[f]=o))}zo(n,a){const r=KS[n];return`${this.Uo}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class JS extends XS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,r,o,f){const d=Gf();return new Promise(((y,v)=>{const _=new C0;_.setWithCredentials(!0),_.listenOnce(N0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const N=_.getResponseJson();at(Fe,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(N)),y(N);break;case Vo.TIMEOUT:at(Fe,`RPC '${n}' ${d} timed out`),v(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const j=_.getStatus();if(at(Fe,`RPC '${n}' ${d} failed with status:`,j,"response text:",_.getResponseText()),j>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y==null?void 0:Y.error;if(tt&&tt.status&&tt.message){const Z=(function(ut){const mt=ut.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(mt)>=0?mt:W.UNKNOWN})(tt.status);v(new lt(Z,tt.message))}else v(new lt(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(W.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:n,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Fe,`RPC '${n}' ${d} completed.`)}}));const S=JSON.stringify(o);at(Fe,`RPC '${n}' ${d} sending request:`,o),_.send(a,"POST",S,r,15)}))}T_(n,a,r){const o=Gf(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=V0(),y=O0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,a,r),v.encodeInitMessageHeaders=!0;const S=f.join("");at(Fe,`Creating RPC '${n}' stream ${o}: ${S}`,v);const N=d.createWebChannel(S,v);this.I_(N);let j=!1,Y=!1;const tt=new ZS({Yo:J=>{Y?at(Fe,`Not sending because RPC '${n}' stream ${o} is closed:`,J):(j||(at(Fe,`Opening RPC '${n}' stream ${o} transport.`),N.open(),j=!0),at(Fe,`RPC '${n}' stream ${o} sending:`,J),N.send(J))},Zo:()=>N.close()}),Z=(J,ut,mt)=>{J.listen(ut,(dt=>{try{mt(dt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return Z(N,Nl.EventType.OPEN,(()=>{Y||(at(Fe,`RPC '${n}' stream ${o} transport opened.`),tt.o_())})),Z(N,Nl.EventType.CLOSE,(()=>{Y||(Y=!0,at(Fe,`RPC '${n}' stream ${o} transport closed`),tt.a_(),this.E_(N))})),Z(N,Nl.EventType.ERROR,(J=>{Y||(Y=!0,fr(Fe,`RPC '${n}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),tt.a_(new lt(W.UNAVAILABLE,"The operation could not be completed")))})),Z(N,Nl.EventType.MESSAGE,(J=>{var ut;if(!Y){const mt=J.data[0];re(!!mt,16349);const dt=mt,Tt=(dt==null?void 0:dt.error)||((ut=dt[0])==null?void 0:ut.error);if(Tt){at(Fe,`RPC '${n}' stream ${o} received error:`,Tt);const qt=Tt.status;let St=(function(A){const M=Ae[A];if(M!==void 0)return n_(M)})(qt),C=Tt.message;St===void 0&&(St=W.INTERNAL,C="Unknown error status: "+qt+" with message "+Tt.message),Y=!0,tt.a_(new lt(St,C)),N.close()}else at(Fe,`RPC '${n}' stream ${o} received:`,mt),tt.u_(mt)}})),Z(y,D0.STAT_EVENT,(J=>{J.stat===Nf.PROXY?at(Fe,`RPC '${n}' stream ${o} detected buffering proxy`):J.stat===Nf.NOPROXY&&at(Fe,`RPC '${n}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(l){return new aS(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(n,a,r=1e3,o=1.5,f=6e4){this.Mi=n,this.timerId=a,this.d_=r,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="PersistentStream";class $S{constructor(n,a,r,o,f,d,y,v){this.Mi=n,this.S_=r,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p_(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===W.RESOURCE_EXHAUSTED?(Li(a.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===a&&this.G_(r,o)}),(r=>{n((()=>{const o=new lt(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(n,a){const r=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return at(Xy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(at(Xy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WS extends $S{constructor(n,a,r,o,f,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,o,d),this.serializer=f}j_(n,a){return this.connection.T_("Listen",n,a)}J_(n){return this.onNext(n)}onNext(n){this.M_.reset();const a=oS(this.serializer,n),r=(function(f){if(!("targetChange"in f))return yt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?cr(d.readTime):yt.min()})(n);return this.listener.H_(a,r)}Y_(n){const a={};a.database=qy(this.serializer),a.addTarget=(function(f,d){let y;const v=d.target;if(y=Uf(v)?{documents:cS(f,v)}:{query:hS(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=rS(f,d.resumeToken);const _=qf(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=sS(f,d.snapshotVersion.toTimestamp());const _=qf(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,n);const r=dS(this.serializer,n);r&&(a.labels=r),this.q_(a)}Z_(n){const a={};a.database=qy(this.serializer),a.removeTarget=n,this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class eb extends tb{constructor(n,a,r,o){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(n,Hf(a,r),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(W.UNKNOWN,f.toString())}))}Ho(n,a,r,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(n,Hf(a,r),o,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nb{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(a),this.aa=!1):at("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="RemoteStore";class ib{constructor(n,a,r,o,f){this.localStore=n,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zl(this)&&(at(yr,"Restarting streams for network reachability change."),await(async function(v){const _=jt(v);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await ac(_)})(this))}))})),this.Ra=new nb(r,o)}}async function ac(l){if(Zl(l))for(const n of l.da)await n(!0)}async function Xl(l){for(const n of l.da)await n(!1)}function y_(l,n){const a=jt(l);a.Ia.has(n.targetId)||(a.Ia.set(n.targetId,n),gd(a)?md(a):Sr(a).O_()&&dd(a,n))}function fd(l,n){const a=jt(l),r=Sr(a);a.Ia.delete(n),r.O_()&&__(a,n),a.Ia.size===0&&(r.O_()?r.L_():Zl(a)&&a.Ra.set("Unknown"))}function dd(l,n){if(l.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(yt.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}Sr(l).Y_(n)}function __(l,n){l.Va.Ue(n),Sr(l).Z_(n)}function md(l){l.Va=new tS({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),At:n=>l.Ia.get(n)||null,ht:()=>l.datastore.serializer.databaseId}),Sr(l).start(),l.Ra.ua()}function gd(l){return Zl(l)&&!Sr(l).x_()&&l.Ia.size>0}function Zl(l){return jt(l).Ea.size===0}function v_(l){l.Va=void 0}async function ab(l){l.Ra.set("Online")}async function sb(l){l.Ia.forEach(((n,a)=>{dd(l,n)}))}async function rb(l,n){v_(l),gd(l)?(l.Ra.ha(n),md(l)):l.Ra.set("Unknown")}async function lb(l,n,a){if(l.Ra.set("Online"),n instanceof a_&&n.state===2&&n.cause)try{await(async function(o,f){const d=f.cause;for(const y of f.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(l,n)}catch(r){at(yr,"Failed to remove targets %s: %s ",n.targetIds.join(","),r),await Zy(l,r)}else if(n instanceof zo?l.Va.Ze(n):n instanceof i_?l.Va.st(n):l.Va.tt(n),!a.isEqual(yt.min()))try{const r=await m_(l.localStore);a.compareTo(r)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=f.Ia.get(_);S&&f.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=f.Ia.get(v);if(!S)return;f.Ia.set(v,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),__(f,v);const N=new va(S.target,v,_,S.sequenceNumber);dd(f,N)})),f.remoteSyncer.applyRemoteEvent(y)})(l,a)}catch(r){at(yr,"Failed to raise snapshot:",r),await Zy(l,r)}}async function Zy(l,n,a){if(!Tr(n))throw n;l.Ea.add(1),await Xl(l),l.Ra.set("Offline"),a||(a=()=>m_(l.localStore)),l.asyncQueue.enqueueRetryable((async()=>{at(yr,"Retrying IndexedDB access"),await a(),l.Ea.delete(1),await ac(l)}))}async function Jy(l,n){const a=jt(l);a.asyncQueue.verifyOperationInProgress(),at(yr,"RemoteStore received new credentials");const r=Zl(a);a.Ea.add(3),await Xl(a),r&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await ac(a)}async function ub(l,n){const a=jt(l);n?(a.Ea.delete(2),await ac(a)):n||(a.Ea.add(2),await Xl(a),a.Ra.set("Unknown"))}function Sr(l){return l.ma||(l.ma=(function(a,r,o){const f=jt(a);return f.sa(),new WS(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(l.datastore,l.asyncQueue,{Xo:ab.bind(null,l),t_:sb.bind(null,l),r_:rb.bind(null,l),H_:lb.bind(null,l)}),l.da.push((async n=>{n?(l.ma.B_(),gd(l)?md(l):l.Ra.set("Unknown")):(await l.ma.stop(),v_(l))}))),l.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(n,a,r,o,f){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=r,this.op=o,this.removalCallback=f,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,r,o,f){const d=Date.now()+r,y=new pd(n,a,d,o,f);return y.start(r),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(l,n){if(Li("AsyncQueue",`${n}: ${l}`),Tr(l))return new lt(W.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{static emptySet(n){return new hr(n.comparator)}constructor(n){this.comparator=n?(a,r)=>n(a,r)||ft.comparator(a.key,r.key):(a,r)=>ft.comparator(a.key,r.key),this.keyedMap=Dl(),this.sortedSet=new me(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal(((a,r)=>(n(a),!1)))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof hr)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,f=r.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach((a=>{n.push(a.toString())})),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const r=new hr;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.ga=new me(ft.comparator)}track(n){const a=n.doc.key,r=this.ga.get(a);r?n.type!==0&&r.type===3?this.ga=this.ga.insert(a,n):n.type===3&&r.type!==1?this.ga=this.ga.insert(a,{type:r.type,doc:n.doc}):n.type===2&&r.type===2?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):n.type===2&&r.type===0?this.ga=this.ga.insert(a,{type:0,doc:n.doc}):n.type===1&&r.type===0?this.ga=this.ga.remove(a):n.type===1&&r.type===2?this.ga=this.ga.insert(a,{type:1,doc:r.doc}):n.type===0&&r.type===1?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):_t(63341,{Rt:n,pa:r}):this.ga=this.ga.insert(a,n)}ya(){const n=[];return this.ga.inorderTraversal(((a,r)=>{n.push(r)})),n}}class _r{constructor(n,a,r,o,f,d,y,v,_){this.query=n,this.docs=a,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(n,a,r,o,f){const d=[];return a.forEach((y=>{d.push({type:0,doc:y})})),new _r(n,a,hr.emptySet(a),d,r,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Wo(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,r=n.docChanges;if(a.length!==r.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==r[o].type||!a[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((n=>n.Da()))}}class cb{constructor(){this.queries=Wy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,r){const o=jt(a),f=o.queries;o.queries=Wy(),f.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function Wy(){return new ms((l=>F0(l)),Wo)}async function hb(l,n){const a=jt(l);let r=3;const o=n.query;let f=a.queries.get(o);f?!f.ba()&&n.Da()&&(r=2):(f=new ob,r=n.Da()?0:1);try{switch(r){case 0:f.wa=await a.onListen(o,!0);break;case 1:f.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(d){const y=E_(d,`Initialization of query '${rr(n.query)}' failed`);return void n.onError(y)}a.queries.set(o,f),f.Sa.push(n),n.va(a.onlineState),f.wa&&n.Fa(f.wa)&&yd(a)}async function fb(l,n){const a=jt(l),r=n.query;let o=3;const f=a.queries.get(r);if(f){const d=f.Sa.indexOf(n);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=n.Da()?0:1:!f.ba()&&n.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function db(l,n){const a=jt(l);let r=!1;for(const o of n){const f=o.query,d=a.queries.get(f);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&yd(a)}function mb(l,n,a){const r=jt(l),o=r.queries.get(n);if(o)for(const f of o.Sa)f.onError(a);r.queries.delete(n)}function yd(l){l.Ca.forEach((n=>{n.next()}))}var Qf,t0;(t0=Qf||(Qf={})).Ma="default",t0.Cache="cache";class gb{constructor(n,a,r){this.query=n,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(n){if(!this.options.includeMetadataChanges){const r=[];for(const o of n.docChanges)o.type!==3&&r.push(o);n=new _r(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),a=!0):this.La(n,this.onlineState)&&(this.ka(n),a=!0),this.Na=n,a}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),a=!0),a}La(n,a){if(!n.fromCache||!this.Da())return!0;const r=a!=="Offline";return(!this.options.qa||!r)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}Ba(n){if(n.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(n){n=_r.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(n){this.key=n}}class S_{constructor(n){this.key=n}}class pb{constructor(n,a){this.query=n,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=K0(n),this.tu=new hr(this.eu)}get nu(){return this.Ya}ru(n,a){const r=a?a.iu:new $y,o=a?a.tu:this.tu;let f=a?a.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal(((S,N)=>{const j=o.get(S),Y=tc(this.query,N)?N:null,tt=!!j&&this.mutatedKeys.has(j.key),Z=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let J=!1;j&&Y?j.data.isEqual(Y.data)?tt!==Z&&(r.track({type:3,doc:Y}),J=!0):this.su(j,Y)||(r.track({type:2,doc:Y}),J=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(y=!0)):!j&&Y?(r.track({type:0,doc:Y}),J=!0):j&&!Y&&(r.track({type:1,doc:j}),J=!0,(v||_)&&(y=!0)),J&&(Y?(d=d.add(Y),f=Z?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:f}}su(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,r,o){const f=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const d=n.iu.ya();d.sort(((S,N)=>(function(Y,tt){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return Z(Y)-Z(tt)})(S.type,N.type)||this.eu(S.doc,N.doc))),this.ou(r),o=o??!1;const y=a&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new _r(this.query,n.tu,f,d,n.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $y,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(n){return!this.Ya.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),n.modifiedDocuments.forEach((a=>{})),n.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const a=[];return n.forEach((r=>{this.Xa.has(r)||a.push(new S_(r))})),this.Xa.forEach((r=>{n.has(r)||a.push(new T_(r))})),a}cu(n){this.Ya=n.Qs,this.Xa=Lt();const a=this.ru(n.documents);return this.applyChanges(a,!0)}lu(){return _r.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _d="SyncEngine";class yb{constructor(n,a,r){this.query=n,this.targetId=a,this.view=r}}class _b{constructor(n){this.key=n,this.hu=!1}}class vb{constructor(n,a,r,o,f,d){this.localStore=n,this.remoteStore=a,this.eventManager=r,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ms((y=>F0(y)),Wo),this.Iu=new Map,this.Eu=new Set,this.du=new me(ft.comparator),this.Au=new Map,this.Ru=new ud,this.Vu={},this.mu=new Map,this.fu=pr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Eb(l,n,a=!0){const r=x_(l);let o;const f=r.Tu.get(n);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await b_(r,n,a,!0),o}async function Tb(l,n){const a=x_(l);await b_(a,n,!0,!1)}async function b_(l,n,a,r){const o=await GS(l.localStore,gi(n)),f=o.targetId,d=l.sharedClientState.addLocalQueryTarget(f,a);let y;return r&&(y=await Sb(l,n,f,d==="current",o.resumeToken)),l.isPrimaryClient&&a&&y_(l.remoteStore,o),y}async function Sb(l,n,a,r,o){l.pu=(N,j,Y)=>(async function(Z,J,ut,mt){let dt=J.view.ru(ut);dt.Cs&&(dt=await Qy(Z.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,dt))));const Tt=mt&&mt.targetChanges.get(J.targetId),qt=mt&&mt.targetMismatches.get(J.targetId)!=null,St=J.view.applyChanges(dt,Z.isPrimaryClient,Tt,qt);return n0(Z,J.targetId,St.au),St.snapshot})(l,N,j,Y);const f=await Qy(l.localStore,n,!0),d=new pb(n,f.Qs),y=d.ru(f.documents),v=Kl.createSynthesizedTargetChangeForCurrentChange(a,r&&l.onlineState!=="Offline",o),_=d.applyChanges(y,l.isPrimaryClient,v);n0(l,a,_.au);const S=new yb(n,a,d);return l.Tu.set(n,S),l.Iu.has(a)?l.Iu.get(a).push(n):l.Iu.set(a,[n]),_.snapshot}async function bb(l,n,a){const r=jt(l),o=r.Tu.get(n),f=r.Iu.get(o.targetId);if(f.length>1)return r.Iu.set(o.targetId,f.filter((d=>!Wo(d,n)))),void r.Tu.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pf(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),a&&fd(r.remoteStore,o.targetId),Yf(r,o.targetId)})).catch(Ko)):(Yf(r,o.targetId),await Pf(r.localStore,o.targetId,!0))}async function Ab(l,n){const a=jt(l),r=a.Tu.get(n),o=a.Iu.get(r.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),fd(a.remoteStore,r.targetId))}async function A_(l,n){const a=jt(l);try{const r=await HS(a.localStore,n);n.targetChanges.forEach(((o,f)=>{const d=a.Au.get(f);d&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?re(d.hu,14607):o.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await w_(a,r,n)}catch(r){await Ko(r)}}function e0(l,n,a){const r=jt(l);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const o=[];r.Tu.forEach(((f,d)=>{const y=d.view.va(n);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=jt(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,N)=>{for(const j of N.Sa)j.va(y)&&(_=!0)})),_&&yd(v)})(r.eventManager,n),o.length&&r.Pu.H_(o),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function Rb(l,n,a){const r=jt(l);r.sharedClientState.updateQueryState(n,"rejected",a);const o=r.Au.get(n),f=o&&o.key;if(f){let d=new me(ft.comparator);d=d.insert(f,Xe.newNoDocument(f,yt.min()));const y=Lt().add(f),v=new ic(yt.min(),new Map,new me(Ot),d,y);await A_(r,v),r.du=r.du.remove(f),r.Au.delete(n),vd(r)}else await Pf(r.localStore,n,!1).then((()=>Yf(r,n,a))).catch(Ko)}function Yf(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const r of l.Iu.get(n))l.Tu.delete(r),a&&l.Pu.yu(r,a);l.Iu.delete(n),l.isPrimaryClient&&l.Ru.jr(n).forEach((r=>{l.Ru.containsKey(r)||R_(l,r)}))}function R_(l,n){l.Eu.delete(n.path.canonicalString());const a=l.du.get(n);a!==null&&(fd(l.remoteStore,a),l.du=l.du.remove(n),l.Au.delete(a),vd(l))}function n0(l,n,a){for(const r of a)r instanceof T_?(l.Ru.addReference(r.key,n),wb(l,r)):r instanceof S_?(at(_d,"Document no longer in limbo: "+r.key),l.Ru.removeReference(r.key,n),l.Ru.containsKey(r.key)||R_(l,r.key)):_t(19791,{wu:r})}function wb(l,n){const a=n.key,r=a.path.canonicalString();l.du.get(a)||l.Eu.has(r)||(at(_d,"New document in limbo: "+a),l.Eu.add(r),vd(l))}function vd(l){for(;l.Eu.size>0&&l.du.size<l.maxConcurrentLimboResolutions;){const n=l.Eu.values().next().value;l.Eu.delete(n);const a=new ft(se.fromString(n)),r=l.fu.next();l.Au.set(r,new _b(a)),l.du=l.du.insert(a,r),y_(l.remoteStore,new va(gi(ad(a.path)),r,"TargetPurposeLimboResolution",Xo.ce))}}async function w_(l,n,a){const r=jt(l),o=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,n,a).then((_=>{var S;if((_||a)&&r.isPrimaryClient){const N=_?!_.fromCache:(S=a==null?void 0:a.targetChanges.get(v.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(_){o.push(_);const N=cd.As(v.targetId,_);f.push(N)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=jt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>X.forEach(_,(j=>X.forEach(j.Es,(Y=>S.persistence.referenceDelegate.addReference(N,j.targetId,Y))).next((()=>X.forEach(j.ds,(Y=>S.persistence.referenceDelegate.removeReference(N,j.targetId,Y)))))))))}catch(N){if(!Tr(N))throw N;at(hd,"Failed to update sequence numbers: "+N)}for(const N of _){const j=N.targetId;if(!N.fromCache){const Y=S.Ms.get(j),tt=Y.snapshotVersion,Z=Y.withLastLimboFreeSnapshotVersion(tt);S.Ms=S.Ms.insert(j,Z)}}})(r.localStore,f))}async function xb(l,n){const a=jt(l);if(!a.currentUser.isEqual(n)){at(_d,"User change. New user:",n.toKey());const r=await d_(a.localStore,n);a.currentUser=n,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new lt(W.CANCELLED,d))}))})),f.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await w_(a,r.Ls)}}function Cb(l,n){const a=jt(l),r=a.Au.get(n);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const f=a.Iu.get(n);if(!f)return o;for(const d of f){const y=a.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function x_(l){const n=jt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=A_.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cb.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Rb.bind(null,n),n.Pu.H_=db.bind(null,n.eventManager),n.Pu.yu=mb.bind(null,n.eventManager),n}class Fo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=g_(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return qS(this.persistence,new LS,n.initialUser,this.serializer)}Cu(n){return new f_(od.mi,this.serializer)}Du(n){return new YS}async terminate(){var n,a;(n=this.gcScheduler)==null||n.stop(),(a=this.indexBackfillerScheduler)==null||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fo.provider={build:()=>new Fo};class Nb extends Fo{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){re(this.persistence.referenceDelegate instanceof Yo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bS(r,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new f_((r=>Yo.mi(r,a)),this.serializer)}}class Ff{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xb.bind(null,this.syncEngine),await ub(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new cb})()}createDatastore(n){const a=g_(n.databaseInfo.databaseId),r=(function(f){return new JS(f)})(n.databaseInfo);return(function(f,d,y,v){return new eb(f,d,y,v)})(n.authCredentials,n.appCheckCredentials,r,a)}createRemoteStore(n){return(function(r,o,f,d,y){return new ib(r,o,f,d,y)})(this.localStore,this.datastore,n.asyncQueue,(a=>e0(this.syncEngine,a,0)),(function(){return Ky.v()?new Ky:new FS})())}createSyncEngine(n,a){return(function(o,f,d,y,v,_,S){const N=new vb(o,f,d,y,v,_);return S&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await(async function(o){const f=jt(o);at(yr,"RemoteStore shutting down."),f.Ea.add(5),await Xl(f),f.Aa.shutdown(),f.Ra.set("Unknown")})(this.remoteStore),(n=this.datastore)==null||n.terminate(),(a=this.eventManager)==null||a.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):Li("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,a){setTimeout((()=>{this.muted||n(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class Ob{constructor(n,a,r,o,f){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{at(Da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const r=E_(a,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}async function Tf(l,n){l.asyncQueue.verifyOperationInProgress(),at(Da,"Initializing OfflineComponentProvider");const a=l.configuration;await n.initialize(a);let r=a.initialUser;l.setCredentialChangeListener((async o=>{r.isEqual(o)||(await d_(n.localStore,o),r=o)})),n.persistence.setDatabaseDeletedListener((()=>l.terminate())),l._offlineComponents=n}async function i0(l,n){l.asyncQueue.verifyOperationInProgress();const a=await Vb(l);at(Da,"Initializing OnlineComponentProvider"),await n.initialize(a,l.configuration),l.setCredentialChangeListener((r=>Jy(n.remoteStore,r))),l.setAppCheckTokenChangeListener(((r,o)=>Jy(n.remoteStore,o))),l._onlineComponents=n}async function Vb(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){at(Da,"Using user provided OfflineComponentProvider");try{await Tf(l,l._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;fr("Error using user provided cache. Falling back to memory cache: "+a),await Tf(l,new Fo)}}else at(Da,"Using default OfflineComponentProvider"),await Tf(l,new Nb(void 0));return l._offlineComponents}async function Mb(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(at(Da,"Using user provided OnlineComponentProvider"),await i0(l,l._uninitializedComponentsProvider._online)):(at(Da,"Using default OnlineComponentProvider"),await i0(l,new Ff))),l._onlineComponents}async function Ib(l){const n=await Mb(l),a=n.eventManager;return a.onListen=Eb.bind(null,n.syncEngine),a.onUnlisten=bb.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=Tb.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=Ab.bind(null,n.syncEngine),a}function zb(l,n,a={}){const r=new cs;return l.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const S=new Db({next:j=>{S.Nu(),d.enqueueAndForget((()=>fb(f,N)));const Y=j.docs.has(y);!Y&&j.fromCache?_.reject(new lt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&j.fromCache&&v&&v.source==="server"?_.reject(new lt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(j)},error:j=>_.reject(j)}),N=new gb(ad(y.path),S,{includeMetadataChanges:!0,qa:!0});return hb(f,N)})(await Ib(l),l.asyncQueue,n,a,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="firestore.googleapis.com",s0=!0;class r0{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N_,this.ssl=s0}else this.host=n.host,this.ssl=n.ssl??s0;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=h_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<TS)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}e2("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C_(n.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ed{constructor(n,a,r,o){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GT;switch(r.type){case"firstParty":return new KT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=a0.get(a);r&&(at("ComponentProvider","Removing Datastore"),a0.delete(a),r.terminate())})(this),Promise.resolve()}}function jb(l,n,a,r={}){var _;l=Of(l,Ed);const o=Zf(n),f=l._getSettings(),d={...f,emulatorOptions:l._getEmulatorOptions()},y=`${n}:${a}`;o&&(pE(`https://${y}`),EE("Firestore",!0)),f.host!==N_&&f.host!==y&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:o,emulatorOptions:r};if(!Lo(v,d)&&(l._setSettings(v),r.mockUserToken)){let S,N;if(typeof r.mockUserToken=="string")S=r.mockUserToken,N=Ke.MOCK_USER;else{S=yE(r.mockUserToken,(_=l._app)==null?void 0:_.options.projectId);const j=r.mockUserToken.sub||r.mockUserToken.user_id;if(!j)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ke(j)}l._authCredentials=new QT(new I0(S,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(n,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new Td(this.firestore,n,this._query)}}class tn{constructor(n,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new tn(this.firestore,n,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,r){if(Yl(a,tn._jsonSchema))return new tn(n,r||null,new ft(se.fromString(a.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:we("string",tn._jsonSchemaVersion),referencePath:we("string")};class Ql extends Td{constructor(n,a,r){super(n,a,ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new tn(this.firestore,null,new ft(n))}withConverter(n){return new Ql(this.firestore,n,this._path)}}function Ub(l,n,...a){if(l=NE(l),arguments.length===1&&(n=Wf.newId()),t2("doc","path",n),l instanceof Ed){const r=se.fromString(n,...a);return vy(r),new tn(l,null,new ft(r))}{if(!(l instanceof tn||l instanceof Ql))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(se.fromString(n,...a));return vy(r),new tn(l.firestore,l instanceof Ql?l.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="AsyncQueue";class u0{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p_(this,"async_queue_retry"),this._c=()=>{const r=Ef();r&&at(l0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=n;const a=Ef();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=Ef();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!Tr(n))throw n;at(l0,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((r=>{throw this.nc=r,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",o0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=a,a}enqueueAfterDelay(n,a,r){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const o=pd.createAndSchedule(this,n,a,r,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function o0(l){let n=l.message||"";return l.stack&&(n=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),n}class D_ extends Ed{constructor(n,a,r,o){super(n,a,r,o),this.type="firestore",this._queue=new u0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new u0(n),this._firestoreClient=void 0,await n}}}function Lb(l,n){const a=typeof l=="object"?l:OT(),r=typeof l=="string"?l:qo,o=wT(a,"firestore").getImmediate({identifier:r});if(!o._initialized){const f=mE("firestore");f&&jb(o,...f)}return o}function Bb(l){if(l._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||kb(l),l._firestoreClient}function kb(l){var r,o,f;const n=l._freezeSettings(),a=(function(y,v,_,S){return new g2(y,v,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,C_(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(l._databaseId,((r=l._app)==null?void 0:r.options.appId)||"",l._persistenceKey,n);l._componentsProvider||(o=n.localCache)!=null&&o._offlineComponentProvider&&((f=n.localCache)!=null&&f._onlineComponentProvider)&&(l._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),l._firestoreClient=new Ob(l._authCredentials,l._appCheckCredentials,l._queue,a,l._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(n){this._byteString=n}static fromBase64String(n){try{return new mi(Qe.fromBase64String(n))}catch(a){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new mi(Qe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(Yl(n,mi._jsonSchema))return mi.fromBase64String(n.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:we("string",mi._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Ot(this._lat,n._lat)||Ot(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ba._jsonSchemaVersion}}static fromJSON(n){if(Yl(n,ba._jsonSchema))return new ba(n.latitude,n.longitude)}}ba._jsonSchemaVersion="firestore/geoPoint/1.0",ba._jsonSchema={type:we("string",ba._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(r,o){if(r.length!==o.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==o[f])return!1;return!0})(this._values,n._values)}toJSON(){return{type:Aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(Yl(n,Aa._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new Aa(n.vectorValues);throw new lt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Aa._jsonSchemaVersion="firestore/vectorValue/1.0",Aa._jsonSchema={type:we("string",Aa._jsonSchemaVersion),vectorValues:we("object")};const qb=new RegExp("[~\\*/\\[\\]]");function Hb(l,n,a){if(n.search(qb)>=0)throw c0(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new O_(...n.split("."))._internalPath}catch{throw c0(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function c0(l,n,a,r,o){let f=`Function ${n}() called with invalid data`;f+=". ";let d="";return new lt(W.INVALID_ARGUMENT,f+l+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(n,a,r,o,f){this._firestore=n,this._userDataWriter=a,this._key=r,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new Pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(M_("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class Pb extends V_{data(){return super.data()}}function M_(l,n){return typeof n=="string"?Hb(l,n):n instanceof O_?n._internalPath:n._delegate._internalPath}class Gb{convertValue(n,a="none"){switch(Ca(n)){case 0:return null;case 1:return n.booleanValue;case 2:return de(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(xa(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw _t(62114,{value:n})}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const r={};return Fl(n,((o,f)=>{r[o]=this.convertValue(f,a)})),r}convertVectorValue(n){var r,o,f;const a=(f=(o=(r=n.fields)==null?void 0:r[Mf].arrayValue)==null?void 0:o.values)==null?void 0:f.map((d=>de(d.doubleValue)));return new Aa(a)}convertGeoPoint(n){return new ba(de(n.latitude),de(n.longitude))}convertArray(n,a){return(n.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(n,a){switch(a){case"previous":const r=Jo(n);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(Hl(n));default:return null}}convertTimestamp(n){const a=wa(n);return new Re(a.seconds,a.nanos)}convertDocumentKey(n,a){const r=se.fromString(n);re(c_(r),9688,{name:n});const o=new Pl(r.get(1),r.get(3)),f=new ft(r.popFirst(5));return o.isEqual(a)||Li(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),f}}class Vl{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class fs extends V_{constructor(n,a,r,o,f,d){super(n,a,r,o,d),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const r=this._document.data.field(M_("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=fs._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:we("string",fs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class jo extends fs{data(n={}){return super.data(n)}}class Ll{constructor(n,a,r,o){this._firestore=n,this._userDataWriter=a,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((r=>{n.call(a,new jo(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new jo(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new jo(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:Qb(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Ll._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],r=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(a.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function Qb(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(l){l=Of(l,tn);const n=Of(l.firestore,D_);return zb(Bb(n),l._key).then((a=>Kb(n,l,a)))}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:we("string",Ll._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class Fb extends Gb{constructor(n){super(),this.firestore=n}convertBytes(n){return new mi(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new tn(this.firestore,null,a)}}function Kb(l,n,a){const r=a.docs.get(n._key),o=new Fb(l);return new fs(l,o,n._key,r,new Vl(a.hasPendingWrites,a.fromCache),n.converter)}(function(n,a=!0){(function(o){Er=o})(DT),ko(new Bl("firestore",((r,{instanceIdentifier:o,options:f})=>{const d=r.getProvider("app").getImmediate(),y=new D_(new YT(r.getProvider("auth-internal")),new XT(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,S)})(d,o),d);return f={useFetchStreams:a,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),or(gy,py,n),or(gy,py,"esm2020")})();const Xb={apiKey:"AIzaSyBuXvn88ZLD3NOS32IJeEr2CsyCxshUQcM",authDomain:"pronunciation-examination.firebaseapp.com",projectId:"pronunciation-examination",storageBucket:"pronunciation-examination.firebasestorage.app",messagingSenderId:"1076942783492",appId:"1:1076942783492:web:3da71f597ad3fa68d4a151",measurementId:"G-LK73P1LZ7Y"},Zb=A0(Xb),Jb=Lb(Zb),$b=async(l,n)=>{try{const a=Ub(Jb,"Cedar",l),r=await Yb(a);return!!(r.exists()&&r.data().Password===n)}catch(a){return console.error("Auth error:",a),!1}},Wb=({onLogin:l})=>{const[n,a]=It.useState(""),[r,o]=It.useState(""),[f,d]=It.useState(""),[y,v]=It.useState(!1),_=async S=>{if(S.preventDefault(),d(""),v(!0),!n||!r){d("Please fill in all fields"),v(!1);return}await $b(n,r)?l(n):d("Authentication failed. Check your name and password format."),v(!1)};return x.jsxs("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center p-4 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 z-0",children:[x.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-900/20 rounded-full blur-[120px]"}),x.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-900/10 rounded-full blur-[120px]"})]}),x.jsxs("div",{className:"relative z-10 w-full max-w-md bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[x.jsxs("div",{className:"flex flex-col items-center mb-8",children:[x.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-500 to-amber-700 rounded-full flex items-center justify-center shadow-lg mb-4",children:x.jsx(H1,{className:"w-8 h-8 text-black"})}),x.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"VOCAL BOOTH"}),x.jsx("p",{className:"text-gray-400 text-sm mt-2 uppercase tracking-widest",children:"Examination Portal"})]}),x.jsxs("form",{onSubmit:_,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Full Name"}),x.jsx("input",{type:"text",value:n,onChange:S=>a(S.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Asep Sadboy"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-amber-500 text-xs font-bold uppercase tracking-wider mb-2",children:"Password"}),x.jsx("input",{type:"text",value:r,onChange:S=>o(S.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors",placeholder:"e.g. Siluman, March 13, 2013"}),x.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Format: Place, Month Day, Year"})]}),f&&x.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 text-sm p-3 rounded-lg",children:f}),x.jsx("button",{type:"submit",disabled:y,className:"w-full bg-amber-600 hover:bg-amber-500 text-black font-bold py-3.5 rounded-lg transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(245,158,11,0.3)] hover:shadow-[0_0_20px_rgba(245,158,11,0.5)]",children:y?"AUTHENTICATING...":"ENTER STUDIO"})]})]})]})},tA=({user:l,onStart:n})=>{const a=It.useRef(null),[r,o]=It.useState(null),f=It.useRef(null),[d,y]=It.useState(!1),[v,_]=It.useState(!1),[S,N]=It.useState(!1),j=Z=>{if(!Z){y(!1),_(!1);return}const J=Z.getVideoTracks(),ut=Z.getAudioTracks(),mt=J.some(Tt=>Tt.readyState==="live"&&Tt.enabled&&!Tt.muted),dt=ut.some(Tt=>Tt.readyState==="live"&&Tt.enabled&&!Tt.muted);console.log("Status Check -> Video:",mt,"Audio:",dt),y(mt),_(dt)},Y=async()=>{try{N(!1),f.current&&f.current.getTracks().forEach(J=>J.stop());const Z=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});f.current=Z,o(Z),j(Z),a.current&&(a.current.srcObject=Z)}catch(Z){console.error("Access denied",Z),N(!0),y(!1),_(!1)}};It.useEffect(()=>{Y()},[]),It.useEffect(()=>{if(!r)return;const Z=()=>{j(r)};r.getTracks().forEach(ut=>{ut.onmute=Z,ut.onunmute=Z,ut.onended=Z});const J=setInterval(()=>{j(r)},500);return()=>{clearInterval(J),r&&r.getTracks().forEach(ut=>{ut.onmute=null,ut.onunmute=null,ut.onended=null})}},[r]),It.useEffect(()=>{a.current&&r&&(a.current.srcObject=r)},[r,d]),It.useEffect(()=>()=>{f.current&&(f.current.getTracks().forEach(Z=>Z.stop()),f.current=null)},[]);const tt=d&&v;return x.jsxs("div",{className:"flex flex-col h-full text-white",children:[x.jsxs("div",{className:"mb-8",children:[x.jsxs("h2",{className:"text-3xl font-bold text-white mb-1",children:["Welcome, ",x.jsx("span",{className:"text-amber-500",children:l.fullName})]}),x.jsx("p",{className:"text-gray-400",children:"Please review the examination rules and check your equipment."})]}),x.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 flex-grow",children:[x.jsx("div",{className:"lg:w-1/2 space-y-6",children:x.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 p-6 rounded-xl",children:[x.jsxs("h3",{className:"text-amber-500 font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[x.jsx(m0,{className:"w-5 h-5"}),"Examination Rules"]}),x.jsxs("ul",{className:"space-y-4 text-gray-300",children:[x.jsxs("li",{className:"flex gap-3",children:[x.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"1"}),x.jsx("span",{children:"The exam consists of 3 consecutive sessions."})]}),x.jsxs("li",{className:"flex gap-3",children:[x.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"2"}),x.jsxs("span",{children:["Each session has a strict ",x.jsx("strong",{children:"1-minute"})," time limit."]})]}),x.jsxs("li",{className:"flex gap-3",children:[x.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"3"}),x.jsx("span",{children:"Recording starts automatically. Speak clearly."})]}),x.jsxs("li",{className:"flex gap-3",children:[x.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"4"}),x.jsx("span",{children:"There are short breaks between sessions."})]}),x.jsxs("li",{className:"flex gap-3",children:[x.jsx("span",{className:"bg-gray-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-amber-500 shrink-0",children:"5"}),x.jsx("span",{children:"At the end, you must download your 3 recordings."})]})]})]})}),x.jsxs("div",{className:"lg:w-1/2 flex flex-col",children:[x.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden border border-gray-800 shadow-xl flex-grow min-h-[300px] flex flex-col",children:[x.jsxs("div",{className:"relative flex-grow bg-black",children:[r?x.jsx("video",{ref:a,autoPlay:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover transform scale-x-[-1] transition-opacity duration-300 ${d?"opacity-100":"opacity-30"}`}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx(Wp,{className:"w-16 h-16 text-gray-800"})}),r&&(!d||!v)&&x.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm z-10 p-4 pointer-events-none",children:x.jsxs("div",{className:"flex flex-col gap-2",children:[!d&&x.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[x.jsx(ny,{className:"w-5 h-5"})," CAMERA ERROR"]}),!v&&x.jsxs("div",{className:"bg-red-900/80 px-4 py-2 rounded text-red-200 font-bold flex items-center gap-2 animate-pulse",children:[x.jsx(ey,{className:"w-5 h-5"})," MIC ERROR"]})]})})]}),x.jsx("div",{className:"bg-gray-900 border-t border-gray-800 p-4",children:r?x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${d?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[d?x.jsx(Wp,{className:"w-3 h-3"}):x.jsx(ny,{className:"w-3 h-3"}),d?"CAMERA ON":"CAMERA OFF"]}),x.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold border flex items-center gap-2 transition-colors ${v?"bg-green-900/30 border-green-500 text-green-400":"bg-red-900/30 border-red-500 text-red-400"}`,children:[v?x.jsx(g0,{className:"w-3 h-3"}):x.jsx(ey,{className:"w-3 h-3"}),v?"MIC ON":"MIC OFF"]})]}),x.jsx("button",{onClick:Y,className:"p-2 rounded-full bg-gray-800 text-gray-400 hover:text-white hover:bg-gray-700",title:"Reconnect Devices",children:x.jsx(p0,{className:"w-4 h-4"})})]}):x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Initializing devices..."}),x.jsxs("button",{onClick:Y,className:"mx-auto bg-gray-800 hover:bg-gray-700 text-white px-6 py-2 rounded-full font-bold flex items-center gap-2 transition-colors border border-gray-600 hover:border-amber-500",children:[x.jsx(F1,{className:"w-4 h-4"}),"Retry Connection"]}),S&&x.jsx("p",{className:"text-red-500 mt-2 text-xs",children:"Permission denied. Check browser settings."})]})})]}),x.jsxs("button",{onClick:n,disabled:!tt,className:"mt-6 w-full bg-amber-600 hover:bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 disabled:cursor-not-allowed text-black font-bold py-4 rounded-xl transition-all shadow-[0_0_20px_rgba(245,158,11,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.5)] flex items-center justify-center gap-2 text-lg disabled:shadow-none",children:[x.jsx(Q1,{className:"w-6 h-6 fill-current"}),tt?"START EXAMINATION":"DEVICES NOT READY"]})]})]})]})},Sf=({user:l,sessionNumber:n,title:a,textContent:r,onComplete:o})=>{const[f,d]=It.useState(60),[y,v]=It.useState(!1),[_,S]=It.useState(null),[N,j]=It.useState(!1),Y=It.useRef(null),tt=It.useRef(null),Z=It.useRef([]),J=It.useRef(null),ut=It.useRef(!1);It.useEffect(()=>{let qt=!0;const St=async()=>{try{S(null),j(!1),ut.current=!1,console.log("Requesting user media for session...");const b=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720}},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});if(!qt){b.getTracks().forEach(I=>I.stop());return}J.current=b,Y.current&&(Y.current.srcObject=b),b.getTracks().forEach(I=>{I.onended=()=>{ut.current||(console.error("Track ended unexpectedly"),v(!1),j(!0),tt.current&&tt.current.state==="recording"&&tt.current.stop())}});let A="video/webm;codecs=vp8,opus";MediaRecorder.isTypeSupported(A)||(A="video/webm",MediaRecorder.isTypeSupported(A)||(A=""));const M=A?{mimeType:A}:void 0,D=new MediaRecorder(b,M);D.ondataavailable=I=>{I.data.size>0&&Z.current.push(I.data)},D.onstop=()=>{if(ut.current){const I=new Blob(Z.current,{type:"video/webm"});o(I),b.getTracks().forEach(R=>R.stop())}},tt.current=D,D.start(),v(!0)}catch(b){console.error("Error accessing media devices.",b);let A="Camera/Microphone access error.";b.name==="NotAllowedError"&&(A="Access denied. Please check permissions."),b.name==="NotFoundError"&&(A="No camera or microphone found."),b.name==="NotReadableError"&&(A="Hardware error. Camera might be in use."),S(A)}},C=setTimeout(()=>{St()},500);return()=>{qt=!1,clearTimeout(C),J.current&&J.current.getTracks().forEach(b=>b.stop())}},[]),It.useEffect(()=>{if(!y)return;const qt=setInterval(()=>{d(St=>St<=1?(mt(),0):St-1)},1e3);return()=>clearInterval(qt)},[y]);const mt=()=>{tt.current&&tt.current.state!=="inactive"&&(ut.current=!0,tt.current.stop())},dt=()=>{const qt=new Blob(Z.current,{type:"video/webm"});J.current&&J.current.getTracks().forEach(St=>St.stop()),o(qt)},Tt=(60-f)/60*100;return N?x.jsxs("div",{className:"flex flex-col h-full items-center justify-center bg-black rounded-xl border border-red-900/50 p-8 text-center animate-in fade-in zoom-in duration-300",children:[x.jsx("div",{className:"w-20 h-20 bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:x.jsx(tE,{className:"w-10 h-10 text-red-500"})}),x.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Hardware Connection Lost"}),x.jsx("p",{className:"text-gray-400 mb-8 max-w-md",children:"Your camera or microphone was disconnected during the session. Don't worry, we have saved what was recorded so far."}),x.jsx("div",{className:"flex gap-4",children:x.jsxs("button",{onClick:dt,className:"flex items-center space-x-2 bg-amber-600 hover:bg-amber-500 text-black px-8 py-3 rounded-full font-bold transition-transform hover:scale-105",children:[x.jsx("span",{children:"Proceed to Next Session"}),x.jsx(bf,{className:"w-5 h-5"})]})})]}):x.jsxs("div",{className:"flex flex-col h-full text-white",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold text-amber-500 tracking-wider",children:["SESSION 0",n]}),x.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-widest",children:a})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full border ${y?"bg-red-900/30 border-red-500/50":"bg-gray-800 border-gray-600"}`,children:[x.jsx("div",{className:`w-3 h-3 rounded-full ${y?"bg-red-500 animate-pulse":"bg-gray-500"}`}),x.jsx("span",{className:`${y?"text-red-400":"text-gray-400"} font-mono text-xs`,children:y?"REC":"READY"})]}),x.jsxs("div",{className:"flex items-center space-x-2 font-mono text-xl text-amber-500",children:[x.jsx($1,{className:"w-5 h-5"}),x.jsxs("span",{children:["00:",f.toString().padStart(2,"0")]})]})]})]}),x.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-grow",children:[x.jsxs("div",{className:"lg:w-1/2 bg-gray-900/50 p-6 rounded-xl border border-gray-700 shadow-inner flex flex-col",children:[x.jsx("h3",{className:"text-gray-400 text-xs uppercase mb-4 tracking-widest",children:"Script Content"}),x.jsx("div",{className:"flex-grow flex items-center justify-center",children:x.jsx("div",{className:"text-xl md:text-2xl leading-relaxed font-serif text-gray-200 text-center",children:r})})]}),x.jsx("div",{className:"lg:w-1/2 relative bg-black rounded-xl overflow-hidden border-2 border-gray-800 shadow-2xl",children:_?x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-6 bg-gray-900",children:[x.jsx(m0,{className:"w-12 h-12 text-red-500 mb-4"}),x.jsx("p",{className:"text-red-400 font-bold mb-4",children:_}),x.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-800 border border-gray-600 rounded-full hover:bg-gray-700 hover:border-amber-500 text-white flex items-center gap-2",children:[x.jsx(p0,{className:"w-4 h-4"}),"Reload Session"]})]}):x.jsxs(x.Fragment,{children:[x.jsx("video",{ref:Y,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover transform scale-x-[-1]"}),x.jsxs("div",{className:"absolute top-4 right-4 bg-black/60 backdrop-blur-md px-3 py-1 rounded-md text-xs font-mono text-gray-300 border border-gray-700 flex items-center gap-2",children:[x.jsx(iE,{className:"w-3 h-3 text-green-400"}),x.jsx("span",{children:"CAM: ON"}),x.jsx("span",{className:"w-px h-3 bg-gray-600 mx-1"}),x.jsx(g0,{className:"w-3 h-3 text-green-400"}),x.jsx("span",{children:"MIC: ACTIVE"})]}),x.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gray-800",children:x.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000 ease-linear",style:{width:`${Tt}%`}})})]})})]}),x.jsx("div",{className:"mt-6 flex justify-end",children:x.jsxs("button",{onClick:mt,disabled:!y,className:"group flex items-center space-x-3 bg-amber-600 hover:bg-amber-500 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-black px-8 py-3 rounded-full font-bold transition-all transform hover:scale-105 shadow-[0_0_15px_rgba(245,158,11,0.4)]",children:[x.jsx("span",{children:"FINISH & NEXT"}),x.jsx(bf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})},h0=({nextSessionName:l,onContinue:n})=>x.jsxs("div",{className:"flex flex-col h-full items-center justify-center text-center p-8",children:[x.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mb-6 animate-pulse",children:x.jsx(j1,{className:"w-12 h-12 text-amber-500"})}),x.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:"Session Complete"}),x.jsx("p",{className:"text-gray-400 text-lg mb-12",children:"Take a breath. The next session is ready when you are."}),x.jsxs("div",{className:"bg-gray-900/80 border border-gray-700 p-8 rounded-xl max-w-lg w-full mb-12",children:[x.jsx("p",{className:"text-gray-500 text-sm uppercase tracking-widest mb-2",children:"Up Next"}),x.jsx("h3",{className:"text-2xl font-bold text-amber-500",children:l})]}),x.jsxs("button",{onClick:n,className:"group flex items-center space-x-3 bg-white text-black px-10 py-4 rounded-full font-bold hover:bg-gray-200 transition-all",children:[x.jsx("span",{children:"CONTINUE TO NEXT SESSION"}),x.jsx(bf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),eA=({user:l,recordings:n})=>x.jsxs("div",{className:"flex flex-col h-full text-white",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-500/20 rounded-full mb-4",children:x.jsx(V1,{className:"w-10 h-10 text-green-500"})}),x.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Congratulations, ",l.fullName,"!"]}),x.jsx("p",{className:"text-gray-400",children:"You have successfully completed the Vocal Booth Examination."})]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8 flex-grow",children:[x.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-xl p-6",children:[x.jsxs("h3",{className:"text-xl font-bold text-amber-500 mb-6 flex items-center gap-2",children:[x.jsx(ty,{className:"w-5 h-5"}),"Download Recordings"]}),x.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Please download all three video files below. These files are stored temporarily in your session and will be lost if you refresh."}),x.jsx("div",{className:"space-y-4",children:n.map(a=>x.jsx("a",{href:a.url,download:a.filename,className:"block w-full bg-black/40 hover:bg-amber-900/20 border border-gray-700 hover:border-amber-500/50 p-4 rounded-lg transition-all group",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"font-bold text-white group-hover:text-amber-500 transition-colors",children:["Session 0",a.sessionId]}),x.jsx("p",{className:"text-xs text-gray-500",children:a.filename})]}),x.jsx(ty,{className:"w-5 h-5 text-gray-500 group-hover:text-amber-500"})]})},a.sessionId))})]}),x.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-xl p-6 flex flex-col justify-center",children:[x.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[x.jsx(I1,{className:"w-5 h-5 text-blue-400"}),"Submission Instructions"]}),x.jsxs("ol",{className:"space-y-6 text-gray-300 relative border-l border-gray-700 ml-3 pl-8",children:[x.jsxs("li",{className:"relative",children:[x.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"1"}),x.jsx("strong",{children:"Upload to Drive:"}),x.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload the 3 downloaded video files to your Google Drive or preferred cloud storage."})]}),x.jsxs("li",{className:"relative",children:[x.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"2"}),x.jsx("strong",{children:"Set Permissions:"}),x.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Ensure the folder or files are set to "Anyone with the link can view".'})]}),x.jsxs("li",{className:"relative",children:[x.jsx("span",{className:"absolute -left-[39px] w-6 h-6 bg-blue-900 rounded-full border-2 border-gray-900 flex items-center justify-center text-[10px] font-bold",children:"3"}),x.jsx("strong",{children:"Submit Link:"}),x.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Copy the shareable link and submit it as your weekly project assignment."})]})]}),x.jsx("div",{className:"mt-8 p-4 bg-blue-900/20 rounded-lg border border-blue-500/30 text-center",children:x.jsx("p",{className:"text-blue-300 text-sm font-semibold",children:"Great job! See you in the next evaluation."})})]})]})]});var Rt=(l=>(l.LOGIN="LOGIN",l.DASHBOARD="DASHBOARD",l.SESSION_1="SESSION_1",l.BREAK_1="BREAK_1",l.SESSION_2="SESSION_2",l.BREAK_2="BREAK_2",l.SESSION_3="SESSION_3",l.COMPLETION="COMPLETION",l))(Rt||{});const nA=()=>{const[l,n]=It.useState(null),[a,r]=It.useState(Rt.LOGIN),[o,f]=It.useState([]),d=S=>{n({fullName:S,docId:S}),r(Rt.DASHBOARD)},y=()=>{r(Rt.SESSION_1)},v=(S,N)=>{if(!l)return;const j=URL.createObjectURL(S),Y=`${l.fullName.replace(/\s+/g,"_")}_Session_${N}.webm`,tt={sessionId:N,blob:S,url:j,filename:Y};f(Z=>[...Z.filter(ut=>ut.sessionId!==N),tt]),N===1?r(Rt.BREAK_1):N===2?r(Rt.BREAK_2):N===3&&r(Rt.COMPLETION)},_=(S,N,j)=>{const Y=[Rt.DASHBOARD,Rt.SESSION_1,Rt.BREAK_1,Rt.SESSION_2,Rt.BREAK_2,Rt.SESSION_3,Rt.COMPLETION],tt=Y.indexOf(S);let Z=-1;j===1&&(Z=Y.indexOf(Rt.SESSION_1)),j===2&&(Z=Y.indexOf(Rt.SESSION_2)),j===3&&(Z=Y.indexOf(Rt.SESSION_3));const J=S===(j===1?Rt.SESSION_1:j===2?Rt.SESSION_2:Rt.SESSION_3),ut=tt>Z;let mt="flex items-center justify-between p-4 rounded-lg border transition-all ";return J?mt+"bg-amber-600 border-amber-500 text-black font-bold shadow-lg scale-105":ut?mt+"bg-green-900/30 border-green-500/50 text-green-400":mt+"bg-gray-900 border-gray-800 text-gray-600 opacity-60"};return a===Rt.LOGIN?x.jsx(Wb,{onLogin:d}):x.jsxs("div",{className:"flex h-screen bg-neutral-950 text-white overflow-hidden font-sans selection:bg-amber-500 selection:text-black",children:[x.jsxs("div",{className:"w-80 bg-black border-r border-gray-800 flex flex-col p-6 hidden md:flex z-20 shadow-2xl",children:[x.jsxs("div",{className:"mb-10 flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg flex items-center justify-center",children:x.jsx(Z1,{className:"text-black w-6 h-6"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"font-bold text-lg tracking-tight",children:"VOCAL BOOTH"}),x.jsx("p",{className:"text-xs text-gray-500",children:"EXAM SESSION"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:_(a,Rt.SESSION_1,1),children:[x.jsx("span",{children:"Session 01"}),a===Rt.SESSION_1?x.jsx(cf,{className:"w-4 h-4"}):a===Rt.BREAK_1||o.find(S=>S.sessionId===1)?x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):x.jsx(hf,{className:"w-4 h-4"})]}),x.jsxs("div",{className:_(a,Rt.SESSION_2,2),children:[x.jsx("span",{children:"Session 02"}),a===Rt.SESSION_2?x.jsx(cf,{className:"w-4 h-4"}):a===Rt.BREAK_2||o.find(S=>S.sessionId===2)?x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):x.jsx(hf,{className:"w-4 h-4"})]}),x.jsxs("div",{className:_(a,Rt.SESSION_3,3),children:[x.jsx("span",{children:"Session 03"}),a===Rt.SESSION_3?x.jsx(cf,{className:"w-4 h-4"}):a===Rt.COMPLETION||o.find(S=>S.sessionId===3)?x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):x.jsx(hf,{className:"w-4 h-4"})]})]}),x.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-900",children:[x.jsx("p",{className:"text-gray-500 text-xs",children:"Logged in as"}),x.jsx("p",{className:"text-amber-500 font-bold truncate",children:l==null?void 0:l.fullName})]})]}),x.jsxs("main",{className:"flex-1 p-4 md:p-8 relative overflow-y-auto",children:[x.jsxs("div",{className:"md:hidden flex justify-between items-center mb-6",children:[x.jsx("span",{className:"font-bold text-amber-500",children:"VOCAL BOOTH"}),x.jsx("div",{className:"text-xs bg-gray-800 px-2 py-1 rounded",children:a.replace("_"," ")})]}),x.jsxs("div",{className:"max-w-6xl mx-auto h-full",children:[a===Rt.DASHBOARD&&l&&x.jsx(tA,{user:l,onStart:y}),a===Rt.SESSION_1&&l&&x.jsx(Sf,{user:l,sessionNumber:1,title:"Tongue Twister (American Accent)",textContent:x.jsxs("p",{children:['"Betty Botter bought some butter,',x.jsx("br",{}),"but she said 'This butter's bitter.'",x.jsx("br",{}),"'If I put it in my batter,",x.jsx("br",{}),"it will make my batter bitter.'",x.jsx("br",{}),"So she bought some better butter,",x.jsx("br",{}),'better than the bitter butter."']}),onComplete:S=>v(S,1)}),a===Rt.BREAK_1&&x.jsx(h0,{nextSessionName:"Phonetic Transcription (IPA)",onContinue:()=>r(Rt.SESSION_2)}),a===Rt.SESSION_2&&l&&x.jsx(Sf,{user:l,sessionNumber:2,title:"Phonetic Transcription (American IPA)",textContent:x.jsx("p",{className:"font-mono text-amber-200",children:"/ nr wnd n  sn wr dspjut wt wz  strr, wn  trvlr kem l rpt n  wrm klok./"}),onComplete:S=>v(S,2)}),a===Rt.BREAK_2&&x.jsx(h0,{nextSessionName:"Original Text Reading",onContinue:()=>r(Rt.SESSION_3)}),a===Rt.SESSION_3&&l&&x.jsx(Sf,{user:l,sessionNumber:3,title:"Original Text Reading",textContent:x.jsx("p",{children:'"The North Wind and the Sun were disputing which was the stronger, when a traveler came along wrapped in a warm cloak."'}),onComplete:S=>v(S,3)}),a===Rt.COMPLETION&&l&&x.jsx(eA,{user:l,recordings:o})]})]})]})},I_=document.getElementById("root");if(!I_)throw new Error("Could not find root element to mount to");const iA=S1.createRoot(I_);iA.render(x.jsx(m1.StrictMode,{children:x.jsx(nA,{})}));
